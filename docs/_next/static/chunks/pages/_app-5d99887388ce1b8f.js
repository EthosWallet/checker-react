(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{2578:function(__unused_webpack_module,exports){"use strict";function number(n){if(!Number.isSafeInteger(n)||n<0)throw Error(`Wrong positive integer: ${n}`)}function bool(b){if("boolean"!=typeof b)throw Error(`Expected boolean, not ${b}`)}function bytes(b,...lengths){if(!(b instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(lengths.length>0&&!lengths.includes(b.length))throw TypeError(`Expected Uint8Array of length ${lengths}, not of length=${b.length}`)}function hash(hash){if("function"!=typeof hash||"function"!=typeof hash.create)throw Error("Hash should be wrapped by utils.wrapConstructor");number(hash.outputLen),number(hash.blockLen)}function exists(instance,checkFinished=!0){if(instance.destroyed)throw Error("Hash instance has been destroyed");if(checkFinished&&instance.finished)throw Error("Hash#digest() has already been called")}function output(out,instance){bytes(out);let min=instance.outputLen;if(out.length<min)throw Error(`digestInto() expects output buffer of length at least ${min}`)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.output=exports.exists=exports.hash=exports.bytes=exports.bool=exports.number=void 0,exports.number=number,exports.bool=bool,exports.bytes=bytes,exports.hash=hash,exports.exists=exists,exports.output=output,exports.default={number,bool,bytes,hash,exists,output}},5231:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SHA2=void 0;let _assert_js_1=__webpack_require__(2578),utils_js_1=__webpack_require__(9987);class SHA2 extends utils_js_1.Hash{constructor(blockLen,outputLen,padOffset,isLE){super(),this.blockLen=blockLen,this.outputLen=outputLen,this.padOffset=padOffset,this.isLE=isLE,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(blockLen),this.view=(0,utils_js_1.createView)(this.buffer)}update(data){_assert_js_1.default.exists(this);let{view,buffer,blockLen}=this;data=(0,utils_js_1.toBytes)(data);let len=data.length;for(let pos=0;pos<len;){let take=Math.min(blockLen-this.pos,len-pos);if(take===blockLen){let dataView=(0,utils_js_1.createView)(data);for(;blockLen<=len-pos;pos+=blockLen)this.process(dataView,pos);continue}buffer.set(data.subarray(pos,pos+take),this.pos),this.pos+=take,pos+=take,this.pos===blockLen&&(this.process(view,0),this.pos=0)}return this.length+=data.length,this.roundClean(),this}digestInto(out){_assert_js_1.default.exists(this),_assert_js_1.default.output(out,this),this.finished=!0;let{buffer,view,blockLen,isLE}=this,{pos}=this;buffer[pos++]=128,this.buffer.subarray(pos).fill(0),this.padOffset>blockLen-pos&&(this.process(view,0),pos=0);for(let i=pos;i<blockLen;i++)buffer[i]=0;!function(view,byteOffset,value,isLE){if("function"==typeof view.setBigUint64)return view.setBigUint64(byteOffset,value,isLE);let _32n=BigInt(32),_u32_max=BigInt(4294967295),wh=Number(value>>_32n&_u32_max),wl=Number(value&_u32_max);view.setUint32(byteOffset+(isLE?4:0),wh,isLE),view.setUint32(byteOffset+(isLE?0:4),wl,isLE)}(view,blockLen-8,BigInt(8*this.length),isLE),this.process(view,0);let oview=(0,utils_js_1.createView)(out);this.get().forEach((v,i)=>oview.setUint32(4*i,v,isLE))}digest(){let{buffer,outputLen}=this;this.digestInto(buffer);let res=buffer.slice(0,outputLen);return this.destroy(),res}_cloneInto(to){to||(to=new this.constructor),to.set(...this.get());let{blockLen,buffer,length,finished,destroyed,pos}=this;return to.length=length,to.pos=pos,to.finished=finished,to.destroyed=destroyed,length%blockLen&&to.buffer.set(buffer),to}}exports.SHA2=SHA2},9545:function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.add=exports.toBig=exports.split=exports.fromBig=void 0;let U32_MASK64=BigInt(4294967296-1),_32n=BigInt(32);function fromBig(n,le=!1){return le?{h:Number(n&U32_MASK64),l:Number(n>>_32n&U32_MASK64)}:{h:0|Number(n>>_32n&U32_MASK64),l:0|Number(n&U32_MASK64)}}function split(lst,le=!1){let Ah=new Uint32Array(lst.length),Al=new Uint32Array(lst.length);for(let i=0;i<lst.length;i++){let{h,l}=fromBig(lst[i],le);[Ah[i],Al[i]]=[h,l]}return[Ah,Al]}exports.fromBig=fromBig,exports.split=split;let toBig=(h,l)=>BigInt(h>>>0)<<_32n|BigInt(l>>>0);function add(Ah,Al,Bh,Bl){let l=(Al>>>0)+(Bl>>>0);return{h:Ah+Bh+(l/4294967296|0)|0,l:0|l}}exports.toBig=toBig,exports.add=add;let u64={fromBig,split,toBig:exports.toBig,shrSH:(h,l,s)=>h>>>s,shrSL:(h,l,s)=>h<<32-s|l>>>s,rotrSH:(h,l,s)=>h>>>s|l<<32-s,rotrSL:(h,l,s)=>h<<32-s|l>>>s,rotrBH:(h,l,s)=>h<<64-s|l>>>s-32,rotrBL:(h,l,s)=>h>>>s-32|l<<64-s,rotr32H:(h,l)=>l,rotr32L:(h,l)=>h,rotlSH:(h,l,s)=>h<<s|l>>>32-s,rotlSL:(h,l,s)=>l<<s|h>>>32-s,rotlBH:(h,l,s)=>l<<s-32|h>>>64-s,rotlBL:(h,l,s)=>h<<s-32|l>>>64-s,add,add3L:(Al,Bl,Cl)=>(Al>>>0)+(Bl>>>0)+(Cl>>>0),add3H:(low,Ah,Bh,Ch)=>Ah+Bh+Ch+(low/4294967296|0)|0,add4L:(Al,Bl,Cl,Dl)=>(Al>>>0)+(Bl>>>0)+(Cl>>>0)+(Dl>>>0),add4H:(low,Ah,Bh,Ch,Dh)=>Ah+Bh+Ch+Dh+(low/4294967296|0)|0,add5H:(low,Ah,Bh,Ch,Dh,Eh)=>Ah+Bh+Ch+Dh+Eh+(low/4294967296|0)|0,add5L:(Al,Bl,Cl,Dl,El)=>(Al>>>0)+(Bl>>>0)+(Cl>>>0)+(Dl>>>0)+(El>>>0)};exports.default=u64},5308:function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.crypto=void 0,exports.crypto={node:void 0,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0}},3950:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hmac=void 0;let _assert_js_1=__webpack_require__(2578),utils_js_1=__webpack_require__(9987);class HMAC extends utils_js_1.Hash{constructor(hash,_key){super(),this.finished=!1,this.destroyed=!1,_assert_js_1.default.hash(hash);let key=(0,utils_js_1.toBytes)(_key);if(this.iHash=hash.create(),"function"!=typeof this.iHash.update)throw TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let blockLen=this.blockLen,pad=new Uint8Array(blockLen);pad.set(key.length>blockLen?hash.create().update(key).digest():key);for(let i=0;i<pad.length;i++)pad[i]^=54;this.iHash.update(pad),this.oHash=hash.create();for(let i1=0;i1<pad.length;i1++)pad[i1]^=106;this.oHash.update(pad),pad.fill(0)}update(buf){return _assert_js_1.default.exists(this),this.iHash.update(buf),this}digestInto(out){_assert_js_1.default.exists(this),_assert_js_1.default.bytes(out,this.outputLen),this.finished=!0,this.iHash.digestInto(out),this.oHash.update(out),this.oHash.digestInto(out),this.destroy()}digest(){let out=new Uint8Array(this.oHash.outputLen);return this.digestInto(out),out}_cloneInto(to){to||(to=Object.create(Object.getPrototypeOf(this),{}));let{oHash,iHash,finished,destroyed,blockLen,outputLen}=this;return to.finished=finished,to.destroyed=destroyed,to.blockLen=blockLen,to.outputLen=outputLen,to.oHash=oHash._cloneInto(to.oHash),to.iHash=iHash._cloneInto(to.iHash),to}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let hmac1=(hash,key,message)=>new HMAC(hash,key).update(message).digest();exports.hmac=hmac1,exports.hmac.create=(hash,key)=>new HMAC(hash,key)},1969:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pbkdf2Async=exports.pbkdf2=void 0;let _assert_js_1=__webpack_require__(2578),hmac_js_1=__webpack_require__(3950),utils_js_1=__webpack_require__(9987);function pbkdf2Init(hash,_password,_salt,_opts){_assert_js_1.default.hash(hash);let opts=(0,utils_js_1.checkOpts)({dkLen:32,asyncTick:10},_opts),{c,dkLen,asyncTick}=opts;if(_assert_js_1.default.number(c),_assert_js_1.default.number(dkLen),_assert_js_1.default.number(asyncTick),c<1)throw Error("PBKDF2: iterations (c) should be >= 1");let password=(0,utils_js_1.toBytes)(_password),salt=(0,utils_js_1.toBytes)(_salt),DK=new Uint8Array(dkLen),PRF=hmac_js_1.hmac.create(hash,password),PRFSalt=PRF._cloneInto().update(salt);return{c,dkLen,asyncTick,DK,PRF,PRFSalt}}function pbkdf2Output(PRF,PRFSalt,DK,prfW,u){return PRF.destroy(),PRFSalt.destroy(),prfW&&prfW.destroy(),u.fill(0),DK}async function pbkdf2Async(hash,password,salt,opts){let prfW;let{c,dkLen,asyncTick,DK,PRF,PRFSalt}=pbkdf2Init(hash,password,salt,opts),arr=new Uint8Array(4),view=(0,utils_js_1.createView)(arr),u=new Uint8Array(PRF.outputLen);for(let ti=1,pos=0;pos<dkLen;ti++,pos+=PRF.outputLen){let Ti=DK.subarray(pos,pos+PRF.outputLen);view.setInt32(0,ti,!1),(prfW=PRFSalt._cloneInto(prfW)).update(arr).digestInto(u),Ti.set(u.subarray(0,Ti.length)),await (0,utils_js_1.asyncLoop)(c-1,asyncTick,i=>{PRF._cloneInto(prfW).update(u).digestInto(u);for(let i1=0;i1<Ti.length;i1++)Ti[i1]^=u[i1]})}return pbkdf2Output(PRF,PRFSalt,DK,prfW,u)}exports.pbkdf2=function(hash,password,salt,opts){let prfW;let{c,dkLen,DK,PRF,PRFSalt}=pbkdf2Init(hash,password,salt,opts),arr=new Uint8Array(4),view=(0,utils_js_1.createView)(arr),u=new Uint8Array(PRF.outputLen);for(let ti=1,pos=0;pos<dkLen;ti++,pos+=PRF.outputLen){let Ti=DK.subarray(pos,pos+PRF.outputLen);view.setInt32(0,ti,!1),(prfW=PRFSalt._cloneInto(prfW)).update(arr).digestInto(u),Ti.set(u.subarray(0,Ti.length));for(let ui=1;ui<c;ui++){PRF._cloneInto(prfW).update(u).digestInto(u);for(let i=0;i<Ti.length;i++)Ti[i]^=u[i]}}return pbkdf2Output(PRF,PRFSalt,DK,prfW,u)},exports.pbkdf2Async=pbkdf2Async},4561:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sha256=void 0;let _sha2_js_1=__webpack_require__(5231),utils_js_1=__webpack_require__(9987),Chi=(a,b,c)=>a&b^~a&c,Maj=(a,b,c)=>a&b^a&c^b&c,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends _sha2_js_1.SHA2{constructor(){super(64,32,8,!1),this.A=0|IV[0],this.B=0|IV[1],this.C=0|IV[2],this.D=0|IV[3],this.E=0|IV[4],this.F=0|IV[5],this.G=0|IV[6],this.H=0|IV[7]}get(){let{A,B,C,D,E,F,G,H}=this;return[A,B,C,D,E,F,G,H]}set(A,B,C,D,E,F,G,H){this.A=0|A,this.B=0|B,this.C=0|C,this.D=0|D,this.E=0|E,this.F=0|F,this.G=0|G,this.H=0|H}process(view,offset){for(let i=0;i<16;i++,offset+=4)SHA256_W[i]=view.getUint32(offset,!1);for(let i1=16;i1<64;i1++){let W15=SHA256_W[i1-15],W2=SHA256_W[i1-2],s0=(0,utils_js_1.rotr)(W15,7)^(0,utils_js_1.rotr)(W15,18)^W15>>>3,s1=(0,utils_js_1.rotr)(W2,17)^(0,utils_js_1.rotr)(W2,19)^W2>>>10;SHA256_W[i1]=s1+SHA256_W[i1-7]+s0+SHA256_W[i1-16]|0}let{A,B,C,D,E,F,G,H}=this;for(let i2=0;i2<64;i2++){let sigma1=(0,utils_js_1.rotr)(E,6)^(0,utils_js_1.rotr)(E,11)^(0,utils_js_1.rotr)(E,25),T1=H+sigma1+Chi(E,F,G)+SHA256_K[i2]+SHA256_W[i2]|0,sigma0=(0,utils_js_1.rotr)(A,2)^(0,utils_js_1.rotr)(A,13)^(0,utils_js_1.rotr)(A,22),T2=sigma0+Maj(A,B,C)|0;H=G,G=F,F=E,E=D+T1|0,D=C,C=B,B=A,A=T1+T2|0}A=A+this.A|0,B=B+this.B|0,C=C+this.C|0,D=D+this.D|0,E=E+this.E|0,F=F+this.F|0,G=G+this.G|0,H=H+this.H|0,this.set(A,B,C,D,E,F,G,H)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}exports.sha256=(0,utils_js_1.wrapConstructor)(()=>new SHA256)},7453:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sha384=exports.sha512_256=exports.sha512=exports.SHA512=void 0;let _sha2_js_1=__webpack_require__(5231),_u64_js_1=__webpack_require__(9545),utils_js_1=__webpack_require__(9987),[SHA512_Kh,SHA512_Kl]=_u64_js_1.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends _sha2_js_1.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl}=this;return[Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl]}set(Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl){this.Ah=0|Ah,this.Al=0|Al,this.Bh=0|Bh,this.Bl=0|Bl,this.Ch=0|Ch,this.Cl=0|Cl,this.Dh=0|Dh,this.Dl=0|Dl,this.Eh=0|Eh,this.El=0|El,this.Fh=0|Fh,this.Fl=0|Fl,this.Gh=0|Gh,this.Gl=0|Gl,this.Hh=0|Hh,this.Hl=0|Hl}process(view,offset){for(let i=0;i<16;i++,offset+=4)SHA512_W_H[i]=view.getUint32(offset),SHA512_W_L[i]=view.getUint32(offset+=4);for(let i1=16;i1<80;i1++){let W15h=0|SHA512_W_H[i1-15],W15l=0|SHA512_W_L[i1-15],s0h=_u64_js_1.default.rotrSH(W15h,W15l,1)^_u64_js_1.default.rotrSH(W15h,W15l,8)^_u64_js_1.default.shrSH(W15h,W15l,7),s0l=_u64_js_1.default.rotrSL(W15h,W15l,1)^_u64_js_1.default.rotrSL(W15h,W15l,8)^_u64_js_1.default.shrSL(W15h,W15l,7),W2h=0|SHA512_W_H[i1-2],W2l=0|SHA512_W_L[i1-2],s1h=_u64_js_1.default.rotrSH(W2h,W2l,19)^_u64_js_1.default.rotrBH(W2h,W2l,61)^_u64_js_1.default.shrSH(W2h,W2l,6),s1l=_u64_js_1.default.rotrSL(W2h,W2l,19)^_u64_js_1.default.rotrBL(W2h,W2l,61)^_u64_js_1.default.shrSL(W2h,W2l,6),SUMl=_u64_js_1.default.add4L(s0l,s1l,SHA512_W_L[i1-7],SHA512_W_L[i1-16]),SUMh=_u64_js_1.default.add4H(SUMl,s0h,s1h,SHA512_W_H[i1-7],SHA512_W_H[i1-16]);SHA512_W_H[i1]=0|SUMh,SHA512_W_L[i1]=0|SUMl}let{Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl}=this;for(let i2=0;i2<80;i2++){let sigma1h=_u64_js_1.default.rotrSH(Eh,El,14)^_u64_js_1.default.rotrSH(Eh,El,18)^_u64_js_1.default.rotrBH(Eh,El,41),sigma1l=_u64_js_1.default.rotrSL(Eh,El,14)^_u64_js_1.default.rotrSL(Eh,El,18)^_u64_js_1.default.rotrBL(Eh,El,41),CHIh=Eh&Fh^~Eh&Gh,CHIl=El&Fl^~El&Gl,T1ll=_u64_js_1.default.add5L(Hl,sigma1l,CHIl,SHA512_Kl[i2],SHA512_W_L[i2]),T1h=_u64_js_1.default.add5H(T1ll,Hh,sigma1h,CHIh,SHA512_Kh[i2],SHA512_W_H[i2]),T1l=0|T1ll,sigma0h=_u64_js_1.default.rotrSH(Ah,Al,28)^_u64_js_1.default.rotrBH(Ah,Al,34)^_u64_js_1.default.rotrBH(Ah,Al,39),sigma0l=_u64_js_1.default.rotrSL(Ah,Al,28)^_u64_js_1.default.rotrBL(Ah,Al,34)^_u64_js_1.default.rotrBL(Ah,Al,39),MAJh=Ah&Bh^Ah&Ch^Bh&Ch,MAJl=Al&Bl^Al&Cl^Bl&Cl;Hh=0|Gh,Hl=0|Gl,Gh=0|Fh,Gl=0|Fl,Fh=0|Eh,Fl=0|El,({h:Eh,l:El}=_u64_js_1.default.add(0|Dh,0|Dl,0|T1h,0|T1l)),Dh=0|Ch,Dl=0|Cl,Ch=0|Bh,Cl=0|Bl,Bh=0|Ah,Bl=0|Al;let All=_u64_js_1.default.add3L(T1l,sigma0l,MAJl);Ah=_u64_js_1.default.add3H(All,T1h,sigma0h,MAJh),Al=0|All}({h:Ah,l:Al}=_u64_js_1.default.add(0|this.Ah,0|this.Al,0|Ah,0|Al)),({h:Bh,l:Bl}=_u64_js_1.default.add(0|this.Bh,0|this.Bl,0|Bh,0|Bl)),({h:Ch,l:Cl}=_u64_js_1.default.add(0|this.Ch,0|this.Cl,0|Ch,0|Cl)),({h:Dh,l:Dl}=_u64_js_1.default.add(0|this.Dh,0|this.Dl,0|Dh,0|Dl)),({h:Eh,l:El}=_u64_js_1.default.add(0|this.Eh,0|this.El,0|Eh,0|El)),({h:Fh,l:Fl}=_u64_js_1.default.add(0|this.Fh,0|this.Fl,0|Fh,0|Fl)),({h:Gh,l:Gl}=_u64_js_1.default.add(0|this.Gh,0|this.Gl,0|Gh,0|Gl)),({h:Hh,l:Hl}=_u64_js_1.default.add(0|this.Hh,0|this.Hl,0|Hh,0|Hl)),this.set(Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}exports.SHA512=SHA512;class SHA512_256 extends SHA512{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class SHA384 extends SHA512{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}exports.sha512=(0,utils_js_1.wrapConstructor)(()=>new SHA512),exports.sha512_256=(0,utils_js_1.wrapConstructor)(()=>new SHA512_256),exports.sha384=(0,utils_js_1.wrapConstructor)(()=>new SHA384)},9987:function(__unused_webpack_module,exports,__webpack_require__){"use strict";/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */ Object.defineProperty(exports,"__esModule",{value:!0}),exports.randomBytes=exports.wrapConstructorWithOpts=exports.wrapConstructor=exports.checkOpts=exports.Hash=exports.concatBytes=exports.toBytes=exports.utf8ToBytes=exports.asyncLoop=exports.nextTick=exports.hexToBytes=exports.bytesToHex=exports.isLE=exports.rotr=exports.createView=exports.u32=exports.u8=void 0;let crypto_1=__webpack_require__(5308),u8=arr=>new Uint8Array(arr.buffer,arr.byteOffset,arr.byteLength);exports.u8=u8;let u32=arr=>new Uint32Array(arr.buffer,arr.byteOffset,Math.floor(arr.byteLength/4));exports.u32=u32;let createView=arr=>new DataView(arr.buffer,arr.byteOffset,arr.byteLength);if(exports.createView=createView,exports.rotr=(word,shift)=>word<<32-shift|word>>>shift,exports.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!exports.isLE)throw Error("Non little-endian hardware is not supported");let hexes=Array.from({length:256},(v,i)=>i.toString(16).padStart(2,"0"));exports.bytesToHex=function(uint8a){if(!(uint8a instanceof Uint8Array))throw Error("Uint8Array expected");let hex="";for(let i=0;i<uint8a.length;i++)hex+=hexes[uint8a[i]];return hex},exports.hexToBytes=function(hex){if("string"!=typeof hex)throw TypeError("hexToBytes: expected string, got "+typeof hex);if(hex.length%2)throw Error("hexToBytes: received invalid unpadded hex");let array=new Uint8Array(hex.length/2);for(let i=0;i<array.length;i++){let j=2*i,hexByte=hex.slice(j,j+2),byte=Number.parseInt(hexByte,16);if(Number.isNaN(byte)||byte<0)throw Error("Invalid byte sequence");array[i]=byte}return array};let nextTick=async()=>{};async function asyncLoop(iters,tick,cb){let ts=Date.now();for(let i=0;i<iters;i++){cb(i);let diff=Date.now()-ts;diff>=0&&diff<tick||(await (0,exports.nextTick)(),ts+=diff)}}function utf8ToBytes(str){if("string"!=typeof str)throw TypeError(`utf8ToBytes expected string, got ${typeof str}`);return new TextEncoder().encode(str)}function toBytes(data){if("string"==typeof data&&(data=utf8ToBytes(data)),!(data instanceof Uint8Array))throw TypeError(`Expected input type is Uint8Array (got ${typeof data})`);return data}exports.nextTick=nextTick,exports.asyncLoop=asyncLoop,exports.utf8ToBytes=utf8ToBytes,exports.toBytes=toBytes,exports.concatBytes=function(...arrays){if(!arrays.every(a=>a instanceof Uint8Array))throw Error("Uint8Array list expected");if(1===arrays.length)return arrays[0];let length=arrays.reduce((a,arr)=>a+arr.length,0),result=new Uint8Array(length);for(let i=0,pad=0;i<arrays.length;i++){let arr=arrays[i];result.set(arr,pad),pad+=arr.length}return result},exports.Hash=class{clone(){return this._cloneInto()}};let isPlainObject=obj=>"[object Object]"===Object.prototype.toString.call(obj)&&obj.constructor===Object;exports.checkOpts=function(defaults,opts){if(void 0!==opts&&("object"!=typeof opts||!isPlainObject(opts)))throw TypeError("Options should be object or undefined");let merged=Object.assign(defaults,opts);return merged},exports.wrapConstructor=function(hashConstructor){let hashC=message=>hashConstructor().update(toBytes(message)).digest(),tmp=hashConstructor();return hashC.outputLen=tmp.outputLen,hashC.blockLen=tmp.blockLen,hashC.create=()=>hashConstructor(),hashC},exports.wrapConstructorWithOpts=function(hashCons){let hashC=(msg,opts)=>hashCons(opts).update(toBytes(msg)).digest(),tmp=hashCons({});return hashC.outputLen=tmp.outputLen,hashC.blockLen=tmp.blockLen,hashC.create=opts=>hashCons(opts),hashC},exports.randomBytes=function(bytesLength=32){if(crypto_1.crypto.web)return crypto_1.crypto.web.getRandomValues(new Uint8Array(bytesLength));if(crypto_1.crypto.node)return new Uint8Array(crypto_1.crypto.node.randomBytes(bytesLength).buffer);throw Error("The environment doesn't have randomBytes function")}},2963:function(__unused_webpack_module,exports){"use strict";function assertNumber(n){if(!Number.isSafeInteger(n))throw Error(`Wrong integer: ${n}`)}function chain(...args){let wrap=(a,b)=>c=>a(b(c)),encode=Array.from(args).reverse().reduce((acc,i)=>acc?wrap(acc,i.encode):i.encode,void 0),decode=args.reduce((acc,i)=>acc?wrap(acc,i.decode):i.decode,void 0);return{encode,decode}}function alphabet(alphabet){return{encode(digits){if(!Array.isArray(digits)||digits.length&&"number"!=typeof digits[0])throw Error("alphabet.encode input should be an array of numbers");return digits.map(i=>{if(assertNumber(i),i<0||i>=alphabet.length)throw Error(`Digit index outside alphabet: ${i} (alphabet: ${alphabet.length})`);return alphabet[i]})},decode(input){if(!Array.isArray(input)||input.length&&"string"!=typeof input[0])throw Error("alphabet.decode input should be array of strings");return input.map(letter=>{if("string"!=typeof letter)throw Error(`alphabet.decode: not string element=${letter}`);let index=alphabet.indexOf(letter);if(-1===index)throw Error(`Unknown letter: "${letter}". Allowed: ${alphabet}`);return index})}}}function join(separator=""){if("string"!=typeof separator)throw Error("join separator should be string");return{encode(from){if(!Array.isArray(from)||from.length&&"string"!=typeof from[0])throw Error("join.encode input should be array of strings");for(let i of from)if("string"!=typeof i)throw Error(`join.encode: non-string input=${i}`);return from.join(separator)},decode(to){if("string"!=typeof to)throw Error("join.decode input should be string");return to.split(separator)}}}function padding(bits,chr="="){if(assertNumber(bits),"string"!=typeof chr)throw Error("padding chr should be string");return{encode(data){if(!Array.isArray(data)||data.length&&"string"!=typeof data[0])throw Error("padding.encode input should be array of strings");for(let i of data)if("string"!=typeof i)throw Error(`padding.encode: non-string input=${i}`);for(;data.length*bits%8;)data.push(chr);return data},decode(input){if(!Array.isArray(input)||input.length&&"string"!=typeof input[0])throw Error("padding.encode input should be array of strings");for(let i of input)if("string"!=typeof i)throw Error(`padding.decode: non-string input=${i}`);let end=input.length;if(end*bits%8)throw Error("Invalid padding: string should have whole number of bytes");for(;end>0&&input[end-1]===chr;end--)if(!((end-1)*bits%8))throw Error("Invalid padding: string has too much padding");return input.slice(0,end)}}}function normalize(fn){if("function"!=typeof fn)throw Error("normalize fn should be function");return{encode:from=>from,decode:to=>fn(to)}}function convertRadix(data,from,to){if(from<2)throw Error(`convertRadix: wrong from=${from}, base cannot be less than 2`);if(to<2)throw Error(`convertRadix: wrong to=${to}, base cannot be less than 2`);if(!Array.isArray(data))throw Error("convertRadix: data should be array");if(!data.length)return[];let pos=0,res=[],digits=Array.from(data);for(digits.forEach(d=>{if(assertNumber(d),d<0||d>=from)throw Error(`Wrong integer: ${d}`)});;){let carry=0,done=!0;for(let i=pos;i<digits.length;i++){let digit=digits[i],digitBase=from*carry+digit;if(!Number.isSafeInteger(digitBase)||from*carry/from!==carry||digitBase-digit!=from*carry||(carry=digitBase%to,digits[i]=Math.floor(digitBase/to),!Number.isSafeInteger(digits[i])||digits[i]*to+carry!==digitBase))throw Error("convertRadix: carry overflow");done&&(digits[i]?done=!1:pos=i)}if(res.push(carry),done)break}for(let i1=0;i1<data.length-1&&0===data[i1];i1++)res.push(0);return res.reverse()}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */ Object.defineProperty(exports,"__esModule",{value:!0}),exports.bytes=exports.stringToBytes=exports.str=exports.bytesToString=exports.hex=exports.utf8=exports.bech32m=exports.bech32=exports.base58check=exports.base58xmr=exports.base58xrp=exports.base58flickr=exports.base58=exports.base64url=exports.base64=exports.base32crockford=exports.base32hex=exports.base32=exports.base16=exports.utils=exports.assertNumber=void 0,exports.assertNumber=assertNumber;let gcd=(a,b)=>b?gcd(b,a%b):a,radix2carry=(from,to)=>from+(to-gcd(from,to));function convertRadix2(data,from,to,padding){if(!Array.isArray(data))throw Error("convertRadix2: data should be array");if(from<=0||from>32)throw Error(`convertRadix2: wrong from=${from}`);if(to<=0||to>32)throw Error(`convertRadix2: wrong to=${to}`);if(radix2carry(from,to)>32)throw Error(`convertRadix2: carry overflow from=${from} to=${to} carryBits=${radix2carry(from,to)}`);let carry=0,pos=0,mask=2**to-1,res=[];for(let n of data){if(assertNumber(n),n>=2**from)throw Error(`convertRadix2: invalid data word=${n} from=${from}`);if(carry=carry<<from|n,pos+from>32)throw Error(`convertRadix2: carry overflow pos=${pos} from=${from}`);for(pos+=from;pos>=to;pos-=to)res.push((carry>>pos-to&mask)>>>0);carry&=2**pos-1}if(carry=carry<<to-pos&mask,!padding&&pos>=from)throw Error("Excess padding");if(!padding&&carry)throw Error(`Non-zero padding: ${carry}`);return padding&&pos>0&&res.push(carry>>>0),res}function radix(num){return assertNumber(num),{encode(bytes){if(!(bytes instanceof Uint8Array))throw Error("radix.encode input should be Uint8Array");return convertRadix(Array.from(bytes),256,num)},decode(digits){if(!Array.isArray(digits)||digits.length&&"number"!=typeof digits[0])throw Error("radix.decode input should be array of strings");return Uint8Array.from(convertRadix(digits,num,256))}}}function radix2(bits,revPadding=!1){if(assertNumber(bits),bits<=0||bits>32)throw Error("radix2: bits should be in (0..32]");if(radix2carry(8,bits)>32||radix2carry(bits,8)>32)throw Error("radix2: carry overflow");return{encode(bytes){if(!(bytes instanceof Uint8Array))throw Error("radix2.encode input should be Uint8Array");return convertRadix2(Array.from(bytes),8,bits,!revPadding)},decode(digits){if(!Array.isArray(digits)||digits.length&&"number"!=typeof digits[0])throw Error("radix2.decode input should be array of strings");return Uint8Array.from(convertRadix2(digits,bits,8,revPadding))}}}function unsafeWrapper(fn){if("function"!=typeof fn)throw Error("unsafeWrapper fn should be function");return function(...args){try{return fn.apply(null,args)}catch(e){}}}function checksum(len,fn){if(assertNumber(len),"function"!=typeof fn)throw Error("checksum fn should be function");return{encode(data){if(!(data instanceof Uint8Array))throw Error("checksum.encode: input should be Uint8Array");let checksum=fn(data).slice(0,len),res=new Uint8Array(data.length+len);return res.set(data),res.set(checksum,data.length),res},decode(data){if(!(data instanceof Uint8Array))throw Error("checksum.decode: input should be Uint8Array");let payload=data.slice(0,-len),newChecksum=fn(payload).slice(0,len),oldChecksum=data.slice(-len);for(let i=0;i<len;i++)if(newChecksum[i]!==oldChecksum[i])throw Error("Invalid checksum");return payload}}}exports.utils={alphabet,chain,checksum,radix,radix2,join,padding},exports.base16=chain(radix2(4),alphabet("0123456789ABCDEF"),join("")),exports.base32=chain(radix2(5),alphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),padding(5),join("")),exports.base32hex=chain(radix2(5),alphabet("0123456789ABCDEFGHIJKLMNOPQRSTUV"),padding(5),join("")),exports.base32crockford=chain(radix2(5),alphabet("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),join(""),normalize(s=>s.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),exports.base64=chain(radix2(6),alphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),padding(6),join("")),exports.base64url=chain(radix2(6),alphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),padding(6),join(""));let genBase58=abc=>chain(radix(58),alphabet(abc),join(""));exports.base58=genBase58("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),exports.base58flickr=genBase58("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),exports.base58xrp=genBase58("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");let XMR_BLOCK_LEN=[0,2,3,5,6,7,9,10,11];exports.base58xmr={encode(data){let res="";for(let i=0;i<data.length;i+=8){let block=data.subarray(i,i+8);res+=exports.base58.encode(block).padStart(XMR_BLOCK_LEN[block.length],"1")}return res},decode(str){let res=[];for(let i=0;i<str.length;i+=11){let slice=str.slice(i,i+11),blockLen=XMR_BLOCK_LEN.indexOf(slice.length),block=exports.base58.decode(slice);for(let j=0;j<block.length-blockLen;j++)if(0!==block[j])throw Error("base58xmr: wrong padding");res=res.concat(Array.from(block.slice(block.length-blockLen)))}return Uint8Array.from(res)}};let base58check=sha2561=>chain(checksum(4,data=>sha2561(sha2561(data))),exports.base58);exports.base58check=base58check;let BECH_ALPHABET=chain(alphabet("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),join("")),POLYMOD_GENERATORS=[996825010,642813549,513874426,1027748829,705979059];function bech32Polymod(pre){let b=pre>>25,chk=(33554431&pre)<<5;for(let i=0;i<POLYMOD_GENERATORS.length;i++)(b>>i&1)==1&&(chk^=POLYMOD_GENERATORS[i]);return chk}function bechChecksum(prefix,words,encodingConst=1){let len=prefix.length,chk=1;for(let i=0;i<len;i++){let c=prefix.charCodeAt(i);if(c<33||c>126)throw Error(`Invalid prefix (${prefix})`);chk=bech32Polymod(chk)^c>>5}chk=bech32Polymod(chk);for(let i1=0;i1<len;i1++)chk=bech32Polymod(chk)^31&prefix.charCodeAt(i1);for(let v of words)chk=bech32Polymod(chk)^v;for(let i2=0;i2<6;i2++)chk=bech32Polymod(chk);return chk^=encodingConst,BECH_ALPHABET.encode(convertRadix2([chk%1073741824],30,5,!1))}function genBech32(encoding){let ENCODING_CONST="bech32"===encoding?1:734539939,_words=radix2(5),fromWords=_words.decode,toWords=_words.encode,fromWordsUnsafe=unsafeWrapper(fromWords);function decode(str,limit=90){if("string"!=typeof str)throw Error(`bech32.decode input should be string, not ${typeof str}`);if(str.length<8||!1!==limit&&str.length>limit)throw TypeError(`Wrong string length: ${str.length} (${str}). Expected (8..${limit})`);let lowered=str.toLowerCase();if(str!==lowered&&str!==str.toUpperCase())throw Error("String must be lowercase or uppercase");str=lowered;let sepIndex=str.lastIndexOf("1");if(0===sepIndex||-1===sepIndex)throw Error('Letter "1" must be present between prefix and data only');let prefix=str.slice(0,sepIndex),_words=str.slice(sepIndex+1);if(_words.length<6)throw Error("Data must be at least 6 characters long");let words=BECH_ALPHABET.decode(_words).slice(0,-6),sum=bechChecksum(prefix,words,ENCODING_CONST);if(!_words.endsWith(sum))throw Error(`Invalid checksum in ${str}: expected "${sum}"`);return{prefix,words}}let decodeUnsafe=unsafeWrapper(decode);return{encode:function(prefix,words,limit=90){if("string"!=typeof prefix)throw Error(`bech32.encode prefix should be string, not ${typeof prefix}`);if(!Array.isArray(words)||words.length&&"number"!=typeof words[0])throw Error(`bech32.encode words should be array of numbers, not ${typeof words}`);let actualLength=prefix.length+7+words.length;if(!1!==limit&&actualLength>limit)throw TypeError(`Length ${actualLength} exceeds limit ${limit}`);return prefix=prefix.toLowerCase(),`${prefix}1${BECH_ALPHABET.encode(words)}${bechChecksum(prefix,words,ENCODING_CONST)}`},decode,decodeToBytes:function(str){let{prefix,words}=decode(str,!1);return{prefix,words,bytes:fromWords(words)}},decodeUnsafe,fromWords,fromWordsUnsafe,toWords}}exports.bech32=genBech32("bech32"),exports.bech32m=genBech32("bech32m"),exports.utf8={encode:data=>new TextDecoder().decode(data),decode:str=>new TextEncoder().encode(str)},exports.hex=chain(radix2(4),alphabet("0123456789abcdef"),join(""),normalize(s=>{if("string"!=typeof s||s.length%2)throw TypeError(`hex.decode: expected string, got ${typeof s} with length ${s.length}`);return s.toLowerCase()}));let CODERS={utf8:exports.utf8,hex:exports.hex,base16:exports.base16,base32:exports.base32,base64:exports.base64,base64url:exports.base64url,base58:exports.base58,base58xmr:exports.base58xmr},coderTypeError=`Invalid encoding type. Available types: ${Object.keys(CODERS).join(", ")}`,bytesToString=(type,bytes)=>{if("string"!=typeof type||!CODERS.hasOwnProperty(type))throw TypeError(coderTypeError);if(!(bytes instanceof Uint8Array))throw TypeError("bytesToString() expects Uint8Array");return CODERS[type].encode(bytes)};exports.bytesToString=bytesToString,exports.str=exports.bytesToString;let stringToBytes=(type,str)=>{if(!CODERS.hasOwnProperty(type))throw TypeError(coderTypeError);if("string"!=typeof str)throw TypeError("stringToBytes() expects string");return CODERS[type].decode(str)};exports.stringToBytes=stringToBytes,exports.bytes=exports.stringToBytes},5769:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(2578);/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */ let sha256_1=(__webpack_require__(1969),__webpack_require__(4561));__webpack_require__(7453),__webpack_require__(9987),__webpack_require__(2963)},7235:function(__unused_webpack_module,exports){"use strict";exports.byteLength=function(b64){var lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1];return(validLen+placeHoldersLen)*3/4-placeHoldersLen},exports.toByteArray=function(b64){var tmp,i,lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1],arr=new Arr((validLen+placeHoldersLen)*3/4-placeHoldersLen),curByte=0,len=placeHoldersLen>0?validLen-4:validLen;for(i=0;i<len;i+=4)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[curByte++]=tmp>>16&255,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp;return 2===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[curByte++]=255&tmp),1===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp),arr},exports.fromByteArray=function(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,parts=[],i=0,len2=len-extraBytes;i<len2;i+=16383)parts.push(function(uint8,start,end){for(var tmp,output=[],i=start;i<end;i+=3)output.push(lookup[(tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(255&uint8[i+2]))>>18&63]+lookup[tmp>>12&63]+lookup[tmp>>6&63]+lookup[63&tmp]);return output.join("")}(uint8,i,i+16383>len2?len2:i+16383));return 1===extraBytes?parts.push(lookup[(tmp=uint8[len-1])>>2]+lookup[tmp<<4&63]+"=="):2===extraBytes&&parts.push(lookup[(tmp=(uint8[len-2]<<8)+uint8[len-1])>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+"="),parts.join("")};for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function getLens(b64){var len=b64.length;if(len%4>0)throw Error("Invalid string. Length must be a multiple of 4");var validLen=b64.indexOf("=");-1===validLen&&(validLen=len);var placeHoldersLen=validLen===len?0:4-validLen%4;return[validLen,placeHoldersLen]}revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63},6820:function(module,__unused_webpack_exports,__webpack_require__){!function(module,exports){"use strict";function assert(val,msg){if(!val)throw Error(msg||"Assertion failed")}function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}function BN1(number,base,endian){if(BN1.isBN(number))return number;this.negative=0,this.words=null,this.length=0,this.red=null,null!==number&&(("le"===base||"be"===base)&&(endian=base,base=10),this._init(number||0,base||10,endian||"be"))}"object"==typeof module?module.exports=BN1:exports.BN=BN1,BN1.BN=BN1,BN1.wordSize=26;try{Buffer="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:__webpack_require__(5002).Buffer}catch(e){}function parseHex4Bits(string,index){var c=string.charCodeAt(index);return c>=48&&c<=57?c-48:c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:void assert(!1,"Invalid character in "+string)}function parseHexByte(string,lowerBound,index){var r=parseHex4Bits(string,index);return index-1>=lowerBound&&(r|=parseHex4Bits(string,index-1)<<4),r}function parseBase(str,start,end,mul){for(var r=0,b=0,len=Math.min(str.length,end),i=start;i<len;i++){var c=str.charCodeAt(i)-48;r*=mul,b=c>=49?c-49+10:c>=17?c-17+10:c,assert(c>=0&&b<mul,"Invalid character"),r+=b}return r}function move(dest,src){dest.words=src.words,dest.length=src.length,dest.negative=src.negative,dest.red=src.red}if(BN1.isBN=function(num){return num instanceof BN1||null!==num&&"object"==typeof num&&num.constructor.wordSize===BN1.wordSize&&Array.isArray(num.words)},BN1.max=function(left,right){return left.cmp(right)>0?left:right},BN1.min=function(left,right){return 0>left.cmp(right)?left:right},BN1.prototype._init=function(number,base,endian){if("number"==typeof number)return this._initNumber(number,base,endian);if("object"==typeof number)return this._initArray(number,base,endian);"hex"===base&&(base=16),assert(base===(0|base)&&base>=2&&base<=36);var start=0;"-"===(number=number.toString().replace(/\s+/g,""))[0]&&(start++,this.negative=1),start<number.length&&(16===base?this._parseHex(number,start,endian):(this._parseBase(number,base,start),"le"===endian&&this._initArray(this.toArray(),base,endian)))},BN1.prototype._initNumber=function(number,base,endian){number<0&&(this.negative=1,number=-number),number<67108864?(this.words=[67108863&number],this.length=1):number<4503599627370496?(this.words=[67108863&number,number/67108864&67108863],this.length=2):(assert(number<9007199254740992),this.words=[67108863&number,number/67108864&67108863,1],this.length=3),"le"===endian&&this._initArray(this.toArray(),base,endian)},BN1.prototype._initArray=function(number,base,endian){if(assert("number"==typeof number.length),number.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(number.length/3),this.words=Array(this.length);for(var j,w,i=0;i<this.length;i++)this.words[i]=0;var off=0;if("be"===endian)for(i=number.length-1,j=0;i>=0;i-=3)w=number[i]|number[i-1]<<8|number[i-2]<<16,this.words[j]|=w<<off&67108863,this.words[j+1]=w>>>26-off&67108863,(off+=24)>=26&&(off-=26,j++);else if("le"===endian)for(i=0,j=0;i<number.length;i+=3)w=number[i]|number[i+1]<<8|number[i+2]<<16,this.words[j]|=w<<off&67108863,this.words[j+1]=w>>>26-off&67108863,(off+=24)>=26&&(off-=26,j++);return this._strip()},BN1.prototype._parseHex=function(number,start,endian){this.length=Math.ceil((number.length-start)/6),this.words=Array(this.length);for(var w,i=0;i<this.length;i++)this.words[i]=0;var off=0,j=0;if("be"===endian)for(i=number.length-1;i>=start;i-=2)w=parseHexByte(number,start,i)<<off,this.words[j]|=67108863&w,off>=18?(off-=18,j+=1,this.words[j]|=w>>>26):off+=8;else for(i=(number.length-start)%2==0?start+1:start;i<number.length;i+=2)w=parseHexByte(number,start,i)<<off,this.words[j]|=67108863&w,off>=18?(off-=18,j+=1,this.words[j]|=w>>>26):off+=8;this._strip()},BN1.prototype._parseBase=function(number,base,start){this.words=[0],this.length=1;for(var limbLen=0,limbPow=1;limbPow<=67108863;limbPow*=base)limbLen++;limbLen--,limbPow=limbPow/base|0;for(var total=number.length-start,mod=total%limbLen,end=Math.min(total,total-mod)+start,word=0,i=start;i<end;i+=limbLen)word=parseBase(number,i,i+limbLen,base),this.imuln(limbPow),this.words[0]+word<67108864?this.words[0]+=word:this._iaddn(word);if(0!==mod){var pow=1;for(word=parseBase(number,i,number.length,base),i=0;i<mod;i++)pow*=base;this.imuln(pow),this.words[0]+word<67108864?this.words[0]+=word:this._iaddn(word)}this._strip()},BN1.prototype.copy=function(dest){dest.words=Array(this.length);for(var i=0;i<this.length;i++)dest.words[i]=this.words[i];dest.length=this.length,dest.negative=this.negative,dest.red=this.red},BN1.prototype._move=function(dest){move(dest,this)},BN1.prototype.clone=function(){var r=new BN1(null);return this.copy(r),r},BN1.prototype._expand=function(size){for(;this.length<size;)this.words[this.length++]=0;return this},BN1.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN1.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{BN1.prototype[Symbol.for("nodejs.util.inspect.custom")]=inspect}catch(e1){BN1.prototype.inspect=inspect}else BN1.prototype.inspect=inspect;function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Buffer,zeros=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],groupSizes=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],groupBases=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function smallMulTo(self1,num,out){out.negative=num.negative^self1.negative;var len=self1.length+num.length|0;out.length=len,len=len-1|0;var a=0|self1.words[0],b=0|num.words[0],r=a*b,lo=67108863&r,carry=r/67108864|0;out.words[0]=lo;for(var k=1;k<len;k++){for(var ncarry=carry>>>26,rword=67108863&carry,maxJ=Math.min(k,num.length-1),j=Math.max(0,k-self1.length+1);j<=maxJ;j++){var i=k-j|0;ncarry+=(r=(a=0|self1.words[i])*(b=0|num.words[j])+rword)/67108864|0,rword=67108863&r}out.words[k]=0|rword,carry=0|ncarry}return 0!==carry?out.words[k]=0|carry:out.length--,out._strip()}BN1.prototype.toString=function(base,padding){if(padding=0|padding||1,16===(base=base||10)||"hex"===base){out="";for(var out,off=0,carry=0,i=0;i<this.length;i++){var w=this.words[i],word=((w<<off|carry)&16777215).toString(16);carry=w>>>24-off&16777215,(off+=2)>=26&&(off-=26,i--),out=0!==carry||i!==this.length-1?zeros[6-word.length]+word+out:word+out}for(0!==carry&&(out=carry.toString(16)+out);out.length%padding!=0;)out="0"+out;return 0!==this.negative&&(out="-"+out),out}if(base===(0|base)&&base>=2&&base<=36){var groupSize=groupSizes[base],groupBase=groupBases[base];out="";var c=this.clone();for(c.negative=0;!c.isZero();){var r=c.modrn(groupBase).toString(base);out=(c=c.idivn(groupBase)).isZero()?r+out:zeros[groupSize-r.length]+r+out}for(this.isZero()&&(out="0"+out);out.length%padding!=0;)out="0"+out;return 0!==this.negative&&(out="-"+out),out}assert(!1,"Base should be between 2 and 36")},BN1.prototype.toNumber=function(){var ret=this.words[0];return 2===this.length?ret+=67108864*this.words[1]:3===this.length&&1===this.words[2]?ret+=4503599627370496+67108864*this.words[1]:this.length>2&&assert(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-ret:ret},BN1.prototype.toJSON=function(){return this.toString(16,2)},Buffer&&(BN1.prototype.toBuffer=function(endian,length){return this.toArrayLike(Buffer,endian,length)}),BN1.prototype.toArray=function(endian,length){return this.toArrayLike(Array,endian,length)},BN1.prototype.toArrayLike=function(ArrayType,endian,length){this._strip();var byteLength=this.byteLength(),reqLength=length||Math.max(1,byteLength);assert(byteLength<=reqLength,"byte array longer than desired length"),assert(reqLength>0,"Requested array length <= 0");var res=ArrayType.allocUnsafe?ArrayType.allocUnsafe(reqLength):new ArrayType(reqLength);return this["_toArrayLike"+("le"===endian?"LE":"BE")](res,byteLength),res},BN1.prototype._toArrayLikeLE=function(res,byteLength){for(var position=0,carry=0,i=0,shift=0;i<this.length;i++){var word=this.words[i]<<shift|carry;res[position++]=255&word,position<res.length&&(res[position++]=word>>8&255),position<res.length&&(res[position++]=word>>16&255),6===shift?(position<res.length&&(res[position++]=word>>24&255),carry=0,shift=0):(carry=word>>>24,shift+=2)}if(position<res.length)for(res[position++]=carry;position<res.length;)res[position++]=0},BN1.prototype._toArrayLikeBE=function(res,byteLength){for(var position=res.length-1,carry=0,i=0,shift=0;i<this.length;i++){var word=this.words[i]<<shift|carry;res[position--]=255&word,position>=0&&(res[position--]=word>>8&255),position>=0&&(res[position--]=word>>16&255),6===shift?(position>=0&&(res[position--]=word>>24&255),carry=0,shift=0):(carry=word>>>24,shift+=2)}if(position>=0)for(res[position--]=carry;position>=0;)res[position--]=0},Math.clz32?BN1.prototype._countBits=function(w){return 32-Math.clz32(w)}:BN1.prototype._countBits=function(w){var t=w,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},BN1.prototype._zeroBits=function(w){if(0===w)return 26;var t=w,r=0;return(8191&t)==0&&(r+=13,t>>>=13),(127&t)==0&&(r+=7,t>>>=7),(15&t)==0&&(r+=4,t>>>=4),(3&t)==0&&(r+=2,t>>>=2),(1&t)==0&&r++,r},BN1.prototype.bitLength=function(){var w=this.words[this.length-1],hi=this._countBits(w);return(this.length-1)*26+hi},BN1.prototype.zeroBits=function(){if(this.isZero())return 0;for(var r=0,i=0;i<this.length;i++){var b=this._zeroBits(this.words[i]);if(r+=b,26!==b)break}return r},BN1.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},BN1.prototype.toTwos=function(width){return 0!==this.negative?this.abs().inotn(width).iaddn(1):this.clone()},BN1.prototype.fromTwos=function(width){return this.testn(width-1)?this.notn(width).iaddn(1).ineg():this.clone()},BN1.prototype.isNeg=function(){return 0!==this.negative},BN1.prototype.neg=function(){return this.clone().ineg()},BN1.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},BN1.prototype.iuor=function(num){for(;this.length<num.length;)this.words[this.length++]=0;for(var i=0;i<num.length;i++)this.words[i]=this.words[i]|num.words[i];return this._strip()},BN1.prototype.ior=function(num){return assert((this.negative|num.negative)==0),this.iuor(num)},BN1.prototype.or=function(num){return this.length>num.length?this.clone().ior(num):num.clone().ior(this)},BN1.prototype.uor=function(num){return this.length>num.length?this.clone().iuor(num):num.clone().iuor(this)},BN1.prototype.iuand=function(num){var b;b=this.length>num.length?num:this;for(var i=0;i<b.length;i++)this.words[i]=this.words[i]&num.words[i];return this.length=b.length,this._strip()},BN1.prototype.iand=function(num){return assert((this.negative|num.negative)==0),this.iuand(num)},BN1.prototype.and=function(num){return this.length>num.length?this.clone().iand(num):num.clone().iand(this)},BN1.prototype.uand=function(num){return this.length>num.length?this.clone().iuand(num):num.clone().iuand(this)},BN1.prototype.iuxor=function(num){this.length>num.length?(a=this,b=num):(a=num,b=this);for(var a,b,i=0;i<b.length;i++)this.words[i]=a.words[i]^b.words[i];if(this!==a)for(;i<a.length;i++)this.words[i]=a.words[i];return this.length=a.length,this._strip()},BN1.prototype.ixor=function(num){return assert((this.negative|num.negative)==0),this.iuxor(num)},BN1.prototype.xor=function(num){return this.length>num.length?this.clone().ixor(num):num.clone().ixor(this)},BN1.prototype.uxor=function(num){return this.length>num.length?this.clone().iuxor(num):num.clone().iuxor(this)},BN1.prototype.inotn=function(width){assert("number"==typeof width&&width>=0);var bytesNeeded=0|Math.ceil(width/26),bitsLeft=width%26;this._expand(bytesNeeded),bitsLeft>0&&bytesNeeded--;for(var i=0;i<bytesNeeded;i++)this.words[i]=67108863&~this.words[i];return bitsLeft>0&&(this.words[i]=~this.words[i]&67108863>>26-bitsLeft),this._strip()},BN1.prototype.notn=function(width){return this.clone().inotn(width)},BN1.prototype.setn=function(bit,val){assert("number"==typeof bit&&bit>=0);var off=bit/26|0,wbit=bit%26;return this._expand(off+1),val?this.words[off]=this.words[off]|1<<wbit:this.words[off]=this.words[off]&~(1<<wbit),this._strip()},BN1.prototype.iadd=function(num){if(0!==this.negative&&0===num.negative)return this.negative=0,r=this.isub(num),this.negative^=1,this._normSign();if(0===this.negative&&0!==num.negative)return num.negative=0,r=this.isub(num),num.negative=1,r._normSign();this.length>num.length?(a=this,b=num):(a=num,b=this);for(var r,a,b,carry=0,i=0;i<b.length;i++)r=(0|a.words[i])+(0|b.words[i])+carry,this.words[i]=67108863&r,carry=r>>>26;for(;0!==carry&&i<a.length;i++)r=(0|a.words[i])+carry,this.words[i]=67108863&r,carry=r>>>26;if(this.length=a.length,0!==carry)this.words[this.length]=carry,this.length++;else if(a!==this)for(;i<a.length;i++)this.words[i]=a.words[i];return this},BN1.prototype.add=function(num){var res;return 0!==num.negative&&0===this.negative?(num.negative=0,res=this.sub(num),num.negative^=1,res):0===num.negative&&0!==this.negative?(this.negative=0,res=num.sub(this),this.negative=1,res):this.length>num.length?this.clone().iadd(num):num.clone().iadd(this)},BN1.prototype.isub=function(num){if(0!==num.negative){num.negative=0;var a,b,r=this.iadd(num);return num.negative=1,r._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(num),this.negative=1,this._normSign();var cmp=this.cmp(num);if(0===cmp)return this.negative=0,this.length=1,this.words[0]=0,this;cmp>0?(a=this,b=num):(a=num,b=this);for(var carry=0,i=0;i<b.length;i++)carry=(r=(0|a.words[i])-(0|b.words[i])+carry)>>26,this.words[i]=67108863&r;for(;0!==carry&&i<a.length;i++)carry=(r=(0|a.words[i])+carry)>>26,this.words[i]=67108863&r;if(0===carry&&i<a.length&&a!==this)for(;i<a.length;i++)this.words[i]=a.words[i];return this.length=Math.max(this.length,i),a!==this&&(this.negative=1),this._strip()},BN1.prototype.sub=function(num){return this.clone().isub(num)};var comb10MulTo=function(self1,num,out){var lo,mid,hi,a=self1.words,b=num.words,o=out.words,c=0,a0=0|a[0],al0=8191&a0,ah0=a0>>>13,a1=0|a[1],al1=8191&a1,ah1=a1>>>13,a2=0|a[2],al2=8191&a2,ah2=a2>>>13,a3=0|a[3],al3=8191&a3,ah3=a3>>>13,a4=0|a[4],al4=8191&a4,ah4=a4>>>13,a5=0|a[5],al5=8191&a5,ah5=a5>>>13,a6=0|a[6],al6=8191&a6,ah6=a6>>>13,a7=0|a[7],al7=8191&a7,ah7=a7>>>13,a8=0|a[8],al8=8191&a8,ah8=a8>>>13,a9=0|a[9],al9=8191&a9,ah9=a9>>>13,b0=0|b[0],bl0=8191&b0,bh0=b0>>>13,b1=0|b[1],bl1=8191&b1,bh1=b1>>>13,b2=0|b[2],bl2=8191&b2,bh2=b2>>>13,b3=0|b[3],bl3=8191&b3,bh3=b3>>>13,b4=0|b[4],bl4=8191&b4,bh4=b4>>>13,b5=0|b[5],bl5=8191&b5,bh5=b5>>>13,b6=0|b[6],bl6=8191&b6,bh6=b6>>>13,b7=0|b[7],bl7=8191&b7,bh7=b7>>>13,b8=0|b[8],bl8=8191&b8,bh8=b8>>>13,b9=0|b[9],bl9=8191&b9,bh9=b9>>>13;out.negative=self1.negative^num.negative,out.length=19;var w0=(c+(lo=Math.imul(al0,bl0))|0)+((8191&(mid=(mid=Math.imul(al0,bh0))+Math.imul(ah0,bl0)|0))<<13)|0;c=((hi=Math.imul(ah0,bh0))+(mid>>>13)|0)+(w0>>>26)|0,w0&=67108863,lo=Math.imul(al1,bl0),mid=(mid=Math.imul(al1,bh0))+Math.imul(ah1,bl0)|0,hi=Math.imul(ah1,bh0);var w1=(c+(lo=lo+Math.imul(al0,bl1)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al0,bh1)|0)+Math.imul(ah0,bl1)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh1)|0)+(mid>>>13)|0)+(w1>>>26)|0,w1&=67108863,lo=Math.imul(al2,bl0),mid=(mid=Math.imul(al2,bh0))+Math.imul(ah2,bl0)|0,hi=Math.imul(ah2,bh0),lo=lo+Math.imul(al1,bl1)|0,mid=(mid=mid+Math.imul(al1,bh1)|0)+Math.imul(ah1,bl1)|0,hi=hi+Math.imul(ah1,bh1)|0;var w2=(c+(lo=lo+Math.imul(al0,bl2)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al0,bh2)|0)+Math.imul(ah0,bl2)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh2)|0)+(mid>>>13)|0)+(w2>>>26)|0,w2&=67108863,lo=Math.imul(al3,bl0),mid=(mid=Math.imul(al3,bh0))+Math.imul(ah3,bl0)|0,hi=Math.imul(ah3,bh0),lo=lo+Math.imul(al2,bl1)|0,mid=(mid=mid+Math.imul(al2,bh1)|0)+Math.imul(ah2,bl1)|0,hi=hi+Math.imul(ah2,bh1)|0,lo=lo+Math.imul(al1,bl2)|0,mid=(mid=mid+Math.imul(al1,bh2)|0)+Math.imul(ah1,bl2)|0,hi=hi+Math.imul(ah1,bh2)|0;var w3=(c+(lo=lo+Math.imul(al0,bl3)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al0,bh3)|0)+Math.imul(ah0,bl3)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh3)|0)+(mid>>>13)|0)+(w3>>>26)|0,w3&=67108863,lo=Math.imul(al4,bl0),mid=(mid=Math.imul(al4,bh0))+Math.imul(ah4,bl0)|0,hi=Math.imul(ah4,bh0),lo=lo+Math.imul(al3,bl1)|0,mid=(mid=mid+Math.imul(al3,bh1)|0)+Math.imul(ah3,bl1)|0,hi=hi+Math.imul(ah3,bh1)|0,lo=lo+Math.imul(al2,bl2)|0,mid=(mid=mid+Math.imul(al2,bh2)|0)+Math.imul(ah2,bl2)|0,hi=hi+Math.imul(ah2,bh2)|0,lo=lo+Math.imul(al1,bl3)|0,mid=(mid=mid+Math.imul(al1,bh3)|0)+Math.imul(ah1,bl3)|0,hi=hi+Math.imul(ah1,bh3)|0;var w4=(c+(lo=lo+Math.imul(al0,bl4)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al0,bh4)|0)+Math.imul(ah0,bl4)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh4)|0)+(mid>>>13)|0)+(w4>>>26)|0,w4&=67108863,lo=Math.imul(al5,bl0),mid=(mid=Math.imul(al5,bh0))+Math.imul(ah5,bl0)|0,hi=Math.imul(ah5,bh0),lo=lo+Math.imul(al4,bl1)|0,mid=(mid=mid+Math.imul(al4,bh1)|0)+Math.imul(ah4,bl1)|0,hi=hi+Math.imul(ah4,bh1)|0,lo=lo+Math.imul(al3,bl2)|0,mid=(mid=mid+Math.imul(al3,bh2)|0)+Math.imul(ah3,bl2)|0,hi=hi+Math.imul(ah3,bh2)|0,lo=lo+Math.imul(al2,bl3)|0,mid=(mid=mid+Math.imul(al2,bh3)|0)+Math.imul(ah2,bl3)|0,hi=hi+Math.imul(ah2,bh3)|0,lo=lo+Math.imul(al1,bl4)|0,mid=(mid=mid+Math.imul(al1,bh4)|0)+Math.imul(ah1,bl4)|0,hi=hi+Math.imul(ah1,bh4)|0;var w5=(c+(lo=lo+Math.imul(al0,bl5)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al0,bh5)|0)+Math.imul(ah0,bl5)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh5)|0)+(mid>>>13)|0)+(w5>>>26)|0,w5&=67108863,lo=Math.imul(al6,bl0),mid=(mid=Math.imul(al6,bh0))+Math.imul(ah6,bl0)|0,hi=Math.imul(ah6,bh0),lo=lo+Math.imul(al5,bl1)|0,mid=(mid=mid+Math.imul(al5,bh1)|0)+Math.imul(ah5,bl1)|0,hi=hi+Math.imul(ah5,bh1)|0,lo=lo+Math.imul(al4,bl2)|0,mid=(mid=mid+Math.imul(al4,bh2)|0)+Math.imul(ah4,bl2)|0,hi=hi+Math.imul(ah4,bh2)|0,lo=lo+Math.imul(al3,bl3)|0,mid=(mid=mid+Math.imul(al3,bh3)|0)+Math.imul(ah3,bl3)|0,hi=hi+Math.imul(ah3,bh3)|0,lo=lo+Math.imul(al2,bl4)|0,mid=(mid=mid+Math.imul(al2,bh4)|0)+Math.imul(ah2,bl4)|0,hi=hi+Math.imul(ah2,bh4)|0,lo=lo+Math.imul(al1,bl5)|0,mid=(mid=mid+Math.imul(al1,bh5)|0)+Math.imul(ah1,bl5)|0,hi=hi+Math.imul(ah1,bh5)|0;var w6=(c+(lo=lo+Math.imul(al0,bl6)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al0,bh6)|0)+Math.imul(ah0,bl6)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh6)|0)+(mid>>>13)|0)+(w6>>>26)|0,w6&=67108863,lo=Math.imul(al7,bl0),mid=(mid=Math.imul(al7,bh0))+Math.imul(ah7,bl0)|0,hi=Math.imul(ah7,bh0),lo=lo+Math.imul(al6,bl1)|0,mid=(mid=mid+Math.imul(al6,bh1)|0)+Math.imul(ah6,bl1)|0,hi=hi+Math.imul(ah6,bh1)|0,lo=lo+Math.imul(al5,bl2)|0,mid=(mid=mid+Math.imul(al5,bh2)|0)+Math.imul(ah5,bl2)|0,hi=hi+Math.imul(ah5,bh2)|0,lo=lo+Math.imul(al4,bl3)|0,mid=(mid=mid+Math.imul(al4,bh3)|0)+Math.imul(ah4,bl3)|0,hi=hi+Math.imul(ah4,bh3)|0,lo=lo+Math.imul(al3,bl4)|0,mid=(mid=mid+Math.imul(al3,bh4)|0)+Math.imul(ah3,bl4)|0,hi=hi+Math.imul(ah3,bh4)|0,lo=lo+Math.imul(al2,bl5)|0,mid=(mid=mid+Math.imul(al2,bh5)|0)+Math.imul(ah2,bl5)|0,hi=hi+Math.imul(ah2,bh5)|0,lo=lo+Math.imul(al1,bl6)|0,mid=(mid=mid+Math.imul(al1,bh6)|0)+Math.imul(ah1,bl6)|0,hi=hi+Math.imul(ah1,bh6)|0;var w7=(c+(lo=lo+Math.imul(al0,bl7)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al0,bh7)|0)+Math.imul(ah0,bl7)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh7)|0)+(mid>>>13)|0)+(w7>>>26)|0,w7&=67108863,lo=Math.imul(al8,bl0),mid=(mid=Math.imul(al8,bh0))+Math.imul(ah8,bl0)|0,hi=Math.imul(ah8,bh0),lo=lo+Math.imul(al7,bl1)|0,mid=(mid=mid+Math.imul(al7,bh1)|0)+Math.imul(ah7,bl1)|0,hi=hi+Math.imul(ah7,bh1)|0,lo=lo+Math.imul(al6,bl2)|0,mid=(mid=mid+Math.imul(al6,bh2)|0)+Math.imul(ah6,bl2)|0,hi=hi+Math.imul(ah6,bh2)|0,lo=lo+Math.imul(al5,bl3)|0,mid=(mid=mid+Math.imul(al5,bh3)|0)+Math.imul(ah5,bl3)|0,hi=hi+Math.imul(ah5,bh3)|0,lo=lo+Math.imul(al4,bl4)|0,mid=(mid=mid+Math.imul(al4,bh4)|0)+Math.imul(ah4,bl4)|0,hi=hi+Math.imul(ah4,bh4)|0,lo=lo+Math.imul(al3,bl5)|0,mid=(mid=mid+Math.imul(al3,bh5)|0)+Math.imul(ah3,bl5)|0,hi=hi+Math.imul(ah3,bh5)|0,lo=lo+Math.imul(al2,bl6)|0,mid=(mid=mid+Math.imul(al2,bh6)|0)+Math.imul(ah2,bl6)|0,hi=hi+Math.imul(ah2,bh6)|0,lo=lo+Math.imul(al1,bl7)|0,mid=(mid=mid+Math.imul(al1,bh7)|0)+Math.imul(ah1,bl7)|0,hi=hi+Math.imul(ah1,bh7)|0;var w8=(c+(lo=lo+Math.imul(al0,bl8)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al0,bh8)|0)+Math.imul(ah0,bl8)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh8)|0)+(mid>>>13)|0)+(w8>>>26)|0,w8&=67108863,lo=Math.imul(al9,bl0),mid=(mid=Math.imul(al9,bh0))+Math.imul(ah9,bl0)|0,hi=Math.imul(ah9,bh0),lo=lo+Math.imul(al8,bl1)|0,mid=(mid=mid+Math.imul(al8,bh1)|0)+Math.imul(ah8,bl1)|0,hi=hi+Math.imul(ah8,bh1)|0,lo=lo+Math.imul(al7,bl2)|0,mid=(mid=mid+Math.imul(al7,bh2)|0)+Math.imul(ah7,bl2)|0,hi=hi+Math.imul(ah7,bh2)|0,lo=lo+Math.imul(al6,bl3)|0,mid=(mid=mid+Math.imul(al6,bh3)|0)+Math.imul(ah6,bl3)|0,hi=hi+Math.imul(ah6,bh3)|0,lo=lo+Math.imul(al5,bl4)|0,mid=(mid=mid+Math.imul(al5,bh4)|0)+Math.imul(ah5,bl4)|0,hi=hi+Math.imul(ah5,bh4)|0,lo=lo+Math.imul(al4,bl5)|0,mid=(mid=mid+Math.imul(al4,bh5)|0)+Math.imul(ah4,bl5)|0,hi=hi+Math.imul(ah4,bh5)|0,lo=lo+Math.imul(al3,bl6)|0,mid=(mid=mid+Math.imul(al3,bh6)|0)+Math.imul(ah3,bl6)|0,hi=hi+Math.imul(ah3,bh6)|0,lo=lo+Math.imul(al2,bl7)|0,mid=(mid=mid+Math.imul(al2,bh7)|0)+Math.imul(ah2,bl7)|0,hi=hi+Math.imul(ah2,bh7)|0,lo=lo+Math.imul(al1,bl8)|0,mid=(mid=mid+Math.imul(al1,bh8)|0)+Math.imul(ah1,bl8)|0,hi=hi+Math.imul(ah1,bh8)|0;var w9=(c+(lo=lo+Math.imul(al0,bl9)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al0,bh9)|0)+Math.imul(ah0,bl9)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh9)|0)+(mid>>>13)|0)+(w9>>>26)|0,w9&=67108863,lo=Math.imul(al9,bl1),mid=(mid=Math.imul(al9,bh1))+Math.imul(ah9,bl1)|0,hi=Math.imul(ah9,bh1),lo=lo+Math.imul(al8,bl2)|0,mid=(mid=mid+Math.imul(al8,bh2)|0)+Math.imul(ah8,bl2)|0,hi=hi+Math.imul(ah8,bh2)|0,lo=lo+Math.imul(al7,bl3)|0,mid=(mid=mid+Math.imul(al7,bh3)|0)+Math.imul(ah7,bl3)|0,hi=hi+Math.imul(ah7,bh3)|0,lo=lo+Math.imul(al6,bl4)|0,mid=(mid=mid+Math.imul(al6,bh4)|0)+Math.imul(ah6,bl4)|0,hi=hi+Math.imul(ah6,bh4)|0,lo=lo+Math.imul(al5,bl5)|0,mid=(mid=mid+Math.imul(al5,bh5)|0)+Math.imul(ah5,bl5)|0,hi=hi+Math.imul(ah5,bh5)|0,lo=lo+Math.imul(al4,bl6)|0,mid=(mid=mid+Math.imul(al4,bh6)|0)+Math.imul(ah4,bl6)|0,hi=hi+Math.imul(ah4,bh6)|0,lo=lo+Math.imul(al3,bl7)|0,mid=(mid=mid+Math.imul(al3,bh7)|0)+Math.imul(ah3,bl7)|0,hi=hi+Math.imul(ah3,bh7)|0,lo=lo+Math.imul(al2,bl8)|0,mid=(mid=mid+Math.imul(al2,bh8)|0)+Math.imul(ah2,bl8)|0,hi=hi+Math.imul(ah2,bh8)|0;var w10=(c+(lo=lo+Math.imul(al1,bl9)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al1,bh9)|0)+Math.imul(ah1,bl9)|0))<<13)|0;c=((hi=hi+Math.imul(ah1,bh9)|0)+(mid>>>13)|0)+(w10>>>26)|0,w10&=67108863,lo=Math.imul(al9,bl2),mid=(mid=Math.imul(al9,bh2))+Math.imul(ah9,bl2)|0,hi=Math.imul(ah9,bh2),lo=lo+Math.imul(al8,bl3)|0,mid=(mid=mid+Math.imul(al8,bh3)|0)+Math.imul(ah8,bl3)|0,hi=hi+Math.imul(ah8,bh3)|0,lo=lo+Math.imul(al7,bl4)|0,mid=(mid=mid+Math.imul(al7,bh4)|0)+Math.imul(ah7,bl4)|0,hi=hi+Math.imul(ah7,bh4)|0,lo=lo+Math.imul(al6,bl5)|0,mid=(mid=mid+Math.imul(al6,bh5)|0)+Math.imul(ah6,bl5)|0,hi=hi+Math.imul(ah6,bh5)|0,lo=lo+Math.imul(al5,bl6)|0,mid=(mid=mid+Math.imul(al5,bh6)|0)+Math.imul(ah5,bl6)|0,hi=hi+Math.imul(ah5,bh6)|0,lo=lo+Math.imul(al4,bl7)|0,mid=(mid=mid+Math.imul(al4,bh7)|0)+Math.imul(ah4,bl7)|0,hi=hi+Math.imul(ah4,bh7)|0,lo=lo+Math.imul(al3,bl8)|0,mid=(mid=mid+Math.imul(al3,bh8)|0)+Math.imul(ah3,bl8)|0,hi=hi+Math.imul(ah3,bh8)|0;var w11=(c+(lo=lo+Math.imul(al2,bl9)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al2,bh9)|0)+Math.imul(ah2,bl9)|0))<<13)|0;c=((hi=hi+Math.imul(ah2,bh9)|0)+(mid>>>13)|0)+(w11>>>26)|0,w11&=67108863,lo=Math.imul(al9,bl3),mid=(mid=Math.imul(al9,bh3))+Math.imul(ah9,bl3)|0,hi=Math.imul(ah9,bh3),lo=lo+Math.imul(al8,bl4)|0,mid=(mid=mid+Math.imul(al8,bh4)|0)+Math.imul(ah8,bl4)|0,hi=hi+Math.imul(ah8,bh4)|0,lo=lo+Math.imul(al7,bl5)|0,mid=(mid=mid+Math.imul(al7,bh5)|0)+Math.imul(ah7,bl5)|0,hi=hi+Math.imul(ah7,bh5)|0,lo=lo+Math.imul(al6,bl6)|0,mid=(mid=mid+Math.imul(al6,bh6)|0)+Math.imul(ah6,bl6)|0,hi=hi+Math.imul(ah6,bh6)|0,lo=lo+Math.imul(al5,bl7)|0,mid=(mid=mid+Math.imul(al5,bh7)|0)+Math.imul(ah5,bl7)|0,hi=hi+Math.imul(ah5,bh7)|0,lo=lo+Math.imul(al4,bl8)|0,mid=(mid=mid+Math.imul(al4,bh8)|0)+Math.imul(ah4,bl8)|0,hi=hi+Math.imul(ah4,bh8)|0;var w12=(c+(lo=lo+Math.imul(al3,bl9)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al3,bh9)|0)+Math.imul(ah3,bl9)|0))<<13)|0;c=((hi=hi+Math.imul(ah3,bh9)|0)+(mid>>>13)|0)+(w12>>>26)|0,w12&=67108863,lo=Math.imul(al9,bl4),mid=(mid=Math.imul(al9,bh4))+Math.imul(ah9,bl4)|0,hi=Math.imul(ah9,bh4),lo=lo+Math.imul(al8,bl5)|0,mid=(mid=mid+Math.imul(al8,bh5)|0)+Math.imul(ah8,bl5)|0,hi=hi+Math.imul(ah8,bh5)|0,lo=lo+Math.imul(al7,bl6)|0,mid=(mid=mid+Math.imul(al7,bh6)|0)+Math.imul(ah7,bl6)|0,hi=hi+Math.imul(ah7,bh6)|0,lo=lo+Math.imul(al6,bl7)|0,mid=(mid=mid+Math.imul(al6,bh7)|0)+Math.imul(ah6,bl7)|0,hi=hi+Math.imul(ah6,bh7)|0,lo=lo+Math.imul(al5,bl8)|0,mid=(mid=mid+Math.imul(al5,bh8)|0)+Math.imul(ah5,bl8)|0,hi=hi+Math.imul(ah5,bh8)|0;var w13=(c+(lo=lo+Math.imul(al4,bl9)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al4,bh9)|0)+Math.imul(ah4,bl9)|0))<<13)|0;c=((hi=hi+Math.imul(ah4,bh9)|0)+(mid>>>13)|0)+(w13>>>26)|0,w13&=67108863,lo=Math.imul(al9,bl5),mid=(mid=Math.imul(al9,bh5))+Math.imul(ah9,bl5)|0,hi=Math.imul(ah9,bh5),lo=lo+Math.imul(al8,bl6)|0,mid=(mid=mid+Math.imul(al8,bh6)|0)+Math.imul(ah8,bl6)|0,hi=hi+Math.imul(ah8,bh6)|0,lo=lo+Math.imul(al7,bl7)|0,mid=(mid=mid+Math.imul(al7,bh7)|0)+Math.imul(ah7,bl7)|0,hi=hi+Math.imul(ah7,bh7)|0,lo=lo+Math.imul(al6,bl8)|0,mid=(mid=mid+Math.imul(al6,bh8)|0)+Math.imul(ah6,bl8)|0,hi=hi+Math.imul(ah6,bh8)|0;var w14=(c+(lo=lo+Math.imul(al5,bl9)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al5,bh9)|0)+Math.imul(ah5,bl9)|0))<<13)|0;c=((hi=hi+Math.imul(ah5,bh9)|0)+(mid>>>13)|0)+(w14>>>26)|0,w14&=67108863,lo=Math.imul(al9,bl6),mid=(mid=Math.imul(al9,bh6))+Math.imul(ah9,bl6)|0,hi=Math.imul(ah9,bh6),lo=lo+Math.imul(al8,bl7)|0,mid=(mid=mid+Math.imul(al8,bh7)|0)+Math.imul(ah8,bl7)|0,hi=hi+Math.imul(ah8,bh7)|0,lo=lo+Math.imul(al7,bl8)|0,mid=(mid=mid+Math.imul(al7,bh8)|0)+Math.imul(ah7,bl8)|0,hi=hi+Math.imul(ah7,bh8)|0;var w15=(c+(lo=lo+Math.imul(al6,bl9)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al6,bh9)|0)+Math.imul(ah6,bl9)|0))<<13)|0;c=((hi=hi+Math.imul(ah6,bh9)|0)+(mid>>>13)|0)+(w15>>>26)|0,w15&=67108863,lo=Math.imul(al9,bl7),mid=(mid=Math.imul(al9,bh7))+Math.imul(ah9,bl7)|0,hi=Math.imul(ah9,bh7),lo=lo+Math.imul(al8,bl8)|0,mid=(mid=mid+Math.imul(al8,bh8)|0)+Math.imul(ah8,bl8)|0,hi=hi+Math.imul(ah8,bh8)|0;var w16=(c+(lo=lo+Math.imul(al7,bl9)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al7,bh9)|0)+Math.imul(ah7,bl9)|0))<<13)|0;c=((hi=hi+Math.imul(ah7,bh9)|0)+(mid>>>13)|0)+(w16>>>26)|0,w16&=67108863,lo=Math.imul(al9,bl8),mid=(mid=Math.imul(al9,bh8))+Math.imul(ah9,bl8)|0,hi=Math.imul(ah9,bh8);var w17=(c+(lo=lo+Math.imul(al8,bl9)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al8,bh9)|0)+Math.imul(ah8,bl9)|0))<<13)|0;c=((hi=hi+Math.imul(ah8,bh9)|0)+(mid>>>13)|0)+(w17>>>26)|0,w17&=67108863;var w18=(c+(lo=Math.imul(al9,bl9))|0)+((8191&(mid=(mid=Math.imul(al9,bh9))+Math.imul(ah9,bl9)|0))<<13)|0;return c=((hi=Math.imul(ah9,bh9))+(mid>>>13)|0)+(w18>>>26)|0,w18&=67108863,o[0]=w0,o[1]=w1,o[2]=w2,o[3]=w3,o[4]=w4,o[5]=w5,o[6]=w6,o[7]=w7,o[8]=w8,o[9]=w9,o[10]=w10,o[11]=w11,o[12]=w12,o[13]=w13,o[14]=w14,o[15]=w15,o[16]=w16,o[17]=w17,o[18]=w18,0!==c&&(o[19]=c,out.length++),out};function bigMulTo(self1,num,out){out.negative=num.negative^self1.negative,out.length=self1.length+num.length;for(var carry=0,hncarry=0,k=0;k<out.length-1;k++){var ncarry=hncarry;hncarry=0;for(var rword=67108863&carry,maxJ=Math.min(k,num.length-1),j=Math.max(0,k-self1.length+1);j<=maxJ;j++){var i=k-j,r=(0|self1.words[i])*(0|num.words[j]),lo=67108863&r;ncarry=ncarry+(r/67108864|0)|0,rword=67108863&(lo=lo+rword|0),hncarry+=(ncarry=ncarry+(lo>>>26)|0)>>>26,ncarry&=67108863}out.words[k]=rword,carry=ncarry,ncarry=hncarry}return 0!==carry?out.words[k]=carry:out.length--,out._strip()}function FFTM(x,y){this.x=x,this.y=y}Math.imul||(comb10MulTo=smallMulTo),BN1.prototype.mulTo=function(num,out){var res,len=this.length+num.length;return 10===this.length&&10===num.length?comb10MulTo(this,num,out):len<63?smallMulTo(this,num,out):bigMulTo(this,num,out)},FFTM.prototype.makeRBT=function(N){for(var t=Array(N),l=BN1.prototype._countBits(N)-1,i=0;i<N;i++)t[i]=this.revBin(i,l,N);return t},FFTM.prototype.revBin=function(x,l,N){if(0===x||x===N-1)return x;for(var rb=0,i=0;i<l;i++)rb|=(1&x)<<l-i-1,x>>=1;return rb},FFTM.prototype.permute=function(rbt,rws,iws,rtws,itws,N){for(var i=0;i<N;i++)rtws[i]=rws[rbt[i]],itws[i]=iws[rbt[i]]},FFTM.prototype.transform=function(rws,iws,rtws,itws,N,rbt){this.permute(rbt,rws,iws,rtws,itws,N);for(var s=1;s<N;s<<=1)for(var l=s<<1,rtwdf=Math.cos(2*Math.PI/l),itwdf=Math.sin(2*Math.PI/l),p=0;p<N;p+=l)for(var rtwdf_=rtwdf,itwdf_=itwdf,j=0;j<s;j++){var re=rtws[p+j],ie=itws[p+j],ro=rtws[p+j+s],io=itws[p+j+s],rx=rtwdf_*ro-itwdf_*io;io=rtwdf_*io+itwdf_*ro,ro=rx,rtws[p+j]=re+ro,itws[p+j]=ie+io,rtws[p+j+s]=re-ro,itws[p+j+s]=ie-io,j!==l&&(rx=rtwdf*rtwdf_-itwdf*itwdf_,itwdf_=rtwdf*itwdf_+itwdf*rtwdf_,rtwdf_=rx)}},FFTM.prototype.guessLen13b=function(n,m){var N=1|Math.max(m,n),odd=1&N,i=0;for(N=N/2|0;N;N>>>=1)i++;return 1<<i+1+odd},FFTM.prototype.conjugate=function(rws,iws,N){if(!(N<=1))for(var i=0;i<N/2;i++){var t=rws[i];rws[i]=rws[N-i-1],rws[N-i-1]=t,t=iws[i],iws[i]=-iws[N-i-1],iws[N-i-1]=-t}},FFTM.prototype.normalize13b=function(ws,N){for(var carry=0,i=0;i<N/2;i++){var w=8192*Math.round(ws[2*i+1]/N)+Math.round(ws[2*i]/N)+carry;ws[i]=67108863&w,carry=w<67108864?0:w/67108864|0}return ws},FFTM.prototype.convert13b=function(ws,len,rws,N){for(var carry=0,i=0;i<len;i++)carry+=0|ws[i],rws[2*i]=8191&carry,carry>>>=13,rws[2*i+1]=8191&carry,carry>>>=13;for(i=2*len;i<N;++i)rws[i]=0;assert(0===carry),assert((-8192&carry)==0)},FFTM.prototype.stub=function(N){for(var ph=Array(N),i=0;i<N;i++)ph[i]=0;return ph},FFTM.prototype.mulp=function(x,y,out){var N=2*this.guessLen13b(x.length,y.length),rbt=this.makeRBT(N),_=this.stub(N),rws=Array(N),rwst=Array(N),iwst=Array(N),nrws=Array(N),nrwst=Array(N),niwst=Array(N),rmws=out.words;rmws.length=N,this.convert13b(x.words,x.length,rws,N),this.convert13b(y.words,y.length,nrws,N),this.transform(rws,_,rwst,iwst,N,rbt),this.transform(nrws,_,nrwst,niwst,N,rbt);for(var i=0;i<N;i++){var rx=rwst[i]*nrwst[i]-iwst[i]*niwst[i];iwst[i]=rwst[i]*niwst[i]+iwst[i]*nrwst[i],rwst[i]=rx}return this.conjugate(rwst,iwst,N),this.transform(rwst,iwst,rmws,_,N,rbt),this.conjugate(rmws,_,N),this.normalize13b(rmws,N),out.negative=x.negative^y.negative,out.length=x.length+y.length,out._strip()},BN1.prototype.mul=function(num){var out=new BN1(null);return out.words=Array(this.length+num.length),this.mulTo(num,out)},BN1.prototype.mulf=function(num){var out=new BN1(null);return out.words=Array(this.length+num.length),bigMulTo(this,num,out)},BN1.prototype.imul=function(num){return this.clone().mulTo(num,this)},BN1.prototype.imuln=function(num){var isNegNum=num<0;isNegNum&&(num=-num),assert("number"==typeof num),assert(num<67108864);for(var carry=0,i=0;i<this.length;i++){var w=(0|this.words[i])*num,lo=(67108863&w)+(67108863&carry);carry>>=26,carry=(w/67108864|0)+(lo>>>26),this.words[i]=67108863&lo}return 0!==carry&&(this.words[i]=carry,this.length++),isNegNum?this.ineg():this},BN1.prototype.muln=function(num){return this.clone().imuln(num)},BN1.prototype.sqr=function(){return this.mul(this)},BN1.prototype.isqr=function(){return this.imul(this.clone())},BN1.prototype.pow=function(num){var w=function(num){for(var w=Array(num.bitLength()),bit=0;bit<w.length;bit++){var off=bit/26|0,wbit=bit%26;w[bit]=num.words[off]>>>wbit&1}return w}(num);if(0===w.length)return new BN1(1);for(var res=this,i=0;i<w.length&&0===w[i];i++,res=res.sqr());if(++i<w.length)for(var q=res.sqr();i<w.length;i++,q=q.sqr())0!==w[i]&&(res=res.mul(q));return res},BN1.prototype.iushln=function(bits){assert("number"==typeof bits&&bits>=0);var i,r=bits%26,s=(bits-r)/26,carryMask=67108863>>>26-r<<26-r;if(0!==r){var carry=0;for(i=0;i<this.length;i++){var newCarry=this.words[i]&carryMask,c=(0|this.words[i])-newCarry<<r;this.words[i]=c|carry,carry=newCarry>>>26-r}carry&&(this.words[i]=carry,this.length++)}if(0!==s){for(i=this.length-1;i>=0;i--)this.words[i+s]=this.words[i];for(i=0;i<s;i++)this.words[i]=0;this.length+=s}return this._strip()},BN1.prototype.ishln=function(bits){return assert(0===this.negative),this.iushln(bits)},BN1.prototype.iushrn=function(bits,hint,extended){assert("number"==typeof bits&&bits>=0),h=hint?(hint-hint%26)/26:0;var h,r=bits%26,s=Math.min((bits-r)/26,this.length),mask=67108863^67108863>>>r<<r,maskedWords=extended;if(h-=s,h=Math.max(0,h),maskedWords){for(var i=0;i<s;i++)maskedWords.words[i]=this.words[i];maskedWords.length=s}if(0===s);else if(this.length>s)for(this.length-=s,i=0;i<this.length;i++)this.words[i]=this.words[i+s];else this.words[0]=0,this.length=1;var carry=0;for(i=this.length-1;i>=0&&(0!==carry||i>=h);i--){var word=0|this.words[i];this.words[i]=carry<<26-r|word>>>r,carry=word&mask}return maskedWords&&0!==carry&&(maskedWords.words[maskedWords.length++]=carry),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},BN1.prototype.ishrn=function(bits,hint,extended){return assert(0===this.negative),this.iushrn(bits,hint,extended)},BN1.prototype.shln=function(bits){return this.clone().ishln(bits)},BN1.prototype.ushln=function(bits){return this.clone().iushln(bits)},BN1.prototype.shrn=function(bits){return this.clone().ishrn(bits)},BN1.prototype.ushrn=function(bits){return this.clone().iushrn(bits)},BN1.prototype.testn=function(bit){assert("number"==typeof bit&&bit>=0);var r=bit%26,s=(bit-r)/26;return!(this.length<=s)&&!!(this.words[s]&1<<r)},BN1.prototype.imaskn=function(bits){assert("number"==typeof bits&&bits>=0);var r=bits%26,s=(bits-r)/26;return(assert(0===this.negative,"imaskn works only with positive numbers"),this.length<=s)?this:(0!==r&&s++,this.length=Math.min(s,this.length),0!==r&&(this.words[this.length-1]&=67108863^67108863>>>r<<r),this._strip())},BN1.prototype.maskn=function(bits){return this.clone().imaskn(bits)},BN1.prototype.iaddn=function(num){return(assert("number"==typeof num),assert(num<67108864),num<0)?this.isubn(-num):0!==this.negative?1===this.length&&(0|this.words[0])<=num?(this.words[0]=num-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(num),this.negative=1,this):this._iaddn(num)},BN1.prototype._iaddn=function(num){this.words[0]+=num;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},BN1.prototype.isubn=function(num){if(assert("number"==typeof num),assert(num<67108864),num<0)return this.iaddn(-num);if(0!==this.negative)return this.negative=0,this.iaddn(num),this.negative=1,this;if(this.words[0]-=num,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this._strip()},BN1.prototype.addn=function(num){return this.clone().iaddn(num)},BN1.prototype.subn=function(num){return this.clone().isubn(num)},BN1.prototype.iabs=function(){return this.negative=0,this},BN1.prototype.abs=function(){return this.clone().iabs()},BN1.prototype._ishlnsubmul=function(num,mul,shift){var i,w,len=num.length+shift;this._expand(len);var carry=0;for(i=0;i<num.length;i++){w=(0|this.words[i+shift])+carry;var right=(0|num.words[i])*mul;w-=67108863&right,carry=(w>>26)-(right/67108864|0),this.words[i+shift]=67108863&w}for(;i<this.length-shift;i++)carry=(w=(0|this.words[i+shift])+carry)>>26,this.words[i+shift]=67108863&w;if(0===carry)return this._strip();for(assert(-1===carry),carry=0,i=0;i<this.length;i++)carry=(w=-(0|this.words[i])+carry)>>26,this.words[i]=67108863&w;return this.negative=1,this._strip()},BN1.prototype._wordDiv=function(num,mode){var q,shift=this.length-num.length,a=this.clone(),b=num,bhi=0|b.words[b.length-1];0!=(shift=26-this._countBits(bhi))&&(b=b.ushln(shift),a.iushln(shift),bhi=0|b.words[b.length-1]);var m=a.length-b.length;if("mod"!==mode){(q=new BN1(null)).length=m+1,q.words=Array(q.length);for(var i=0;i<q.length;i++)q.words[i]=0}var diff=a.clone()._ishlnsubmul(b,1,m);0===diff.negative&&(a=diff,q&&(q.words[m]=1));for(var j=m-1;j>=0;j--){var qj=(0|a.words[b.length+j])*67108864+(0|a.words[b.length+j-1]);for(qj=Math.min(qj/bhi|0,67108863),a._ishlnsubmul(b,qj,j);0!==a.negative;)qj--,a.negative=0,a._ishlnsubmul(b,1,j),a.isZero()||(a.negative^=1);q&&(q.words[j]=qj)}return q&&q._strip(),a._strip(),"div"!==mode&&0!==shift&&a.iushrn(shift),{div:q||null,mod:a}},BN1.prototype.divmod=function(num,mode,positive){var div,mod,res;return(assert(!num.isZero()),this.isZero())?{div:new BN1(0),mod:new BN1(0)}:0!==this.negative&&0===num.negative?(res=this.neg().divmod(num,mode),"mod"!==mode&&(div=res.div.neg()),"div"!==mode&&(mod=res.mod.neg(),positive&&0!==mod.negative&&mod.iadd(num)),{div:div,mod:mod}):0===this.negative&&0!==num.negative?(res=this.divmod(num.neg(),mode),"mod"!==mode&&(div=res.div.neg()),{div:div,mod:res.mod}):(this.negative&num.negative)!=0?(res=this.neg().divmod(num.neg(),mode),"div"!==mode&&(mod=res.mod.neg(),positive&&0!==mod.negative&&mod.isub(num)),{div:res.div,mod:mod}):num.length>this.length||0>this.cmp(num)?{div:new BN1(0),mod:this}:1===num.length?"div"===mode?{div:this.divn(num.words[0]),mod:null}:"mod"===mode?{div:null,mod:new BN1(this.modrn(num.words[0]))}:{div:this.divn(num.words[0]),mod:new BN1(this.modrn(num.words[0]))}:this._wordDiv(num,mode)},BN1.prototype.div=function(num){return this.divmod(num,"div",!1).div},BN1.prototype.mod=function(num){return this.divmod(num,"mod",!1).mod},BN1.prototype.umod=function(num){return this.divmod(num,"mod",!0).mod},BN1.prototype.divRound=function(num){var dm=this.divmod(num);if(dm.mod.isZero())return dm.div;var mod=0!==dm.div.negative?dm.mod.isub(num):dm.mod,half=num.ushrn(1),r2=num.andln(1),cmp=mod.cmp(half);return cmp<0||1===r2&&0===cmp?dm.div:0!==dm.div.negative?dm.div.isubn(1):dm.div.iaddn(1)},BN1.prototype.modrn=function(num){var isNegNum=num<0;isNegNum&&(num=-num),assert(num<=67108863);for(var p=67108864%num,acc=0,i=this.length-1;i>=0;i--)acc=(p*acc+(0|this.words[i]))%num;return isNegNum?-acc:acc},BN1.prototype.modn=function(num){return this.modrn(num)},BN1.prototype.idivn=function(num){var isNegNum=num<0;isNegNum&&(num=-num),assert(num<=67108863);for(var carry=0,i=this.length-1;i>=0;i--){var w=(0|this.words[i])+67108864*carry;this.words[i]=w/num|0,carry=w%num}return this._strip(),isNegNum?this.ineg():this},BN1.prototype.divn=function(num){return this.clone().idivn(num)},BN1.prototype.egcd=function(p){assert(0===p.negative),assert(!p.isZero());var x=this,y=p.clone();x=0!==x.negative?x.umod(p):x.clone();for(var A=new BN1(1),B=new BN1(0),C=new BN1(0),D=new BN1(1),g=0;x.isEven()&&y.isEven();)x.iushrn(1),y.iushrn(1),++g;for(var yp=y.clone(),xp=x.clone();!x.isZero();){for(var i=0,im=1;(x.words[0]&im)==0&&i<26;++i,im<<=1);if(i>0)for(x.iushrn(i);i-- >0;)(A.isOdd()||B.isOdd())&&(A.iadd(yp),B.isub(xp)),A.iushrn(1),B.iushrn(1);for(var j=0,jm=1;(y.words[0]&jm)==0&&j<26;++j,jm<<=1);if(j>0)for(y.iushrn(j);j-- >0;)(C.isOdd()||D.isOdd())&&(C.iadd(yp),D.isub(xp)),C.iushrn(1),D.iushrn(1);x.cmp(y)>=0?(x.isub(y),A.isub(C),B.isub(D)):(y.isub(x),C.isub(A),D.isub(B))}return{a:C,b:D,gcd:y.iushln(g)}},BN1.prototype._invmp=function(p){assert(0===p.negative),assert(!p.isZero());var res,a=this,b=p.clone();a=0!==a.negative?a.umod(p):a.clone();for(var x1=new BN1(1),x2=new BN1(0),delta=b.clone();a.cmpn(1)>0&&b.cmpn(1)>0;){for(var i=0,im=1;(a.words[0]&im)==0&&i<26;++i,im<<=1);if(i>0)for(a.iushrn(i);i-- >0;)x1.isOdd()&&x1.iadd(delta),x1.iushrn(1);for(var j=0,jm=1;(b.words[0]&jm)==0&&j<26;++j,jm<<=1);if(j>0)for(b.iushrn(j);j-- >0;)x2.isOdd()&&x2.iadd(delta),x2.iushrn(1);a.cmp(b)>=0?(a.isub(b),x1.isub(x2)):(b.isub(a),x2.isub(x1))}return 0>(res=0===a.cmpn(1)?x1:x2).cmpn(0)&&res.iadd(p),res},BN1.prototype.gcd=function(num){if(this.isZero())return num.abs();if(num.isZero())return this.abs();var a=this.clone(),b=num.clone();a.negative=0,b.negative=0;for(var shift=0;a.isEven()&&b.isEven();shift++)a.iushrn(1),b.iushrn(1);for(;;){for(;a.isEven();)a.iushrn(1);for(;b.isEven();)b.iushrn(1);var r=a.cmp(b);if(r<0){var t=a;a=b,b=t}else if(0===r||0===b.cmpn(1))break;a.isub(b)}return b.iushln(shift)},BN1.prototype.invm=function(num){return this.egcd(num).a.umod(num)},BN1.prototype.isEven=function(){return(1&this.words[0])==0},BN1.prototype.isOdd=function(){return(1&this.words[0])==1},BN1.prototype.andln=function(num){return this.words[0]&num},BN1.prototype.bincn=function(bit){assert("number"==typeof bit);var r=bit%26,s=(bit-r)/26,q=1<<r;if(this.length<=s)return this._expand(s+1),this.words[s]|=q,this;for(var carry=q,i=s;0!==carry&&i<this.length;i++){var w=0|this.words[i];w+=carry,carry=w>>>26,w&=67108863,this.words[i]=w}return 0!==carry&&(this.words[i]=carry,this.length++),this},BN1.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},BN1.prototype.cmpn=function(num){var res,negative=num<0;if(0!==this.negative&&!negative)return -1;if(0===this.negative&&negative)return 1;if(this._strip(),this.length>1)res=1;else{negative&&(num=-num),assert(num<=67108863,"Number is too big");var w=0|this.words[0];res=w===num?0:w<num?-1:1}return 0!==this.negative?0|-res:res},BN1.prototype.cmp=function(num){if(0!==this.negative&&0===num.negative)return -1;if(0===this.negative&&0!==num.negative)return 1;var res=this.ucmp(num);return 0!==this.negative?0|-res:res},BN1.prototype.ucmp=function(num){if(this.length>num.length)return 1;if(this.length<num.length)return -1;for(var res=0,i=this.length-1;i>=0;i--){var a=0|this.words[i],b=0|num.words[i];if(a!==b){a<b?res=-1:a>b&&(res=1);break}}return res},BN1.prototype.gtn=function(num){return 1===this.cmpn(num)},BN1.prototype.gt=function(num){return 1===this.cmp(num)},BN1.prototype.gten=function(num){return this.cmpn(num)>=0},BN1.prototype.gte=function(num){return this.cmp(num)>=0},BN1.prototype.ltn=function(num){return -1===this.cmpn(num)},BN1.prototype.lt=function(num){return -1===this.cmp(num)},BN1.prototype.lten=function(num){return 0>=this.cmpn(num)},BN1.prototype.lte=function(num){return 0>=this.cmp(num)},BN1.prototype.eqn=function(num){return 0===this.cmpn(num)},BN1.prototype.eq=function(num){return 0===this.cmp(num)},BN1.red=function(num){return new Red(num)},BN1.prototype.toRed=function(ctx){return assert(!this.red,"Already a number in reduction context"),assert(0===this.negative,"red works only with positives"),ctx.convertTo(this)._forceRed(ctx)},BN1.prototype.fromRed=function(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN1.prototype._forceRed=function(ctx){return this.red=ctx,this},BN1.prototype.forceRed=function(ctx){return assert(!this.red,"Already a number in reduction context"),this._forceRed(ctx)},BN1.prototype.redAdd=function(num){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,num)},BN1.prototype.redIAdd=function(num){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,num)},BN1.prototype.redSub=function(num){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,num)},BN1.prototype.redISub=function(num){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,num)},BN1.prototype.redShl=function(num){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,num)},BN1.prototype.redMul=function(num){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,num),this.red.mul(this,num)},BN1.prototype.redIMul=function(num){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,num),this.red.imul(this,num)},BN1.prototype.redSqr=function(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN1.prototype.redISqr=function(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN1.prototype.redSqrt=function(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN1.prototype.redInvm=function(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN1.prototype.redNeg=function(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN1.prototype.redPow=function(num){return assert(this.red&&!num.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,num)};var primes={k256:null,p224:null,p192:null,p25519:null};function MPrime(name,p){this.name=name,this.p=new BN1(p,16),this.n=this.p.bitLength(),this.k=new BN1(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(m){if("string"==typeof m){var prime=BN1._prime(m);this.m=prime.p,this.prime=prime}else assert(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}function Mont(m){Red.call(this,m),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new BN1(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}MPrime.prototype._tmp=function(){var tmp=new BN1(null);return tmp.words=Array(Math.ceil(this.n/13)),tmp},MPrime.prototype.ireduce=function(num){var rlen,r=num;do this.split(r,this.tmp),rlen=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(rlen>this.n);var cmp=rlen<this.n?-1:r.ucmp(this.p);return 0===cmp?(r.words[0]=0,r.length=1):cmp>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},MPrime.prototype.split=function(input,out){input.iushrn(this.n,0,out)},MPrime.prototype.imulK=function(num){return num.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function(input,output){for(var outLen=Math.min(input.length,9),i=0;i<outLen;i++)output.words[i]=input.words[i];if(output.length=outLen,input.length<=9){input.words[0]=0,input.length=1;return}var prev=input.words[9];for(i=10,output.words[output.length++]=4194303&prev;i<input.length;i++){var next=0|input.words[i];input.words[i-10]=(4194303&next)<<4|prev>>>22,prev=next}prev>>>=22,input.words[i-10]=prev,0===prev&&input.length>10?input.length-=10:input.length-=9},K256.prototype.imulK=function(num){num.words[num.length]=0,num.words[num.length+1]=0,num.length+=2;for(var lo=0,i=0;i<num.length;i++){var w=0|num.words[i];lo+=977*w,num.words[i]=67108863&lo,lo=64*w+(lo/67108864|0)}return 0===num.words[num.length-1]&&(num.length--,0===num.words[num.length-1]&&num.length--),num},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function(num){for(var carry=0,i=0;i<num.length;i++){var hi=(0|num.words[i])*19+carry,lo=67108863&hi;hi>>>=26,num.words[i]=lo,carry=hi}return 0!==carry&&(num.words[num.length++]=carry),num},BN1._prime=function(name){var prime;if(primes[name])return primes[name];if("k256"===name)prime=new K256;else if("p224"===name)prime=new P224;else if("p192"===name)prime=new P192;else if("p25519"===name)prime=new P25519;else throw Error("Unknown prime "+name);return primes[name]=prime,prime},Red.prototype._verify1=function(a){assert(0===a.negative,"red works only with positives"),assert(a.red,"red works only with red numbers")},Red.prototype._verify2=function(a,b){assert((a.negative|b.negative)==0,"red works only with positives"),assert(a.red&&a.red===b.red,"red works only with red numbers")},Red.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(move(a,a.umod(this.m)._forceRed(this)),a)},Red.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Red.prototype.add=function(a,b){this._verify2(a,b);var res=a.add(b);return res.cmp(this.m)>=0&&res.isub(this.m),res._forceRed(this)},Red.prototype.iadd=function(a,b){this._verify2(a,b);var res=a.iadd(b);return res.cmp(this.m)>=0&&res.isub(this.m),res},Red.prototype.sub=function(a,b){this._verify2(a,b);var res=a.sub(b);return 0>res.cmpn(0)&&res.iadd(this.m),res._forceRed(this)},Red.prototype.isub=function(a,b){this._verify2(a,b);var res=a.isub(b);return 0>res.cmpn(0)&&res.iadd(this.m),res},Red.prototype.shl=function(a,num){return this._verify1(a),this.imod(a.ushln(num))},Red.prototype.imul=function(a,b){return this._verify2(a,b),this.imod(a.imul(b))},Red.prototype.mul=function(a,b){return this._verify2(a,b),this.imod(a.mul(b))},Red.prototype.isqr=function(a){return this.imul(a,a.clone())},Red.prototype.sqr=function(a){return this.mul(a,a)},Red.prototype.sqrt=function(a){if(a.isZero())return a.clone();var mod3=this.m.andln(3);if(assert(mod3%2==1),3===mod3){var pow=this.m.add(new BN1(1)).iushrn(2);return this.pow(a,pow)}for(var q=this.m.subn(1),s=0;!q.isZero()&&0===q.andln(1);)s++,q.iushrn(1);assert(!q.isZero());var one=new BN1(1).toRed(this),nOne=one.redNeg(),lpow=this.m.subn(1).iushrn(1),z=this.m.bitLength();for(z=new BN1(2*z*z).toRed(this);0!==this.pow(z,lpow).cmp(nOne);)z.redIAdd(nOne);for(var c=this.pow(z,q),r=this.pow(a,q.addn(1).iushrn(1)),t=this.pow(a,q),m=s;0!==t.cmp(one);){for(var tmp=t,i=0;0!==tmp.cmp(one);i++)tmp=tmp.redSqr();assert(i<m);var b=this.pow(c,new BN1(1).iushln(m-i-1));r=r.redMul(b),c=b.redSqr(),t=t.redMul(c),m=i}return r},Red.prototype.invm=function(a){var inv=a._invmp(this.m);return 0!==inv.negative?(inv.negative=0,this.imod(inv).redNeg()):this.imod(inv)},Red.prototype.pow=function(a,num){if(num.isZero())return new BN1(1).toRed(this);if(0===num.cmpn(1))return a.clone();var wnd=Array(16);wnd[0]=new BN1(1).toRed(this),wnd[1]=a;for(var i=2;i<wnd.length;i++)wnd[i]=this.mul(wnd[i-1],a);var res=wnd[0],current=0,currentLen=0,start=num.bitLength()%26;for(0===start&&(start=26),i=num.length-1;i>=0;i--){for(var word=num.words[i],j=start-1;j>=0;j--){var bit=word>>j&1;if(res!==wnd[0]&&(res=this.sqr(res)),0===bit&&0===current){currentLen=0;continue}current<<=1,current|=bit,(4==++currentLen||0===i&&0===j)&&(res=this.mul(res,wnd[current]),currentLen=0,current=0)}start=26}return res},Red.prototype.convertTo=function(num){var r=num.umod(this.m);return r===num?r.clone():r},Red.prototype.convertFrom=function(num){var res=num.clone();return res.red=null,res},BN1.mont=function(num){return new Mont(num)},inherits(Mont,Red),Mont.prototype.convertTo=function(num){return this.imod(num.ushln(this.shift))},Mont.prototype.convertFrom=function(num){var r=this.imod(num.mul(this.rinv));return r.red=null,r},Mont.prototype.imul=function(a,b){if(a.isZero()||b.isZero())return a.words[0]=0,a.length=1,a;var t=a.imul(b),c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=t.isub(c).iushrn(this.shift),res=u;return u.cmp(this.m)>=0?res=u.isub(this.m):0>u.cmpn(0)&&(res=u.iadd(this.m)),res._forceRed(this)},Mont.prototype.mul=function(a,b){if(a.isZero()||b.isZero())return new BN1(0)._forceRed(this);var t=a.mul(b),c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=t.isub(c).iushrn(this.shift),res=u;return u.cmp(this.m)>=0?res=u.isub(this.m):0>u.cmpn(0)&&(res=u.iadd(this.m)),res._forceRed(this)},Mont.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(module=__webpack_require__.nmd(module),this)},1524:function(__unused_webpack_module,exports,__webpack_require__){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */ let base64=__webpack_require__(7235),ieee754=__webpack_require__(3704),customInspectSymbol="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function createBuffer(length){if(length>2147483647)throw RangeError('The value "'+length+'" is invalid for option "size"');let buf=new Uint8Array(length);return Object.setPrototypeOf(buf,Buffer.prototype),buf}function Buffer(arg,encodingOrOffset,length){if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(arg)}return from(arg,encodingOrOffset,length)}function from(value,encodingOrOffset,length){if("string"==typeof value)return function(string,encoding){if(("string"!=typeof encoding||""===encoding)&&(encoding="utf8"),!Buffer.isEncoding(encoding))throw TypeError("Unknown encoding: "+encoding);let length=0|byteLength(string,encoding),buf=createBuffer(length),actual=buf.write(string,encoding);return actual!==length&&(buf=buf.slice(0,actual)),buf}(value,encodingOrOffset);if(ArrayBuffer.isView(value))return function(arrayView){if(isInstance(arrayView,Uint8Array)){let copy=new Uint8Array(arrayView);return fromArrayBuffer(copy.buffer,copy.byteOffset,copy.byteLength)}return fromArrayLike(arrayView)}(value);if(null==value)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof value);if(isInstance(value,ArrayBuffer)||value&&isInstance(value.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(isInstance(value,SharedArrayBuffer)||value&&isInstance(value.buffer,SharedArrayBuffer)))return fromArrayBuffer(value,encodingOrOffset,length);if("number"==typeof value)throw TypeError('The "value" argument must not be of type number. Received type number');let valueOf=value.valueOf&&value.valueOf();if(null!=valueOf&&valueOf!==value)return Buffer.from(valueOf,encodingOrOffset,length);let b=function(obj){var obj1;if(Buffer.isBuffer(obj)){let len=0|checked(obj.length),buf=createBuffer(len);return 0===buf.length||obj.copy(buf,0,0,len),buf}return void 0!==obj.length?"number"!=typeof obj.length||(obj1=obj.length)!=obj1?createBuffer(0):fromArrayLike(obj):"Buffer"===obj.type&&Array.isArray(obj.data)?fromArrayLike(obj.data):void 0}(value);if(b)return b;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof value[Symbol.toPrimitive])return Buffer.from(value[Symbol.toPrimitive]("string"),encodingOrOffset,length);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof value)}function assertSize(size){if("number"!=typeof size)throw TypeError('"size" argument must be of type number');if(size<0)throw RangeError('The value "'+size+'" is invalid for option "size"')}function allocUnsafe(size){return assertSize(size),createBuffer(size<0?0:0|checked(size))}function fromArrayLike(array){let length=array.length<0?0:0|checked(array.length),buf=createBuffer(length);for(let i=0;i<length;i+=1)buf[i]=255&array[i];return buf}function fromArrayBuffer(array,byteOffset,length){let buf;if(byteOffset<0||array.byteLength<byteOffset)throw RangeError('"offset" is outside of buffer bounds');if(array.byteLength<byteOffset+(length||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(buf=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length),Buffer.prototype),buf}function checked(length){if(length>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|length}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if(ArrayBuffer.isView(string)||isInstance(string,ArrayBuffer))return string.byteLength;if("string"!=typeof string)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof string);let len=string.length,mustMatch=arguments.length>2&&!0===arguments[2];if(!mustMatch&&0===len)return 0;let loweredCase=!1;for(;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return mustMatch?-1:utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function slowToString(encoding,start,end){let loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length||((void 0===end||end>this.length)&&(end=this.length),end<=0||(end>>>=0)<=(start>>>=0)))return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return function(buf,start,end){let len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);let out="";for(let i=start;i<end;++i)out+=hexSliceLookupTable[buf[i]];return out}(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return function(buf,start,end){let ret="";end=Math.min(buf.length,end);for(let i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}(this,start,end);case"latin1":case"binary":return function(buf,start,end){let ret="";end=Math.min(buf.length,end);for(let i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}(this,start,end);case"base64":var start1,end1;return start1=start,end1=end,0===start1&&end1===this.length?base64.fromByteArray(this):base64.fromByteArray(this.slice(start1,end1));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(buf,start,end){let bytes=buf.slice(start,end),res="";for(let i=0;i<bytes.length-1;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}(this,start,end);default:if(loweredCase)throw TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}function swap(b,n,m){let i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){var obj;if(0===buffer.length)return -1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),(obj=byteOffset=+byteOffset)!=obj&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return -1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return -1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return(val&=255,"function"==typeof Uint8Array.prototype.indexOf)?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){let i,indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&("ucs2"===(encoding=String(encoding).toLowerCase())||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return -1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}if(dir){let foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,-1===foundIndex?0:i-foundIndex)){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else -1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){let found=!0;for(let j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return -1}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);let res=[],i=start;for(;i<end;){let firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){let secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:(192&(secondByte=buf[i+1]))==128&&(tempCodePoint=(31&firstByte)<<6|63&secondByte)>127&&(codePoint=tempCodePoint);break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],(192&secondByte)==128&&(192&thirdByte)==128&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte)>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint);break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],(192&secondByte)==128&&(192&thirdByte)==128&&(192&fourthByte)==128&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte)>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint)}}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return function(codePoints){let len=codePoints.length;if(len<=4096)return String.fromCharCode.apply(String,codePoints);let res="",i=0;for(;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=4096));return res}(res)}function checkOffset(offset,ext,length){if(offset%1!=0||offset<0)throw RangeError("offset is not uint");if(offset+ext>length)throw RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw RangeError("Index out of range")}function wrtBigUInt64LE(buf,value,offset,min,max){checkIntBI(value,min,max,buf,offset,7);let lo=Number(value&BigInt(4294967295));buf[offset++]=lo,lo>>=8,buf[offset++]=lo,lo>>=8,buf[offset++]=lo,lo>>=8,buf[offset++]=lo;let hi=Number(value>>BigInt(32)&BigInt(4294967295));return buf[offset++]=hi,hi>>=8,buf[offset++]=hi,hi>>=8,buf[offset++]=hi,hi>>=8,buf[offset++]=hi,offset}function wrtBigUInt64BE(buf,value,offset,min,max){checkIntBI(value,min,max,buf,offset,7);let lo=Number(value&BigInt(4294967295));buf[offset+7]=lo,lo>>=8,buf[offset+6]=lo,lo>>=8,buf[offset+5]=lo,lo>>=8,buf[offset+4]=lo;let hi=Number(value>>BigInt(32)&BigInt(4294967295));return buf[offset+3]=hi,hi>>=8,buf[offset+2]=hi,hi>>=8,buf[offset+1]=hi,hi>>=8,buf[offset]=hi,offset+8}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length||offset<0)throw RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return value=+value,offset>>>=0,noAssert||checkIEEE754(buf,value,offset,4,34028234663852886e22,-34028234663852886e22),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return value=+value,offset>>>=0,noAssert||checkIEEE754(buf,value,offset,8,17976931348623157e292,-17976931348623157e292),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}exports.lW=Buffer,exports.h2=50,Buffer.TYPED_ARRAY_SUPPORT=function(){try{let arr=new Uint8Array(1),proto={foo:function(){return 42}};return Object.setPrototypeOf(proto,Uint8Array.prototype),Object.setPrototypeOf(arr,proto),42===arr.foo()}catch(e){return!1}}(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),Buffer.poolSize=8192,Buffer.from=function(value,encodingOrOffset,length){return from(value,encodingOrOffset,length)},Object.setPrototypeOf(Buffer.prototype,Uint8Array.prototype),Object.setPrototypeOf(Buffer,Uint8Array),Buffer.alloc=function(size,fill,encoding){return(assertSize(size),size<=0)?createBuffer(size):void 0!==fill?"string"==typeof encoding?createBuffer(size).fill(fill,encoding):createBuffer(size).fill(fill):createBuffer(size)},Buffer.allocUnsafe=function(size){return allocUnsafe(size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(size)},Buffer.isBuffer=function(b){return null!=b&&!0===b._isBuffer&&b!==Buffer.prototype},Buffer.compare=function(a,b){if(isInstance(a,Uint8Array)&&(a=Buffer.from(a,a.offset,a.byteLength)),isInstance(b,Uint8Array)&&(b=Buffer.from(b,b.offset,b.byteLength)),!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===b)return 0;let x=a.length,y=b.length;for(let i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){let i;if(!Array.isArray(list))throw TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);if(void 0===length)for(i=0,length=0;i<list.length;++i)length+=list[i].length;let buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){let buf=list[i];if(isInstance(buf,Uint8Array))pos+buf.length>buffer.length?(Buffer.isBuffer(buf)||(buf=Buffer.from(buf)),buf.copy(buffer,pos)):Uint8Array.prototype.set.call(buffer,buf,pos);else if(Buffer.isBuffer(buf))buf.copy(buffer,pos);else throw TypeError('"list" argument must be an Array of Buffers');pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){let len=this.length;if(len%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){let len=this.length;if(len%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){let len=this.length;if(len%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){let length=this.length;return 0===length?"":0==arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){let str="",max=exports.h2;return str=this.toString("hex",0,max).replace(/(.{2})/g,"$1 ").trim(),this.length>max&&(str+=" ... "),"<Buffer "+str+">"},customInspectSymbol&&(Buffer.prototype[customInspectSymbol]=Buffer.prototype.inspect),Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(isInstance(target,Uint8Array)&&(target=Buffer.from(target,target.offset,target.byteLength)),!Buffer.isBuffer(target))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof target);if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return -1;if(start>=end)return 1;if(start>>>=0,end>>>=0,thisStart>>>=0,thisEnd>>>=0,this===target)return 0;let x=thisEnd-thisStart,y=end-start,len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end);for(let i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return -1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){var offset1,length1,offset2,length2,offset3,length3,offset4,length4;if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else if(isFinite(offset))offset>>>=0,isFinite(length)?(length>>>=0,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");let loweredCase=!1;for(;;)switch(encoding){case"hex":return function(buf,string,offset,length){let i;offset=Number(offset)||0;let remaining=buf.length-offset;length?(length=Number(length))>remaining&&(length=remaining):length=remaining;let strLen=string.length;for(length>strLen/2&&(length=strLen/2),i=0;i<length;++i){let parsed=parseInt(string.substr(2*i,2),16);if(parsed!=parsed)break;buf[offset+i]=parsed}return i}(this,string,offset,length);case"utf8":case"utf-8":return offset1=offset,length1=length,blitBuffer(utf8ToBytes(string,this.length-offset1),this,offset1,length1);case"ascii":case"latin1":case"binary":return offset2=offset,length2=length,blitBuffer(function(str){let byteArray=[];for(let i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}(string),this,offset2,length2);case"base64":return offset3=offset,length3=length,blitBuffer(base64ToBytes(string),this,offset3,length3);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return offset4=offset,length4=length,blitBuffer(function(str,units){let c,hi;let byteArray=[];for(let i=0;i<str.length&&!((units-=2)<0);++i)hi=(c=str.charCodeAt(i))>>8,byteArray.push(c%256),byteArray.push(hi);return byteArray}(string,this.length-offset4),this,offset4,length4);default:if(loweredCase)throw TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Buffer.prototype.slice=function(start,end){let len=this.length;start=~~start,end=void 0===end?len:~~end,start<0?(start+=len)<0&&(start=0):start>len&&(start=len),end<0?(end+=len)<0&&(end=0):end>len&&(end=len),end<start&&(end=start);let newBuf=this.subarray(start,end);return Object.setPrototypeOf(newBuf,Buffer.prototype),newBuf},Buffer.prototype.readUintLE=Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);let val=this[offset],mul=1,i=0;for(;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUintBE=Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);let val=this[offset+--byteLength],mul=1;for(;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUint8=Buffer.prototype.readUInt8=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUint16LE=Buffer.prototype.readUInt16LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUint16BE=Buffer.prototype.readUInt16BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUint32LE=Buffer.prototype.readUInt32LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUint32BE=Buffer.prototype.readUInt32BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readBigUInt64LE=defineBigIntMethod(function(offset){validateNumber(offset>>>=0,"offset");let first=this[offset],last=this[offset+7];(void 0===first||void 0===last)&&boundsError(offset,this.length-8);let lo=first+256*this[++offset]+65536*this[++offset]+16777216*this[++offset],hi=this[++offset]+256*this[++offset]+65536*this[++offset]+16777216*last;return BigInt(lo)+(BigInt(hi)<<BigInt(32))}),Buffer.prototype.readBigUInt64BE=defineBigIntMethod(function(offset){validateNumber(offset>>>=0,"offset");let first=this[offset],last=this[offset+7];(void 0===first||void 0===last)&&boundsError(offset,this.length-8);let hi=16777216*first+65536*this[++offset]+256*this[++offset]+this[++offset],lo=16777216*this[++offset]+65536*this[++offset]+256*this[++offset]+last;return(BigInt(hi)<<BigInt(32))+BigInt(lo)}),Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);let val=this[offset],mul=1,i=0;for(;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);let i=byteLength,mul=1,val=this[offset+--i];for(;i>0&&(mul*=256);)val+=this[offset+--i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return(offset>>>=0,noAssert||checkOffset(offset,1,this.length),128&this[offset])?-((255-this[offset]+1)*1):this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){offset>>>=0,noAssert||checkOffset(offset,2,this.length);let val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){offset>>>=0,noAssert||checkOffset(offset,2,this.length);let val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readBigInt64LE=defineBigIntMethod(function(offset){validateNumber(offset>>>=0,"offset");let first=this[offset],last=this[offset+7];(void 0===first||void 0===last)&&boundsError(offset,this.length-8);let val=this[offset+4]+256*this[offset+5]+65536*this[offset+6]+(last<<24);return(BigInt(val)<<BigInt(32))+BigInt(first+256*this[++offset]+65536*this[++offset]+16777216*this[++offset])}),Buffer.prototype.readBigInt64BE=defineBigIntMethod(function(offset){validateNumber(offset>>>=0,"offset");let first=this[offset],last=this[offset+7];(void 0===first||void 0===last)&&boundsError(offset,this.length-8);let val=(first<<24)+65536*this[++offset]+256*this[++offset]+this[++offset];return(BigInt(val)<<BigInt(32))+BigInt(16777216*this[++offset]+65536*this[++offset]+256*this[++offset]+last)}),Buffer.prototype.readFloatLE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUintLE=Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,byteLength>>>=0,!noAssert){let maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}let mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUintBE=Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,byteLength>>>=0,!noAssert){let maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}let i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUint8=Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,1,255,0),this[offset]=255&value,offset+1},Buffer.prototype.writeUint16LE=Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,65535,0),this[offset]=255&value,this[offset+1]=value>>>8,offset+2},Buffer.prototype.writeUint16BE=Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,65535,0),this[offset]=value>>>8,this[offset+1]=255&value,offset+2},Buffer.prototype.writeUint32LE=Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,4294967295,0),this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value,offset+4},Buffer.prototype.writeUint32BE=Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,4294967295,0),this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value,offset+4},Buffer.prototype.writeBigUInt64LE=defineBigIntMethod(function(value,offset=0){return wrtBigUInt64LE(this,value,offset,BigInt(0),BigInt("0xffffffffffffffff"))}),Buffer.prototype.writeBigUInt64BE=defineBigIntMethod(function(value,offset=0){return wrtBigUInt64BE(this,value,offset,BigInt(0),BigInt("0xffffffffffffffff"))}),Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,!noAssert){let limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}let i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,!noAssert){let limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}let i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,1,127,-128),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,32767,-32768),this[offset]=255&value,this[offset+1]=value>>>8,offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,32767,-32768),this[offset]=value>>>8,this[offset+1]=255&value,offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24,offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value,offset+4},Buffer.prototype.writeBigInt64LE=defineBigIntMethod(function(value,offset=0){return wrtBigUInt64LE(this,value,offset,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Buffer.prototype.writeBigInt64BE=defineBigIntMethod(function(value,offset=0){return wrtBigUInt64BE(this,value,offset,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(!Buffer.isBuffer(target))throw TypeError("argument should be a Buffer");if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start||0===target.length||0===this.length)return 0;if(targetStart<0)throw RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw RangeError("Index out of range");if(end<0)throw RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);let len=end-start;return this===target&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(targetStart,start,end):Uint8Array.prototype.set.call(target,this.subarray(start,end),targetStart),len},Buffer.prototype.fill=function(val,start,end,encoding){let i;if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),void 0!==encoding&&"string"!=typeof encoding)throw TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw TypeError("Unknown encoding: "+encoding);if(1===val.length){let code=val.charCodeAt(0);("utf8"===encoding&&code<128||"latin1"===encoding)&&(val=code)}}else"number"==typeof val?val&=255:"boolean"==typeof val&&(val=Number(val));if(start<0||this.length<start||this.length<end)throw RangeError("Out of range index");if(end<=start)return this;if(start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0),"number"==typeof val)for(i=start;i<end;++i)this[i]=val;else{let bytes=Buffer.isBuffer(val)?val:Buffer.from(val,encoding),len=bytes.length;if(0===len)throw TypeError('The value "'+val+'" is invalid for argument "value"');for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};let errors={};function E(sym,getMessage,Base){errors[sym]=class extends Base{constructor(){super(),Object.defineProperty(this,"message",{value:getMessage.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${sym}]`,this.stack,delete this.name}get code(){return sym}set code(value){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value,writable:!0})}toString(){return`${this.name} [${sym}]: ${this.message}`}}}function addNumericalSeparator(val){let res="",i=val.length,start="-"===val[0]?1:0;for(;i>=start+4;i-=3)res=`_${val.slice(i-3,i)}${res}`;return`${val.slice(0,i)}${res}`}function checkIntBI(value,min,max,buf,offset,byteLength){if(value>max||value<min){let range;let n="bigint"==typeof min?"n":"";throw range=byteLength>3?0===min||min===BigInt(0)?`>= 0${n} and < 2${n} ** ${(byteLength+1)*8}${n}`:`>= -(2${n} ** ${(byteLength+1)*8-1}${n}) and < 2 ** ${(byteLength+1)*8-1}${n}`:`>= ${min}${n} and <= ${max}${n}`,new errors.ERR_OUT_OF_RANGE("value",range,value)}validateNumber(offset,"offset"),(void 0===buf[offset]||void 0===buf[offset+byteLength])&&boundsError(offset,buf.length-(byteLength+1))}function validateNumber(value,name){if("number"!=typeof value)throw new errors.ERR_INVALID_ARG_TYPE(name,"number",value)}function boundsError(value,length,type){if(Math.floor(value)!==value)throw validateNumber(value,type),new errors.ERR_OUT_OF_RANGE(type||"offset","an integer",value);if(length<0)throw new errors.ERR_BUFFER_OUT_OF_BOUNDS;throw new errors.ERR_OUT_OF_RANGE(type||"offset",`>= ${type?1:0} and <= ${length}`,value)}E("ERR_BUFFER_OUT_OF_BOUNDS",function(name){return name?`${name} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),E("ERR_INVALID_ARG_TYPE",function(name,actual){return`The "${name}" argument must be of type number. Received type ${typeof actual}`},TypeError),E("ERR_OUT_OF_RANGE",function(str,range,input){let msg=`The value of "${str}" is out of range.`,received=input;return Number.isInteger(input)&&Math.abs(input)>4294967296?received=addNumericalSeparator(String(input)):"bigint"==typeof input&&(received=String(input),(input>BigInt(2)**BigInt(32)||input<-(BigInt(2)**BigInt(32)))&&(received=addNumericalSeparator(received)),received+="n"),msg+=` It must be ${range}. Received ${received}`},RangeError);let INVALID_BASE64_RE=/[^+/0-9A-Za-z-_]/g;function utf8ToBytes(string,units){let codePoint;units=units||1/0;let length=string.length,leadSurrogate=null,bytes=[];for(let i=0;i<length;++i){if((codePoint=string.charCodeAt(i))>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319||i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else if(codePoint<1114112){if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}else throw Error("Invalid code point")}return bytes}function base64ToBytes(str){return base64.toByteArray(function(str){if((str=(str=str.split("=")[0]).trim().replace(INVALID_BASE64_RE,"")).length<2)return"";for(;str.length%4!=0;)str+="=";return str}(str))}function blitBuffer(src,dst,offset,length){let i;for(i=0;i<length&&!(i+offset>=dst.length)&&!(i>=src.length);++i)dst[i+offset]=src[i];return i}function isInstance(obj,type){return obj instanceof type||null!=obj&&null!=obj.constructor&&null!=obj.constructor.name&&obj.constructor.name===type.name}let hexSliceLookupTable=function(){let alphabet="0123456789abcdef",table=Array(256);for(let i=0;i<16;++i){let i16=16*i;for(let j=0;j<16;++j)table[i16+j]=alphabet[i]+alphabet[j]}return table}();function defineBigIntMethod(fn){return"undefined"==typeof BigInt?BufferBigIntNotDefined:fn}function BufferBigIntNotDefined(){throw Error("BigInt not supported")}},2892:function(module,exports){var self1,global="undefined"!=typeof self?self:this,__self__=function(){function F(){this.fetch=!1,this.DOMException=global.DOMException}return F.prototype=global,new F}();self1=__self__,function(exports){var support={searchParams:"URLSearchParams"in self1,iterable:"Symbol"in self1&&"iterator"in Symbol,blob:"FileReader"in self1&&"Blob"in self1&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self1,arrayBuffer:"ArrayBuffer"in self1};if(support.arrayBuffer)var viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],isArrayBufferView=ArrayBuffer.isView||function(obj){return obj&&viewClasses.indexOf(Object.prototype.toString.call(obj))>-1};function normalizeName(name){if("string"!=typeof name&&(name=String(name)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(name))throw TypeError("Invalid character in header field name");return name.toLowerCase()}function normalizeValue(value){return"string"!=typeof value&&(value=String(value)),value}function iteratorFor(items){var iterator={next:function(){var value=items.shift();return{done:void 0===value,value:value}}};return support.iterable&&(iterator[Symbol.iterator]=function(){return iterator}),iterator}function Headers(headers){this.map={},headers instanceof Headers?headers.forEach(function(value,name){this.append(name,value)},this):Array.isArray(headers)?headers.forEach(function(header){this.append(header[0],header[1])},this):headers&&Object.getOwnPropertyNames(headers).forEach(function(name){this.append(name,headers[name])},this)}function consumed(body){if(body.bodyUsed)return Promise.reject(TypeError("Already read"));body.bodyUsed=!0}function fileReaderReady(reader){return new Promise(function(resolve,reject){reader.onload=function(){resolve(reader.result)},reader.onerror=function(){reject(reader.error)}})}function readBlobAsArrayBuffer(blob){var reader=new FileReader,promise=fileReaderReady(reader);return reader.readAsArrayBuffer(blob),promise}function bufferClone(buf){if(buf.slice)return buf.slice(0);var view=new Uint8Array(buf.byteLength);return view.set(new Uint8Array(buf)),view.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(body){if(this._bodyInit=body,body){if("string"==typeof body)this._bodyText=body;else if(support.blob&&Blob.prototype.isPrototypeOf(body))this._bodyBlob=body;else if(support.formData&&FormData.prototype.isPrototypeOf(body))this._bodyFormData=body;else if(support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body))this._bodyText=body.toString();else{var obj;support.arrayBuffer&&support.blob&&(obj=body)&&DataView.prototype.isPrototypeOf(obj)?(this._bodyArrayBuffer=bufferClone(body.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):support.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(body)||isArrayBufferView(body))?this._bodyArrayBuffer=bufferClone(body):this._bodyText=body=Object.prototype.toString.call(body)}}else this._bodyText="";!this.headers.get("content-type")&&("string"==typeof body?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},support.blob&&(this.blob=function(){var rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")},this.arrayBuffer=function(){return this._bodyArrayBuffer?consumed(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var blob,reader,promise,rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return blob=this._bodyBlob,promise=fileReaderReady(reader=new FileReader),reader.readAsText(blob),promise;if(this._bodyArrayBuffer)return Promise.resolve(function(buf){for(var view=new Uint8Array(buf),chars=Array(view.length),i=0;i<view.length;i++)chars[i]=String.fromCharCode(view[i]);return chars.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},support.formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}Headers.prototype.append=function(name,value){name=normalizeName(name),value=normalizeValue(value);var oldValue=this.map[name];this.map[name]=oldValue?oldValue+", "+value:value},Headers.prototype.delete=function(name){delete this.map[normalizeName(name)]},Headers.prototype.get=function(name){return name=normalizeName(name),this.has(name)?this.map[name]:null},Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name))},Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=normalizeValue(value)},Headers.prototype.forEach=function(callback,thisArg){for(var name in this.map)this.map.hasOwnProperty(name)&&callback.call(thisArg,this.map[name],name,this)},Headers.prototype.keys=function(){var items=[];return this.forEach(function(value,name){items.push(name)}),iteratorFor(items)},Headers.prototype.values=function(){var items=[];return this.forEach(function(value){items.push(value)}),iteratorFor(items)},Headers.prototype.entries=function(){var items=[];return this.forEach(function(value,name){items.push([name,value])}),iteratorFor(items)},support.iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Request(input,options){var method,upcased,body=(options=options||{}).body;if(input instanceof Request){if(input.bodyUsed)throw TypeError("Already read");this.url=input.url,this.credentials=input.credentials,options.headers||(this.headers=new Headers(input.headers)),this.method=input.method,this.mode=input.mode,this.signal=input.signal,body||null==input._bodyInit||(body=input._bodyInit,input.bodyUsed=!0)}else this.url=String(input);if(this.credentials=options.credentials||this.credentials||"same-origin",(options.headers||!this.headers)&&(this.headers=new Headers(options.headers)),this.method=(upcased=(method=options.method||this.method||"GET").toUpperCase(),methods.indexOf(upcased)>-1?upcased:method),this.mode=options.mode||this.mode||null,this.signal=options.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&body)throw TypeError("Body not allowed for GET or HEAD requests");this._initBody(body)}function decode(body){var form=new FormData;return body.trim().split("&").forEach(function(bytes){if(bytes){var split=bytes.split("="),name=split.shift().replace(/\+/g," "),value=split.join("=").replace(/\+/g," ");form.append(decodeURIComponent(name),decodeURIComponent(value))}}),form}function Response(bodyInit,options){options||(options={}),this.type="default",this.status=void 0===options.status?200:options.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in options?options.statusText:"OK",this.headers=new Headers(options.headers),this.url=options.url||"",this._initBody(bodyInit)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var response=new Response(null,{status:0,statusText:""});return response.type="error",response};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(url,status){if(-1===redirectStatuses.indexOf(status))throw RangeError("Invalid status code");return new Response(null,{status:status,headers:{location:url}})},exports.DOMException=self1.DOMException;try{new exports.DOMException}catch(err){exports.DOMException=function(message,name){this.message=message,this.name=name;var error=Error(message);this.stack=error.stack},exports.DOMException.prototype=Object.create(Error.prototype),exports.DOMException.prototype.constructor=exports.DOMException}function fetch(input,init){return new Promise(function(resolve,reject){var request=new Request(input,init);if(request.signal&&request.signal.aborted)return reject(new exports.DOMException("Aborted","AbortError"));var xhr=new XMLHttpRequest;function abortXhr(){xhr.abort()}xhr.onload=function(){var rawHeaders,headers,options={status:xhr.status,statusText:xhr.statusText,headers:(rawHeaders=xhr.getAllResponseHeaders()||"",headers=new Headers,rawHeaders.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(line){var parts=line.split(":"),key=parts.shift().trim();if(key){var value=parts.join(":").trim();headers.append(key,value)}}),headers)};options.url="responseURL"in xhr?xhr.responseURL:options.headers.get("X-Request-URL");var body="response"in xhr?xhr.response:xhr.responseText;resolve(new Response(body,options))},xhr.onerror=function(){reject(TypeError("Network request failed"))},xhr.ontimeout=function(){reject(TypeError("Network request failed"))},xhr.onabort=function(){reject(new exports.DOMException("Aborted","AbortError"))},xhr.open(request.method,request.url,!0),"include"===request.credentials?xhr.withCredentials=!0:"omit"===request.credentials&&(xhr.withCredentials=!1),"responseType"in xhr&&support.blob&&(xhr.responseType="blob"),request.headers.forEach(function(value,name){xhr.setRequestHeader(name,value)}),request.signal&&(request.signal.addEventListener("abort",abortXhr),xhr.onreadystatechange=function(){4===xhr.readyState&&request.signal.removeEventListener("abort",abortXhr)}),xhr.send(void 0===request._bodyInit?null:request._bodyInit)})}fetch.polyfill=!0,self1.fetch||(self1.fetch=fetch,self1.Headers=Headers,self1.Request=Request,self1.Response=Response),exports.Headers=Headers,exports.Request=Request,exports.Response=Response,exports.fetch=fetch,Object.defineProperty(exports,"__esModule",{value:!0})}({}),__self__.fetch.ponyfill=!0,delete __self__.fetch.polyfill,(exports=__self__.fetch).default=__self__.fetch,exports.fetch=__self__.fetch,exports.Headers=__self__.Headers,exports.Request=__self__.Request,exports.Response=__self__.Response,module.exports=exports},1054:function(module){"use strict";var has=Object.prototype.hasOwnProperty,prefix="~";function Events(){}function EE(fn,context,once){this.fn=fn,this.context=context,this.once=once||!1}function addListener(emitter,event,fn,context,once){if("function"!=typeof fn)throw TypeError("The listener must be a function");var listener=new EE(fn,context||emitter,once),evt=prefix?prefix+event:event;return emitter._events[evt]?emitter._events[evt].fn?emitter._events[evt]=[emitter._events[evt],listener]:emitter._events[evt].push(listener):(emitter._events[evt]=listener,emitter._eventsCount++),emitter}function clearEvent(emitter,evt){0==--emitter._eventsCount?emitter._events=new Events:delete emitter._events[evt]}function EventEmitter(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),new Events().__proto__||(prefix=!1)),EventEmitter.prototype.eventNames=function(){var events,name,names=[];if(0===this._eventsCount)return names;for(name in events=this._events)has.call(events,name)&&names.push(prefix?name.slice(1):name);return Object.getOwnPropertySymbols?names.concat(Object.getOwnPropertySymbols(events)):names},EventEmitter.prototype.listeners=function(event){var evt=prefix?prefix+event:event,handlers=this._events[evt];if(!handlers)return[];if(handlers.fn)return[handlers.fn];for(var i=0,l=handlers.length,ee=Array(l);i<l;i++)ee[i]=handlers[i].fn;return ee},EventEmitter.prototype.listenerCount=function(event){var evt=prefix?prefix+event:event,listeners=this._events[evt];return listeners?listeners.fn?1:listeners.length:0},EventEmitter.prototype.emit=function(event,a1,a2,a3,a4,a5){var evt=prefix?prefix+event:event;if(!this._events[evt])return!1;var args,i,listeners=this._events[evt],len=arguments.length;if(listeners.fn){switch(listeners.once&&this.removeListener(event,listeners.fn,void 0,!0),len){case 1:return listeners.fn.call(listeners.context),!0;case 2:return listeners.fn.call(listeners.context,a1),!0;case 3:return listeners.fn.call(listeners.context,a1,a2),!0;case 4:return listeners.fn.call(listeners.context,a1,a2,a3),!0;case 5:return listeners.fn.call(listeners.context,a1,a2,a3,a4),!0;case 6:return listeners.fn.call(listeners.context,a1,a2,a3,a4,a5),!0}for(i=1,args=Array(len-1);i<len;i++)args[i-1]=arguments[i];listeners.fn.apply(listeners.context,args)}else{var j,length=listeners.length;for(i=0;i<length;i++)switch(listeners[i].once&&this.removeListener(event,listeners[i].fn,void 0,!0),len){case 1:listeners[i].fn.call(listeners[i].context);break;case 2:listeners[i].fn.call(listeners[i].context,a1);break;case 3:listeners[i].fn.call(listeners[i].context,a1,a2);break;case 4:listeners[i].fn.call(listeners[i].context,a1,a2,a3);break;default:if(!args)for(j=1,args=Array(len-1);j<len;j++)args[j-1]=arguments[j];listeners[i].fn.apply(listeners[i].context,args)}}return!0},EventEmitter.prototype.on=function(event,fn,context){return addListener(this,event,fn,context,!1)},EventEmitter.prototype.once=function(event,fn,context){return addListener(this,event,fn,context,!0)},EventEmitter.prototype.removeListener=function(event,fn,context,once){var evt=prefix?prefix+event:event;if(!this._events[evt])return this;if(!fn)return clearEvent(this,evt),this;var listeners=this._events[evt];if(listeners.fn)listeners.fn!==fn||once&&!listeners.once||context&&listeners.context!==context||clearEvent(this,evt);else{for(var i=0,events=[],length=listeners.length;i<length;i++)(listeners[i].fn!==fn||once&&!listeners[i].once||context&&listeners[i].context!==context)&&events.push(listeners[i]);events.length?this._events[evt]=1===events.length?events[0]:events:clearEvent(this,evt)}return this},EventEmitter.prototype.removeAllListeners=function(event){var evt;return event?(evt=prefix?prefix+event:event,this._events[evt]&&clearEvent(this,evt)):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prefixed=prefix,EventEmitter.EventEmitter=EventEmitter,module.exports=EventEmitter},3704:function(__unused_webpack_module,exports){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:(s?-1:1)*(1/0);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?5960464477539062e-23:0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(isNaN(value=Math.abs(value))||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),e+eBias>=1?value+=rt/c:value+=rt*Math.pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},1596:function(module,__unused_webpack_exports,__webpack_require__){"use strict";let uuid=__webpack_require__(6973).v4,generateRequest=__webpack_require__(8063),ClientBrowser=function(callServer,options){if(!(this instanceof ClientBrowser))return new ClientBrowser(callServer,options);options||(options={}),this.options={reviver:void 0!==options.reviver?options.reviver:null,replacer:void 0!==options.replacer?options.replacer:null,generator:void 0!==options.generator?options.generator:function(){return uuid()},version:void 0!==options.version?options.version:2,notificationIdNull:"boolean"==typeof options.notificationIdNull&&options.notificationIdNull},this.callServer=callServer};module.exports=ClientBrowser,ClientBrowser.prototype.request=function(method,params,id,callback){let message;let self1=this,request=null,isBatch=Array.isArray(method)&&"function"==typeof params;if(1===this.options.version&&isBatch)throw TypeError("JSON-RPC 1.0 does not support batching");if(isBatch||!isBatch&&method&&"object"==typeof method&&"function"==typeof params)callback=params,request=method;else{"function"==typeof id&&(callback=id,id=void 0);let hasCallback="function"==typeof callback;try{request=generateRequest(method,params,id,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(err){if(hasCallback)return callback(err);throw err}if(!hasCallback)return request}try{message=JSON.stringify(request,this.options.replacer)}catch(err1){return callback(err1)}return this.callServer(message,function(err,response){self1._parseResponse(err,response,callback)}),request},ClientBrowser.prototype._parseResponse=function(err,responseText,callback){let response;if(err){callback(err);return}if(!responseText)return callback();try{response=JSON.parse(responseText,this.options.reviver)}catch(err1){return callback(err1)}if(3===callback.length){if(!Array.isArray(response))return callback(null,response.error,response.result);{let isError=function(res){return void 0!==res.error};return callback(null,response.filter(isError),response.filter(function(res){return!isError(res)}))}}callback(null,response)}},8063:function(module,__unused_webpack_exports,__webpack_require__){"use strict";let uuid=__webpack_require__(6973).v4;module.exports=function(method,params,id,options){if("string"!=typeof method)throw TypeError(method+" must be a string");options=options||{};let version="number"==typeof options.version?options.version:2;if(1!==version&&2!==version)throw TypeError(version+" must be 1 or 2");let request={method:method};if(2===version&&(request.jsonrpc="2.0"),params){if("object"!=typeof params&&!Array.isArray(params))throw TypeError(params+" must be an object, array or omitted");request.params=params}if(void 0===id){let generator="function"==typeof options.generator?options.generator:function(){return uuid()};request.id=generator(request,options)}else 2===version&&null===id?options.notificationIdNull&&(request.id=null):request.id=id;return request}},7945:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__,process=__webpack_require__(3158);!function(){"use strict";var INPUT_ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA3_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self;!root.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA3_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),CSHAKE_PADDING=[4,1024,262144,67108864],SHIFT=[0,8,16,24],RC=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],BITS=[224,256,384,512],SHAKE_BITS=[128,256],OUTPUT_TYPES=["hex","buffer","arrayBuffer","array","digest"],CSHAKE_BYTEPAD={128:168,256:136};(root.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(obj){return"[object Array]"===Object.prototype.toString.call(obj)}),ARRAY_BUFFER&&(root.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(obj){return"object"==typeof obj&&obj.buffer&&obj.buffer.constructor===ArrayBuffer});for(var createOutputMethod=function(bits,padding,outputType){return function(message){return new Keccak(bits,padding,bits).update(message)[outputType]()}},createShakeOutputMethod=function(bits,padding,outputType){return function(message,outputBits){return new Keccak(bits,padding,outputBits).update(message)[outputType]()}},createCshakeOutputMethod=function(bits,padding,outputType){return function(message,outputBits,n,s){return methods["cshake"+bits].update(message,outputBits,n,s)[outputType]()}},createKmacOutputMethod=function(bits,padding,outputType){return function(key,message,outputBits,s){return methods["kmac"+bits].update(key,message,outputBits,s)[outputType]()}},createOutputMethods=function(method,createMethod,bits,padding){for(var i=0;i<OUTPUT_TYPES.length;++i){var type=OUTPUT_TYPES[i];method[type]=createMethod(bits,padding,type)}return method},createMethod=function(bits,padding){var method=createOutputMethod(bits,padding,"hex");return method.create=function(){return new Keccak(bits,padding,bits)},method.update=function(message){return method.create().update(message)},createOutputMethods(method,createOutputMethod,bits,padding)},algorithms=[{name:"keccak",padding:[1,256,65536,16777216],bits:BITS,createMethod:createMethod},{name:"sha3",padding:[6,1536,393216,100663296],bits:BITS,createMethod:createMethod},{name:"shake",padding:[31,7936,2031616,520093696],bits:SHAKE_BITS,createMethod:function(bits,padding){var method=createShakeOutputMethod(bits,padding,"hex");return method.create=function(outputBits){return new Keccak(bits,padding,outputBits)},method.update=function(message,outputBits){return method.create(outputBits).update(message)},createOutputMethods(method,createShakeOutputMethod,bits,padding)}},{name:"cshake",padding:CSHAKE_PADDING,bits:SHAKE_BITS,createMethod:function(bits,padding){var w=CSHAKE_BYTEPAD[bits],method=createCshakeOutputMethod(bits,padding,"hex");return method.create=function(outputBits,n,s){return n||s?new Keccak(bits,padding,outputBits).bytepad([n,s],w):methods["shake"+bits].create(outputBits)},method.update=function(message,outputBits,n,s){return method.create(outputBits,n,s).update(message)},createOutputMethods(method,createCshakeOutputMethod,bits,padding)}},{name:"kmac",padding:CSHAKE_PADDING,bits:SHAKE_BITS,createMethod:function(bits,padding){var w=CSHAKE_BYTEPAD[bits],method=createKmacOutputMethod(bits,padding,"hex");return method.create=function(key,outputBits,s){return new Kmac(bits,padding,outputBits).bytepad(["KMAC",s],w).bytepad([key],w)},method.update=function(key,message,outputBits,s){return method.create(key,outputBits,s).update(message)},createOutputMethods(method,createKmacOutputMethod,bits,padding)}}],methods={},methodNames=[],i=0;i<algorithms.length;++i)for(var algorithm=algorithms[i],bits=algorithm.bits,j=0;j<bits.length;++j){var methodName=algorithm.name+"_"+bits[j];if(methodNames.push(methodName),methods[methodName]=algorithm.createMethod(bits[j],algorithm.padding),"sha3"!==algorithm.name){var newMethodName=algorithm.name+bits[j];methodNames.push(newMethodName),methods[newMethodName]=methods[methodName]}}function Keccak(bits,padding,outputBits){this.blocks=[],this.s=[],this.padding=padding,this.outputBits=outputBits,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(bits<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=outputBits>>5,this.extraBytes=(31&outputBits)>>3;for(var i=0;i<50;++i)this.s[i]=0}function Kmac(bits,padding,outputBits){Keccak.call(this,bits,padding,outputBits)}Keccak.prototype.update=function(message){if(this.finalized)throw Error("finalize already called");var notString,type=typeof message;if("string"!==type){if("object"===type){if(null===message)throw Error(INPUT_ERROR);if(ARRAY_BUFFER&&message.constructor===ArrayBuffer)message=new Uint8Array(message);else if(!Array.isArray(message)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(message)))throw Error(INPUT_ERROR)}else throw Error(INPUT_ERROR);notString=!0}for(var i,code,blocks=this.blocks,byteCount=this.byteCount,length=message.length,blockCount=this.blockCount,index=0,s=this.s;index<length;){if(this.reset)for(i=1,this.reset=!1,blocks[0]=this.block;i<blockCount+1;++i)blocks[i]=0;if(notString)for(i=this.start;index<length&&i<byteCount;++index)blocks[i>>2]|=message[index]<<SHIFT[3&i++];else for(i=this.start;index<length&&i<byteCount;++index)(code=message.charCodeAt(index))<128?blocks[i>>2]|=code<<SHIFT[3&i++]:code<2048?(blocks[i>>2]|=(192|code>>6)<<SHIFT[3&i++],blocks[i>>2]|=(128|63&code)<<SHIFT[3&i++]):code<55296||code>=57344?(blocks[i>>2]|=(224|code>>12)<<SHIFT[3&i++],blocks[i>>2]|=(128|code>>6&63)<<SHIFT[3&i++],blocks[i>>2]|=(128|63&code)<<SHIFT[3&i++]):(code=65536+((1023&code)<<10|1023&message.charCodeAt(++index)),blocks[i>>2]|=(240|code>>18)<<SHIFT[3&i++],blocks[i>>2]|=(128|code>>12&63)<<SHIFT[3&i++],blocks[i>>2]|=(128|code>>6&63)<<SHIFT[3&i++],blocks[i>>2]|=(128|63&code)<<SHIFT[3&i++]);if(this.lastByteIndex=i,i>=byteCount){for(this.start=i-byteCount,this.block=blocks[blockCount],i=0;i<blockCount;++i)s[i]^=blocks[i];f(s),this.reset=!0}else this.start=i}return this},Keccak.prototype.encode=function(x,right){var o=255&x,n=1,bytes=[o];for(x>>=8,o=255&x;o>0;)bytes.unshift(o),x>>=8,o=255&x,++n;return right?bytes.push(n):bytes.unshift(n),this.update(bytes),bytes.length},Keccak.prototype.encodeString=function(str){var notString,type=typeof str;if("string"!==type){if("object"===type){if(null===str)throw Error(INPUT_ERROR);if(ARRAY_BUFFER&&str.constructor===ArrayBuffer)str=new Uint8Array(str);else if(!Array.isArray(str)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(str)))throw Error(INPUT_ERROR)}else throw Error(INPUT_ERROR);notString=!0}var bytes=0,length=str.length;if(notString)bytes=length;else for(var i=0;i<str.length;++i){var code=str.charCodeAt(i);code<128?bytes+=1:code<2048?bytes+=2:code<55296||code>=57344?bytes+=3:(code=65536+((1023&code)<<10|1023&str.charCodeAt(++i)),bytes+=4)}return bytes+=this.encode(8*bytes),this.update(str),bytes},Keccak.prototype.bytepad=function(strs,w){for(var bytes=this.encode(w),i=0;i<strs.length;++i)bytes+=this.encodeString(strs[i]);var paddingBytes=w-bytes%w,zeros=[];return zeros.length=paddingBytes,this.update(zeros),this},Keccak.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var blocks=this.blocks,i=this.lastByteIndex,blockCount=this.blockCount,s=this.s;if(blocks[i>>2]|=this.padding[3&i],this.lastByteIndex===this.byteCount)for(i=1,blocks[0]=blocks[blockCount];i<blockCount+1;++i)blocks[i]=0;for(blocks[blockCount-1]|=2147483648,i=0;i<blockCount;++i)s[i]^=blocks[i];f(s)}},Keccak.prototype.toString=Keccak.prototype.hex=function(){this.finalize();for(var block,blockCount=this.blockCount,s=this.s,outputBlocks=this.outputBlocks,extraBytes=this.extraBytes,i=0,j=0,hex="";j<outputBlocks;){for(i=0;i<blockCount&&j<outputBlocks;++i,++j)hex+=HEX_CHARS[(block=s[i])>>4&15]+HEX_CHARS[15&block]+HEX_CHARS[block>>12&15]+HEX_CHARS[block>>8&15]+HEX_CHARS[block>>20&15]+HEX_CHARS[block>>16&15]+HEX_CHARS[block>>28&15]+HEX_CHARS[block>>24&15];j%blockCount==0&&(f(s),i=0)}return extraBytes&&(hex+=HEX_CHARS[(block=s[i])>>4&15]+HEX_CHARS[15&block],extraBytes>1&&(hex+=HEX_CHARS[block>>12&15]+HEX_CHARS[block>>8&15]),extraBytes>2&&(hex+=HEX_CHARS[block>>20&15]+HEX_CHARS[block>>16&15])),hex},Keccak.prototype.arrayBuffer=function(){this.finalize();var buffer,blockCount=this.blockCount,s=this.s,outputBlocks=this.outputBlocks,extraBytes=this.extraBytes,i=0,j=0,bytes=this.outputBits>>3;buffer=new ArrayBuffer(extraBytes?outputBlocks+1<<2:bytes);for(var array=new Uint32Array(buffer);j<outputBlocks;){for(i=0;i<blockCount&&j<outputBlocks;++i,++j)array[j]=s[i];j%blockCount==0&&f(s)}return extraBytes&&(array[i]=s[i],buffer=buffer.slice(0,bytes)),buffer},Keccak.prototype.buffer=Keccak.prototype.arrayBuffer,Keccak.prototype.digest=Keccak.prototype.array=function(){this.finalize();for(var offset,block,blockCount=this.blockCount,s=this.s,outputBlocks=this.outputBlocks,extraBytes=this.extraBytes,i=0,j=0,array=[];j<outputBlocks;){for(i=0;i<blockCount&&j<outputBlocks;++i,++j)offset=j<<2,block=s[i],array[offset]=255&block,array[offset+1]=block>>8&255,array[offset+2]=block>>16&255,array[offset+3]=block>>24&255;j%blockCount==0&&f(s)}return extraBytes&&(offset=j<<2,block=s[i],array[offset]=255&block,extraBytes>1&&(array[offset+1]=block>>8&255),extraBytes>2&&(array[offset+2]=block>>16&255)),array},Kmac.prototype=new Keccak,Kmac.prototype.finalize=function(){return this.encode(this.outputBits,!0),Keccak.prototype.finalize.call(this)};var f=function(s){var h,l,n,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b10,b11,b12,b13,b14,b15,b16,b17,b18,b19,b20,b21,b22,b23,b24,b25,b26,b27,b28,b29,b30,b31,b32,b33,b34,b35,b36,b37,b38,b39,b40,b41,b42,b43,b44,b45,b46,b47,b48,b49;for(n=0;n<48;n+=2)c0=s[0]^s[10]^s[20]^s[30]^s[40],c1=s[1]^s[11]^s[21]^s[31]^s[41],c2=s[2]^s[12]^s[22]^s[32]^s[42],c3=s[3]^s[13]^s[23]^s[33]^s[43],c4=s[4]^s[14]^s[24]^s[34]^s[44],c5=s[5]^s[15]^s[25]^s[35]^s[45],c6=s[6]^s[16]^s[26]^s[36]^s[46],c7=s[7]^s[17]^s[27]^s[37]^s[47],c8=s[8]^s[18]^s[28]^s[38]^s[48],c9=s[9]^s[19]^s[29]^s[39]^s[49],h=c8^(c2<<1|c3>>>31),l=c9^(c3<<1|c2>>>31),s[0]^=h,s[1]^=l,s[10]^=h,s[11]^=l,s[20]^=h,s[21]^=l,s[30]^=h,s[31]^=l,s[40]^=h,s[41]^=l,h=c0^(c4<<1|c5>>>31),l=c1^(c5<<1|c4>>>31),s[2]^=h,s[3]^=l,s[12]^=h,s[13]^=l,s[22]^=h,s[23]^=l,s[32]^=h,s[33]^=l,s[42]^=h,s[43]^=l,h=c2^(c6<<1|c7>>>31),l=c3^(c7<<1|c6>>>31),s[4]^=h,s[5]^=l,s[14]^=h,s[15]^=l,s[24]^=h,s[25]^=l,s[34]^=h,s[35]^=l,s[44]^=h,s[45]^=l,h=c4^(c8<<1|c9>>>31),l=c5^(c9<<1|c8>>>31),s[6]^=h,s[7]^=l,s[16]^=h,s[17]^=l,s[26]^=h,s[27]^=l,s[36]^=h,s[37]^=l,s[46]^=h,s[47]^=l,h=c6^(c0<<1|c1>>>31),l=c7^(c1<<1|c0>>>31),s[8]^=h,s[9]^=l,s[18]^=h,s[19]^=l,s[28]^=h,s[29]^=l,s[38]^=h,s[39]^=l,s[48]^=h,s[49]^=l,b0=s[0],b1=s[1],b32=s[11]<<4|s[10]>>>28,b33=s[10]<<4|s[11]>>>28,b14=s[20]<<3|s[21]>>>29,b15=s[21]<<3|s[20]>>>29,b46=s[31]<<9|s[30]>>>23,b47=s[30]<<9|s[31]>>>23,b28=s[40]<<18|s[41]>>>14,b29=s[41]<<18|s[40]>>>14,b20=s[2]<<1|s[3]>>>31,b21=s[3]<<1|s[2]>>>31,b2=s[13]<<12|s[12]>>>20,b3=s[12]<<12|s[13]>>>20,b34=s[22]<<10|s[23]>>>22,b35=s[23]<<10|s[22]>>>22,b16=s[33]<<13|s[32]>>>19,b17=s[32]<<13|s[33]>>>19,b48=s[42]<<2|s[43]>>>30,b49=s[43]<<2|s[42]>>>30,b40=s[5]<<30|s[4]>>>2,b41=s[4]<<30|s[5]>>>2,b22=s[14]<<6|s[15]>>>26,b23=s[15]<<6|s[14]>>>26,b4=s[25]<<11|s[24]>>>21,b5=s[24]<<11|s[25]>>>21,b36=s[34]<<15|s[35]>>>17,b37=s[35]<<15|s[34]>>>17,b18=s[45]<<29|s[44]>>>3,b19=s[44]<<29|s[45]>>>3,b10=s[6]<<28|s[7]>>>4,b11=s[7]<<28|s[6]>>>4,b42=s[17]<<23|s[16]>>>9,b43=s[16]<<23|s[17]>>>9,b24=s[26]<<25|s[27]>>>7,b25=s[27]<<25|s[26]>>>7,b6=s[36]<<21|s[37]>>>11,b7=s[37]<<21|s[36]>>>11,b38=s[47]<<24|s[46]>>>8,b39=s[46]<<24|s[47]>>>8,b30=s[8]<<27|s[9]>>>5,b31=s[9]<<27|s[8]>>>5,b12=s[18]<<20|s[19]>>>12,b13=s[19]<<20|s[18]>>>12,b44=s[29]<<7|s[28]>>>25,b45=s[28]<<7|s[29]>>>25,b26=s[38]<<8|s[39]>>>24,b27=s[39]<<8|s[38]>>>24,b8=s[48]<<14|s[49]>>>18,b9=s[49]<<14|s[48]>>>18,s[0]=b0^~b2&b4,s[1]=b1^~b3&b5,s[10]=b10^~b12&b14,s[11]=b11^~b13&b15,s[20]=b20^~b22&b24,s[21]=b21^~b23&b25,s[30]=b30^~b32&b34,s[31]=b31^~b33&b35,s[40]=b40^~b42&b44,s[41]=b41^~b43&b45,s[2]=b2^~b4&b6,s[3]=b3^~b5&b7,s[12]=b12^~b14&b16,s[13]=b13^~b15&b17,s[22]=b22^~b24&b26,s[23]=b23^~b25&b27,s[32]=b32^~b34&b36,s[33]=b33^~b35&b37,s[42]=b42^~b44&b46,s[43]=b43^~b45&b47,s[4]=b4^~b6&b8,s[5]=b5^~b7&b9,s[14]=b14^~b16&b18,s[15]=b15^~b17&b19,s[24]=b24^~b26&b28,s[25]=b25^~b27&b29,s[34]=b34^~b36&b38,s[35]=b35^~b37&b39,s[44]=b44^~b46&b48,s[45]=b45^~b47&b49,s[6]=b6^~b8&b0,s[7]=b7^~b9&b1,s[16]=b16^~b18&b10,s[17]=b17^~b19&b11,s[26]=b26^~b28&b20,s[27]=b27^~b29&b21,s[36]=b36^~b38&b30,s[37]=b37^~b39&b31,s[46]=b46^~b48&b40,s[47]=b47^~b49&b41,s[8]=b8^~b0&b2,s[9]=b9^~b1&b3,s[18]=b18^~b10&b12,s[19]=b19^~b11&b13,s[28]=b28^~b20&b22,s[29]=b29^~b21&b23,s[38]=b38^~b30&b32,s[39]=b39^~b31&b33,s[48]=b48^~b40&b42,s[49]=b49^~b41&b43,s[0]^=RC[n],s[1]^=RC[n+1]};if(COMMON_JS)module.exports=methods;else{for(i=0;i<methodNames.length;++i)root[methodNames[i]]=methods[methodNames[i]];AMD&&void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=(function(){return methods}).call(exports,__webpack_require__,exports,module))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}}()},791:function(__unused_webpack_module,exports){!function(r){"use strict";var e=!0;function o(r){return r&&void 0!==r.circularRefs&&null!==r.circularRefs&&(e=!0===r.circularRefs),{circularRefs:e}}function i(r){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function f(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}var u=function(){var t;function e(r){(function(r,e){if(!(r instanceof e))throw TypeError("Cannot call a class as a function")})(this,e),this.value=function r(e){if("string"==typeof e){if(!/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/.test(e))throw Error('Invalid number (value: "'+e+'")');return e}if("number"!=typeof e)return r(e&&e.valueOf());if(15<a(e+"").length)throw Error("Invalid number: contains more than 15 digits (value: "+e+")");if(isNaN(e))throw Error("Invalid number: NaN");if(!isFinite(e))throw Error("Invalid number: Infinity");return e+""}(r),this.type="LosslessNumber",this.isLosslessNumber=!0}return f(e.prototype,[{key:"valueOf",value:function(){var r=parseFloat(this.value),e=a(this.value);if(15<e.length)throw Error("Cannot convert to number: number would be truncated (value: "+this.value+")");if(!isFinite(r))throw Error("Cannot convert to number: number would overflow (value: "+this.value+")");if(Math.abs(r)<Number.MIN_VALUE&&!/^0*$/.test(e))throw Error("Cannot convert to number: number would underflow (value: "+this.value+")");return r}},{key:"toString",value:function(){return this.value}}]),t&&f(e,t),e}();function a(r){return("string"!=typeof r?r+"":r).replace(/^-/,"").replace(/e.*$/,"").replace(/^0\.?0*|\./,"")}function n(r){return encodeURIComponent(r.replace(/\//g,"~1").replace(/~/g,"~0"))}function s(r){return decodeURIComponent(r).replace(/~1/g,"/").replace(/~0/g,"~")}function h(r){return"#/"+r.map(n).join("/")}var v={NULL:0,DELIMITER:1,NUMBER:2,STRING:3,SYMBOL:4,UNKNOWN:5},t={"":!0,"{":!0,"}":!0,"[":!0,"]":!0,":":!0,",":!0},p={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},d="",y=0,b="",g="",m=v.NULL,w=[],I=[];function E(){y++,b=d.charAt(y)}function N(){for(m=v.NULL,g="";" "===b||"	"===b||"\n"===b||"\r"===b;)E();if(t[b])return m=v.DELIMITER,g=b,void E();if(R(b)||"-"===b){if(m=v.NUMBER,"-"===b){if(g+=b,E(),!R(b))throw S("Invalid number, digit expected",y)}else"0"===b&&(g+=b,E());for(;R(b);)g+=b,E();if("."===b){if(g+=b,E(),!R(b))throw S("Invalid number, digit expected",y);for(;R(b);)g+=b,E()}if("e"===b||"E"===b){if(g+=b,E(),"+"!==b&&"-"!==b||(g+=b,E()),!R(b))throw S("Invalid number, digit expected",y);for(;R(b);)g+=b,E()}}else if('"'!==b){if(!L(b)){for(m=v.UNKNOWN;""!==b;)g+=b,E();throw S('Syntax error in part "'+g+'"')}for(m=v.SYMBOL;L(b);)g+=b,E()}else{for(m=v.STRING,E();""!==b&&'"'!==b;)if("\\"===b){E();var r=p[b];if(void 0!==r)g+=r,E();else{if("u"!==b)throw S('Invalid escape character "\\'+b+'"',y);E();for(var e="",n=0;n<4;n++){if(!/^[0-9a-fA-F]/.test(b))throw S("Invalid unicode character");e+=b,E()}g+=String.fromCharCode(parseInt(e,16))}}else g+=b,E();if('"'!==b)throw S("End of string expected");E()}}function L(r){return/^[a-zA-Z_]/.test(r)}function R(r){return"0"<=r&&r<="9"}function S(r,e){return void 0===e&&(e=y-g.length),(r=SyntaxError(r+" (char "+e+")")).char=e,r}var M=[],x=[];function T(r,e,n){x=[],M=[];var t,r="function"==typeof e?e.call({"":r},"",r):r;return"number"==typeof n?10<n?t=j(" ",10):1<=n&&(t=j(" ",n)):"string"==typeof n&&""!==n&&(t=n),U(r,e,t,"")}function U(r,e,n,t){return"boolean"==typeof r||r instanceof Boolean||null===r||"number"==typeof r||r instanceof Number||"string"==typeof r||r instanceof String||r instanceof Date?JSON.stringify(r):r&&r.isLosslessNumber?r.value:Array.isArray(r)?function(r,e,n,t){var o=n?t+n:void 0,i=n?"[\n":"[";if(D(r))return A(r,e,n,t);var f=x.length;x[f]=r;for(var u=0;u<r.length;u++){var a=u+"",l="function"==typeof e?e.call(r,a,r[u]):r[u];n&&(i+=o),void 0!==l&&"function"!=typeof l?(M[f]=a,i+=U(l,e,n,o)):i+="null",u<r.length-1&&(i+=n?",\n":",")}return x.length=f,M.length=f,i+=n?"\n"+t+"]":"]"}(r,e,n,t):r&&"object"===i(r)?C(r,e,n,t):void 0}function C(r,e,n,t){var o=n?t+n:void 0,i=!0,f=n?"{\n":"{";if("function"==typeof r.toJSON)return T(r.toJSON(),e,n);if(D(r))return A(r,e,n,t);var u,a,l,h=x.length;for(u in x[h]=r)r.hasOwnProperty(u)&&(a="function"==typeof e?e.call(r,u,r[u]):r[u],l=u,void 0===a||"function"==typeof a||Array.isArray(e)&&!function(r,e){for(var n=0;n<r.length;n++)if(r[n]==e)return!0;return!1}(e,l)||(i?i=!1:f+=n?",\n":",",l=JSON.stringify(u),f+=n?o+l+": ":l+":",M[h]=u,f+=U(a,e,n,o)));return x.length=h,M.length=h,f+=n?"\n"+t+"}":"}"}function D(r){return -1!==x.indexOf(r)}function A(r,e,n,t){if(!o().circularRefs)throw Error('Circular reference at "'+h(M)+'"');return r=x.indexOf(r),C({$ref:h(M.slice(0,r))},e,n,t)}function j(r,e){for(var n="";0<e--;)n+=r;return n}r.LosslessNumber=u,r.config=o,r.parse=function(r,e){y=0,b=(d=r).charAt(0),g="",m=v.NULL,I=[],w=[],N();var n=function O(){if(m!==v.DELIMITER||"{"!==g)return function(){if(m!==v.DELIMITER||"["!==g)return function(){if(m!==v.STRING)return function(){if(m!==v.NUMBER)return function(){if(m!==v.SYMBOL)return function(){throw S(""===g?"Unexpected end of json string":"Value expected")}();if("true"===g)return N(),!0;if("false"===g)return N(),!1;if("null"!==g)throw S('Unknown symbol "'+g+'"');return N(),null}();var r=new u(g);return N(),r}();var r=g;return N(),r}();N();var r=[];if(m===v.DELIMITER&&"]"===g)return N(),r;var e=I.length;for(I[e]=r;w[e]=r.length+"",r.push(O()),m===v.DELIMITER&&","===g;)N();if(m===v.DELIMITER&&"]"===g)return N(),I.length=e,w.length=e,r;throw S('Comma or end of array "]" expected')}();N();var e,n={};if(m===v.DELIMITER&&"}"===g)return N(),n;var t=I.length;for(I[t]=n;;){if(m!==v.STRING)throw S("Object key expected");if(e=g,N(),m!==v.DELIMITER||":"!==g)throw S("Colon expected");if(N(),n[w[t]=e]=O(),m!==v.DELIMITER||","!==g)break;N()}if(m!==v.DELIMITER||"}"!==g)throw S('Comma or end of object "}" expected');return N(),"string"==typeof n.$ref&&1===Object.keys(n).length?function(r){if(!o().circularRefs)return r;for(var e=function(r){if("#"!==(r=r.split("/").map(s)).shift())throw SyntaxError("Cannot parse JSON Pointer: no valid URI fragment");return""===r[r.length-1]&&r.pop(),r}(r.$ref),n=0;n<e.length;n++)if(e[n]!==w[n])throw Error('Invalid circular reference "'+r.$ref+'"');return I[e.length]}(n):(I.length=t,w.length=t,n)}();if(""!==g)throw S("Unexpected characters");return e?function c(r,e,n,t){return Array.isArray(n)?t.call(r,e,function(r,e){for(var n=[],t=0;t<r.length;t++)n[t]=c(r,t+"",r[t],e);return n}(n,t)):n&&"object"===i(n)&&!n.isLosslessNumber?t.call(r,e,function(r,e){var n,t={};for(n in r)r.hasOwnProperty(n)&&(t[n]=c(r,n,r[n],e));return t}(n,t)):t.call(r,e,n)}({"":r=n},"",r,e):n},r.stringify=T,Object.defineProperty(r,"__esModule",{value:!0})}(exports)},3301:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(6481);exports.K=void 0;var _createClass2=_interopRequireDefault(__webpack_require__(3340)),_classCallCheck2=_interopRequireDefault(__webpack_require__(9226)),_inherits2=_interopRequireDefault(__webpack_require__(8778)),_possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(4572)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(5903)),_websocket=_interopRequireDefault(__webpack_require__(2616)),Client=function(_CommonClient){(0,_inherits2.default)(Client,_CommonClient);var hasNativeReflectConstruct,_super=(hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var result,Super=(0,_getPrototypeOf2.default)(Client);if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return(0,_possibleConstructorReturn2.default)(this,result)});function Client(){var address=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ws://localhost:8080",_ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref$autoconnect=_ref.autoconnect,_ref$reconnect=_ref.reconnect,_ref$reconnect_interv=_ref.reconnect_interval,_ref$max_reconnects=_ref.max_reconnects,generate_request_id=arguments.length>2?arguments[2]:void 0;return(0,_classCallCheck2.default)(this,Client),_super.call(this,_websocket.default,address,{autoconnect:void 0===_ref$autoconnect||_ref$autoconnect,reconnect:void 0===_ref$reconnect||_ref$reconnect,reconnect_interval:void 0===_ref$reconnect_interv?1e3:_ref$reconnect_interv,max_reconnects:void 0===_ref$max_reconnects?5:_ref$max_reconnects},generate_request_id)}return(0,_createClass2.default)(Client)}(_interopRequireDefault(__webpack_require__(779)).default);exports.K=Client},779:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(1524).lW,_interopRequireDefault=__webpack_require__(6481);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(5191)),_asyncToGenerator2=_interopRequireDefault(__webpack_require__(1104)),_typeof2=_interopRequireDefault(__webpack_require__(89)),_classCallCheck2=_interopRequireDefault(__webpack_require__(9226)),_createClass2=_interopRequireDefault(__webpack_require__(3340)),_inherits2=_interopRequireDefault(__webpack_require__(8778)),_possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(4572)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(5903)),_eventemitter=__webpack_require__(1054),__rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&0>e.indexOf(p)&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)0>e.indexOf(p[i])&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]]);return t},CommonClient=function(_EventEmitter){(0,_inherits2.default)(CommonClient,_EventEmitter);var hasNativeReflectConstruct,_login,_listMethods,_subscribe,_unsubscribe,_super=(hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var result,Super=(0,_getPrototypeOf2.default)(CommonClient);if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return(0,_possibleConstructorReturn2.default)(this,result)});function CommonClient(webSocketFactory){var _this,address=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ws://localhost:8080",_a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},generate_request_id=arguments.length>3?arguments[3]:void 0;(0,_classCallCheck2.default)(this,CommonClient);var _a$autoconnect=_a.autoconnect,_a$reconnect=_a.reconnect,_a$reconnect_interval=_a.reconnect_interval,_a$max_reconnects=_a.max_reconnects,rest_options=__rest(_a,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return(_this=_super.call(this)).webSocketFactory=webSocketFactory,_this.queue={},_this.rpc_id=0,_this.address=address,_this.autoconnect=void 0===_a$autoconnect||_a$autoconnect,_this.ready=!1,_this.reconnect=void 0===_a$reconnect||_a$reconnect,_this.reconnect_interval=void 0===_a$reconnect_interval?1e3:_a$reconnect_interval,_this.max_reconnects=void 0===_a$max_reconnects?5:_a$max_reconnects,_this.rest_options=rest_options,_this.current_reconnects=0,_this.generate_request_id=generate_request_id||function(){return++_this.rpc_id},_this.autoconnect&&_this._connect(_this.address,Object.assign({autoconnect:_this.autoconnect,reconnect:_this.reconnect,reconnect_interval:_this.reconnect_interval,max_reconnects:_this.max_reconnects},_this.rest_options)),_this}return(0,_createClass2.default)(CommonClient,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(method,params,timeout,ws_opts){var _this2=this;return ws_opts||"object"!==(0,_typeof2.default)(timeout)||(ws_opts=timeout,timeout=null),new Promise(function(resolve,reject){if(!_this2.ready)return reject(Error("socket not ready"));var rpc_id=_this2.generate_request_id(method,params);_this2.socket.send(JSON.stringify({jsonrpc:"2.0",method:method,params:params||null,id:rpc_id}),ws_opts,function(error){if(error)return reject(error);_this2.queue[rpc_id]={promise:[resolve,reject]},timeout&&(_this2.queue[rpc_id].timeout=setTimeout(function(){delete _this2.queue[rpc_id],reject(Error("reply timeout"))},timeout))})})}},{key:"login",value:(_login=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee(params){var resp;return _regenerator.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.call("rpc.login",params);case 2:if(resp=_context.sent){_context.next=5;break}throw Error("authentication failed");case 5:return _context.abrupt("return",resp);case 6:case"end":return _context.stop()}},_callee,this)})),function(_x){return _login.apply(this,arguments)})},{key:"listMethods",value:(_listMethods=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee2(){return _regenerator.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.call("__listMethods");case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}},_callee2,this)})),function(){return _listMethods.apply(this,arguments)})},{key:"notify",value:function(method,params){var _this3=this;return new Promise(function(resolve,reject){if(!_this3.ready)return reject(Error("socket not ready"));_this3.socket.send(JSON.stringify({jsonrpc:"2.0",method:method,params:params||null}),function(error){if(error)return reject(error);resolve()})})}},{key:"subscribe",value:(_subscribe=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee3(event){var result;return _regenerator.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return"string"==typeof event&&(event=[event]),_context3.next=3,this.call("rpc.on",event);case 3:if(result=_context3.sent,!("string"==typeof event&&"ok"!==result[event])){_context3.next=6;break}throw Error("Failed subscribing to an event '"+event+"' with: "+result[event]);case 6:return _context3.abrupt("return",result);case 7:case"end":return _context3.stop()}},_callee3,this)})),function(_x2){return _subscribe.apply(this,arguments)})},{key:"unsubscribe",value:(_unsubscribe=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee4(event){var result;return _regenerator.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return"string"==typeof event&&(event=[event]),_context4.next=3,this.call("rpc.off",event);case 3:if(result=_context4.sent,!("string"==typeof event&&"ok"!==result[event])){_context4.next=6;break}throw Error("Failed unsubscribing from an event with: "+result);case 6:return _context4.abrupt("return",result);case 7:case"end":return _context4.stop()}},_callee4,this)})),function(_x3){return _unsubscribe.apply(this,arguments)})},{key:"close",value:function(code,data){this.socket.close(code||1e3,data)}},{key:"_connect",value:function(address,options){var _this4=this;this.socket=this.webSocketFactory(address,options),this.socket.addEventListener("open",function(){_this4.ready=!0,_this4.emit("open"),_this4.current_reconnects=0}),this.socket.addEventListener("message",function(_ref){var message=_ref.data;message instanceof ArrayBuffer&&(message=Buffer.from(message).toString());try{message=JSON.parse(message)}catch(error){return}if(message.notification&&_this4.listeners(message.notification).length){if(!Object.keys(message.params).length)return _this4.emit(message.notification);var args=[message.notification];if(message.params.constructor===Object)args.push(message.params);else for(var i=0;i<message.params.length;i++)args.push(message.params[i]);return Promise.resolve().then(function(){_this4.emit.apply(_this4,args)})}if(!_this4.queue[message.id])return message.method&&message.params?Promise.resolve().then(function(){_this4.emit(message.method,message.params)}):void 0;"error"in message=="result"in message&&_this4.queue[message.id].promise[1](Error('Server response malformed. Response must include either "result" or "error", but not both.')),_this4.queue[message.id].timeout&&clearTimeout(_this4.queue[message.id].timeout),message.error?_this4.queue[message.id].promise[1](message.error):_this4.queue[message.id].promise[0](message.result),delete _this4.queue[message.id]}),this.socket.addEventListener("error",function(error){return _this4.emit("error",error)}),this.socket.addEventListener("close",function(_ref2){var code=_ref2.code,reason=_ref2.reason;_this4.ready&&setTimeout(function(){return _this4.emit("close",code,reason)},0),_this4.ready=!1,_this4.socket=void 0,1e3!==code&&(_this4.current_reconnects++,_this4.reconnect&&(_this4.max_reconnects>_this4.current_reconnects||0===_this4.max_reconnects)&&setTimeout(function(){return _this4._connect(address,options)},_this4.reconnect_interval))})}}]),CommonClient}(_eventemitter.EventEmitter);exports.default=CommonClient},2616:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(6481);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(address,options){return new WebSocketBrowserImpl(address,options)};var _classCallCheck2=_interopRequireDefault(__webpack_require__(9226)),_createClass2=_interopRequireDefault(__webpack_require__(3340)),_inherits2=_interopRequireDefault(__webpack_require__(8778)),_possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(4572)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(5903)),WebSocketBrowserImpl=function(_EventEmitter){(0,_inherits2.default)(WebSocketBrowserImpl,_EventEmitter);var hasNativeReflectConstruct,_super=(hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var result,Super=(0,_getPrototypeOf2.default)(WebSocketBrowserImpl);if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return(0,_possibleConstructorReturn2.default)(this,result)});function WebSocketBrowserImpl(address,options,protocols){var _this;return(0,_classCallCheck2.default)(this,WebSocketBrowserImpl),(_this=_super.call(this)).socket=new window.WebSocket(address,protocols),_this.socket.onopen=function(){return _this.emit("open")},_this.socket.onmessage=function(event){return _this.emit("message",event.data)},_this.socket.onerror=function(error){return _this.emit("error",error)},_this.socket.onclose=function(event){_this.emit("close",event.code,event.reason)},_this}return(0,_createClass2.default)(WebSocketBrowserImpl,[{key:"send",value:function(data,optionsOrCallback,callback){var cb=callback||optionsOrCallback;try{this.socket.send(data),cb()}catch(error){cb(error)}}},{key:"close",value:function(code,reason){this.socket.close(code,reason)}},{key:"addEventListener",value:function(type,listener,options){this.socket.addEventListener(type,listener,options)}}]),WebSocketBrowserImpl}(__webpack_require__(1054).EventEmitter)},5228:function(module){var window1,define,_,store;window1=this,define=this&&this.define,(store=(_={version:"2.14.2",areas:{},apis:{},nsdelim:".",inherit:function(api,o){for(var p in api)o.hasOwnProperty(p)||Object.defineProperty(o,p,Object.getOwnPropertyDescriptor(api,p));return o},stringify:function(d,fn){return void 0===d||"function"==typeof d?d+"":JSON.stringify(d,fn||_.replace)},parse:function(s,fn){try{return JSON.parse(s,fn||_.revive)}catch(e){return s}},fn:function(name,fn){for(var api in _.storeAPI[name]=fn,_.apis)_.apis[api][name]=fn},get:function(area,key){return area.getItem(key)},set:function(area,key,string){area.setItem(key,string)},remove:function(area,key){area.removeItem(key)},key:function(area,i){return area.key(i)},length:function(area){return area.length},clear:function(area){area.clear()},Store:function(id,area,namespace){var store=_.inherit(_.storeAPI,function(key,data,overwrite){return 0==arguments.length?store.getAll():"function"==typeof data?store.transact(key,data,overwrite):void 0!==data?store.set(key,data,overwrite):"string"==typeof key||"number"==typeof key?store.get(key):"function"==typeof key?store.each(key):key?store.setAll(key,data):store.clear()});store._id=id;try{var testKey="__store2_test";area.setItem(testKey,"ok"),store._area=area,area.removeItem(testKey)}catch(e){store._area=_.storage("fake")}return store._ns=namespace||"",_.areas[id]||(_.areas[id]=store._area),_.apis[store._ns+store._id]||(_.apis[store._ns+store._id]=store),store},storeAPI:{area:function(id,area){var store=this[id];return store&&store.area||(store=_.Store(id,area,this._ns),this[id]||(this[id]=store)),store},namespace:function(namespace,singleArea,delim){if(delim=delim||this._delim||_.nsdelim,!namespace)return this._ns?this._ns.substring(0,this._ns.length-delim.length):"";var store=this[namespace];if((!store||!store.namespace)&&((store=_.Store(this._id,this._area,this._ns+namespace+delim))._delim=delim,this[namespace]||(this[namespace]=store),!singleArea))for(var name in _.areas)store.area(name,_.areas[name]);return store},isFake:function(force){return force?(this._real=this._area,this._area=_.storage("fake")):!1===force&&(this._area=this._real||this._area),"fake"===this._area.name},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(key){return this._area.has?this._area.has(this._in(key)):this._in(key) in this._area},size:function(){return this.keys().length},each:function(fn,fill){for(var i=0,m=_.length(this._area);i<m;i++){var key=this._out(_.key(this._area,i));if(void 0!==key&&!1===fn.call(this,key,this.get(key),fill))break;m>_.length(this._area)&&(m--,i--)}return fill||this},keys:function(fillList){return this.each(function(k,v,list){list.push(k)},fillList||[])},get:function(key,alt){var fn,s=_.get(this._area,this._in(key));return"function"==typeof alt&&(fn=alt,alt=null),null!==s?_.parse(s,fn):null!=alt?alt:s},getAll:function(fillObj){return this.each(function(k,v,all){all[k]=v},fillObj||{})},transact:function(key,fn,alt){var val=this.get(key,alt),ret=fn(val);return this.set(key,void 0===ret?val:ret),this},set:function(key,data,overwrite){var replacer,d=this.get(key);return null!=d&&!1===overwrite?data:("function"==typeof overwrite&&(replacer=overwrite,overwrite=void 0),_.set(this._area,this._in(key),_.stringify(data,replacer),overwrite)||d)},setAll:function(data,overwrite){var changed,val;for(var key in data)val=data[key],this.set(key,val,overwrite)!==val&&(changed=!0);return changed},add:function(key,data,replacer){var d=this.get(key);if(d instanceof Array)data=d.concat(data);else if(null!==d){var type=typeof d;if(type===typeof data&&"object"===type){for(var k in data)d[k]=data[k];data=d}else data=d+data}return _.set(this._area,this._in(key),_.stringify(data,replacer)),data},remove:function(key,alt){var d=this.get(key,alt);return _.remove(this._area,this._in(key)),d},clear:function(){return this._ns?this.each(function(k){_.remove(this._area,this._in(k))},1):_.clear(this._area),this},clearAll:function(){var area=this._area;for(var id in _.areas)_.areas.hasOwnProperty(id)&&(this._area=_.areas[id],this.clear());return this._area=area,this},_in:function(k){return"string"!=typeof k&&(k=_.stringify(k)),this._ns?this._ns+k:k},_out:function(k){return this._ns?k&&0===k.indexOf(this._ns)?k.substring(this._ns.length):void 0:k}},storage:function(name){return _.inherit(_.storageAPI,{items:{},name:name})},storageAPI:{length:0,has:function(k){return this.items.hasOwnProperty(k)},key:function(i){var c=0;for(var k in this.items)if(this.has(k)&&i===c++)return k},setItem:function(k,v){!this.has(k)&&this.length++,this.items[k]=v},removeItem:function(k){this.has(k)&&(delete this.items[k],this.length--)},getItem:function(k){return this.has(k)?this.items[k]:null},clear:function(){for(var k in this.items)this.removeItem(k)}}}).Store("local",function(){try{return localStorage}catch(e){}}())).local=store,store._=_,store.area("session",function(){try{return sessionStorage}catch(e){}}()),store.area("page",_.storage("page")),"function"==typeof define&&void 0!==define.amd?define("store2",[],function(){return store}):module.exports?module.exports=store:(window1.store&&(_.conflict=window1.store),window1.store=store)},781:function(module,__unused_webpack_exports,__webpack_require__){!function(nacl1){"use strict";var crypto1,gf=function(init){var i,r=new Float64Array(16);if(init)for(i=0;i<init.length;i++)r[i]=init[i];return r},randombytes=function(){throw Error("no PRNG")},_0=new Uint8Array(16),_9=new Uint8Array(32);_9[0]=9;var gf0=gf(),gf1=gf([1]),_121665=gf([56129,1]),D=gf([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),D2=gf([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),X=gf([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Y=gf([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),I=gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ts64(x,i,h,l){x[i]=h>>24&255,x[i+1]=h>>16&255,x[i+2]=h>>8&255,x[i+3]=255&h,x[i+4]=l>>24&255,x[i+5]=l>>16&255,x[i+6]=l>>8&255,x[i+7]=255&l}function vn(x,xi,y,yi,n){var i,d=0;for(i=0;i<n;i++)d|=x[xi+i]^y[yi+i];return(1&d-1>>>8)-1}function crypto_verify_16(x,xi,y,yi){return vn(x,xi,y,yi,16)}function crypto_verify_32(x,xi,y,yi){return vn(x,xi,y,yi,32)}function crypto_core_salsa20(out,inp,k,c){!function(o,p,k,c){for(var u,j0=255&c[0]|(255&c[1])<<8|(255&c[2])<<16|(255&c[3])<<24,j1=255&k[0]|(255&k[1])<<8|(255&k[2])<<16|(255&k[3])<<24,j2=255&k[4]|(255&k[5])<<8|(255&k[6])<<16|(255&k[7])<<24,j3=255&k[8]|(255&k[9])<<8|(255&k[10])<<16|(255&k[11])<<24,j4=255&k[12]|(255&k[13])<<8|(255&k[14])<<16|(255&k[15])<<24,j5=255&c[4]|(255&c[5])<<8|(255&c[6])<<16|(255&c[7])<<24,j6=255&p[0]|(255&p[1])<<8|(255&p[2])<<16|(255&p[3])<<24,j7=255&p[4]|(255&p[5])<<8|(255&p[6])<<16|(255&p[7])<<24,j8=255&p[8]|(255&p[9])<<8|(255&p[10])<<16|(255&p[11])<<24,j9=255&p[12]|(255&p[13])<<8|(255&p[14])<<16|(255&p[15])<<24,j10=255&c[8]|(255&c[9])<<8|(255&c[10])<<16|(255&c[11])<<24,j11=255&k[16]|(255&k[17])<<8|(255&k[18])<<16|(255&k[19])<<24,j12=255&k[20]|(255&k[21])<<8|(255&k[22])<<16|(255&k[23])<<24,j13=255&k[24]|(255&k[25])<<8|(255&k[26])<<16|(255&k[27])<<24,j14=255&k[28]|(255&k[29])<<8|(255&k[30])<<16|(255&k[31])<<24,j15=255&c[12]|(255&c[13])<<8|(255&c[14])<<16|(255&c[15])<<24,x0=j0,x1=j1,x2=j2,x3=j3,x4=j4,x5=j5,x6=j6,x7=j7,x8=j8,x9=j9,x10=j10,x11=j11,x12=j12,x13=j13,x14=j14,x15=j15,i=0;i<20;i+=2)x4^=(u=x0+x12|0)<<7|u>>>25,x8^=(u=x4+x0|0)<<9|u>>>23,x12^=(u=x8+x4|0)<<13|u>>>19,x0^=(u=x12+x8|0)<<18|u>>>14,x9^=(u=x5+x1|0)<<7|u>>>25,x13^=(u=x9+x5|0)<<9|u>>>23,x1^=(u=x13+x9|0)<<13|u>>>19,x5^=(u=x1+x13|0)<<18|u>>>14,x14^=(u=x10+x6|0)<<7|u>>>25,x2^=(u=x14+x10|0)<<9|u>>>23,x6^=(u=x2+x14|0)<<13|u>>>19,x10^=(u=x6+x2|0)<<18|u>>>14,x3^=(u=x15+x11|0)<<7|u>>>25,x7^=(u=x3+x15|0)<<9|u>>>23,x11^=(u=x7+x3|0)<<13|u>>>19,x15^=(u=x11+x7|0)<<18|u>>>14,x1^=(u=x0+x3|0)<<7|u>>>25,x2^=(u=x1+x0|0)<<9|u>>>23,x3^=(u=x2+x1|0)<<13|u>>>19,x0^=(u=x3+x2|0)<<18|u>>>14,x6^=(u=x5+x4|0)<<7|u>>>25,x7^=(u=x6+x5|0)<<9|u>>>23,x4^=(u=x7+x6|0)<<13|u>>>19,x5^=(u=x4+x7|0)<<18|u>>>14,x11^=(u=x10+x9|0)<<7|u>>>25,x8^=(u=x11+x10|0)<<9|u>>>23,x9^=(u=x8+x11|0)<<13|u>>>19,x10^=(u=x9+x8|0)<<18|u>>>14,x12^=(u=x15+x14|0)<<7|u>>>25,x13^=(u=x12+x15|0)<<9|u>>>23,x14^=(u=x13+x12|0)<<13|u>>>19,x15^=(u=x14+x13|0)<<18|u>>>14;x0=x0+j0|0,x1=x1+j1|0,x2=x2+j2|0,x3=x3+j3|0,x4=x4+j4|0,x5=x5+j5|0,x6=x6+j6|0,x7=x7+j7|0,x8=x8+j8|0,x9=x9+j9|0,x10=x10+j10|0,x11=x11+j11|0,x12=x12+j12|0,x13=x13+j13|0,x14=x14+j14|0,x15=x15+j15|0,o[0]=x0>>>0&255,o[1]=x0>>>8&255,o[2]=x0>>>16&255,o[3]=x0>>>24&255,o[4]=x1>>>0&255,o[5]=x1>>>8&255,o[6]=x1>>>16&255,o[7]=x1>>>24&255,o[8]=x2>>>0&255,o[9]=x2>>>8&255,o[10]=x2>>>16&255,o[11]=x2>>>24&255,o[12]=x3>>>0&255,o[13]=x3>>>8&255,o[14]=x3>>>16&255,o[15]=x3>>>24&255,o[16]=x4>>>0&255,o[17]=x4>>>8&255,o[18]=x4>>>16&255,o[19]=x4>>>24&255,o[20]=x5>>>0&255,o[21]=x5>>>8&255,o[22]=x5>>>16&255,o[23]=x5>>>24&255,o[24]=x6>>>0&255,o[25]=x6>>>8&255,o[26]=x6>>>16&255,o[27]=x6>>>24&255,o[28]=x7>>>0&255,o[29]=x7>>>8&255,o[30]=x7>>>16&255,o[31]=x7>>>24&255,o[32]=x8>>>0&255,o[33]=x8>>>8&255,o[34]=x8>>>16&255,o[35]=x8>>>24&255,o[36]=x9>>>0&255,o[37]=x9>>>8&255,o[38]=x9>>>16&255,o[39]=x9>>>24&255,o[40]=x10>>>0&255,o[41]=x10>>>8&255,o[42]=x10>>>16&255,o[43]=x10>>>24&255,o[44]=x11>>>0&255,o[45]=x11>>>8&255,o[46]=x11>>>16&255,o[47]=x11>>>24&255,o[48]=x12>>>0&255,o[49]=x12>>>8&255,o[50]=x12>>>16&255,o[51]=x12>>>24&255,o[52]=x13>>>0&255,o[53]=x13>>>8&255,o[54]=x13>>>16&255,o[55]=x13>>>24&255,o[56]=x14>>>0&255,o[57]=x14>>>8&255,o[58]=x14>>>16&255,o[59]=x14>>>24&255,o[60]=x15>>>0&255,o[61]=x15>>>8&255,o[62]=x15>>>16&255,o[63]=x15>>>24&255}(out,inp,k,c)}function crypto_core_hsalsa20(out,inp,k,c){!function(o,p,k,c){for(var u,j0=255&c[0]|(255&c[1])<<8|(255&c[2])<<16|(255&c[3])<<24,j1=255&k[0]|(255&k[1])<<8|(255&k[2])<<16|(255&k[3])<<24,j2=255&k[4]|(255&k[5])<<8|(255&k[6])<<16|(255&k[7])<<24,j3=255&k[8]|(255&k[9])<<8|(255&k[10])<<16|(255&k[11])<<24,j4=255&k[12]|(255&k[13])<<8|(255&k[14])<<16|(255&k[15])<<24,j5=255&c[4]|(255&c[5])<<8|(255&c[6])<<16|(255&c[7])<<24,j6=255&p[0]|(255&p[1])<<8|(255&p[2])<<16|(255&p[3])<<24,j7=255&p[4]|(255&p[5])<<8|(255&p[6])<<16|(255&p[7])<<24,j8=255&p[8]|(255&p[9])<<8|(255&p[10])<<16|(255&p[11])<<24,j9=255&p[12]|(255&p[13])<<8|(255&p[14])<<16|(255&p[15])<<24,j10=255&c[8]|(255&c[9])<<8|(255&c[10])<<16|(255&c[11])<<24,j11=255&k[16]|(255&k[17])<<8|(255&k[18])<<16|(255&k[19])<<24,j12=255&k[20]|(255&k[21])<<8|(255&k[22])<<16|(255&k[23])<<24,j13=255&k[24]|(255&k[25])<<8|(255&k[26])<<16|(255&k[27])<<24,j14=255&k[28]|(255&k[29])<<8|(255&k[30])<<16|(255&k[31])<<24,j15=255&c[12]|(255&c[13])<<8|(255&c[14])<<16|(255&c[15])<<24,x0=j0,x1=j1,x2=j2,x3=j3,x4=j4,x5=j5,x6=j6,x7=j7,x8=j8,x9=j9,x10=j10,x11=j11,x12=j12,x13=j13,x14=j14,x15=j15,i=0;i<20;i+=2)x4^=(u=x0+x12|0)<<7|u>>>25,x8^=(u=x4+x0|0)<<9|u>>>23,x12^=(u=x8+x4|0)<<13|u>>>19,x0^=(u=x12+x8|0)<<18|u>>>14,x9^=(u=x5+x1|0)<<7|u>>>25,x13^=(u=x9+x5|0)<<9|u>>>23,x1^=(u=x13+x9|0)<<13|u>>>19,x5^=(u=x1+x13|0)<<18|u>>>14,x14^=(u=x10+x6|0)<<7|u>>>25,x2^=(u=x14+x10|0)<<9|u>>>23,x6^=(u=x2+x14|0)<<13|u>>>19,x10^=(u=x6+x2|0)<<18|u>>>14,x3^=(u=x15+x11|0)<<7|u>>>25,x7^=(u=x3+x15|0)<<9|u>>>23,x11^=(u=x7+x3|0)<<13|u>>>19,x15^=(u=x11+x7|0)<<18|u>>>14,x1^=(u=x0+x3|0)<<7|u>>>25,x2^=(u=x1+x0|0)<<9|u>>>23,x3^=(u=x2+x1|0)<<13|u>>>19,x0^=(u=x3+x2|0)<<18|u>>>14,x6^=(u=x5+x4|0)<<7|u>>>25,x7^=(u=x6+x5|0)<<9|u>>>23,x4^=(u=x7+x6|0)<<13|u>>>19,x5^=(u=x4+x7|0)<<18|u>>>14,x11^=(u=x10+x9|0)<<7|u>>>25,x8^=(u=x11+x10|0)<<9|u>>>23,x9^=(u=x8+x11|0)<<13|u>>>19,x10^=(u=x9+x8|0)<<18|u>>>14,x12^=(u=x15+x14|0)<<7|u>>>25,x13^=(u=x12+x15|0)<<9|u>>>23,x14^=(u=x13+x12|0)<<13|u>>>19,x15^=(u=x14+x13|0)<<18|u>>>14;o[0]=x0>>>0&255,o[1]=x0>>>8&255,o[2]=x0>>>16&255,o[3]=x0>>>24&255,o[4]=x5>>>0&255,o[5]=x5>>>8&255,o[6]=x5>>>16&255,o[7]=x5>>>24&255,o[8]=x10>>>0&255,o[9]=x10>>>8&255,o[10]=x10>>>16&255,o[11]=x10>>>24&255,o[12]=x15>>>0&255,o[13]=x15>>>8&255,o[14]=x15>>>16&255,o[15]=x15>>>24&255,o[16]=x6>>>0&255,o[17]=x6>>>8&255,o[18]=x6>>>16&255,o[19]=x6>>>24&255,o[20]=x7>>>0&255,o[21]=x7>>>8&255,o[22]=x7>>>16&255,o[23]=x7>>>24&255,o[24]=x8>>>0&255,o[25]=x8>>>8&255,o[26]=x8>>>16&255,o[27]=x8>>>24&255,o[28]=x9>>>0&255,o[29]=x9>>>8&255,o[30]=x9>>>16&255,o[31]=x9>>>24&255}(out,inp,k,c)}var sigma=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function crypto_stream_salsa20_xor(c,cpos,m,mpos,b,n,k){var u,i,z=new Uint8Array(16),x=new Uint8Array(64);for(i=0;i<16;i++)z[i]=0;for(i=0;i<8;i++)z[i]=n[i];for(;b>=64;){for(crypto_core_salsa20(x,z,k,sigma),i=0;i<64;i++)c[cpos+i]=m[mpos+i]^x[i];for(i=8,u=1;i<16;i++)u=u+(255&z[i])|0,z[i]=255&u,u>>>=8;b-=64,cpos+=64,mpos+=64}if(b>0)for(crypto_core_salsa20(x,z,k,sigma),i=0;i<b;i++)c[cpos+i]=m[mpos+i]^x[i];return 0}function crypto_stream_salsa20(c,cpos,b,n,k){var u,i,z=new Uint8Array(16),x=new Uint8Array(64);for(i=0;i<16;i++)z[i]=0;for(i=0;i<8;i++)z[i]=n[i];for(;b>=64;){for(crypto_core_salsa20(x,z,k,sigma),i=0;i<64;i++)c[cpos+i]=x[i];for(i=8,u=1;i<16;i++)u=u+(255&z[i])|0,z[i]=255&u,u>>>=8;b-=64,cpos+=64}if(b>0)for(crypto_core_salsa20(x,z,k,sigma),i=0;i<b;i++)c[cpos+i]=x[i];return 0}function crypto_stream(c,cpos,d,n,k){var s=new Uint8Array(32);crypto_core_hsalsa20(s,n,k,sigma);for(var sn=new Uint8Array(8),i=0;i<8;i++)sn[i]=n[i+16];return crypto_stream_salsa20(c,cpos,d,sn,s)}function crypto_stream_xor(c,cpos,m,mpos,d,n,k){var s=new Uint8Array(32);crypto_core_hsalsa20(s,n,k,sigma);for(var sn=new Uint8Array(8),i=0;i<8;i++)sn[i]=n[i+16];return crypto_stream_salsa20_xor(c,cpos,m,mpos,d,sn,s)}var poly1305=function(key){var t0,t1,t2,t3,t4,t5,t6,t7;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t0=255&key[0]|(255&key[1])<<8,this.r[0]=8191&t0,t1=255&key[2]|(255&key[3])<<8,this.r[1]=(t0>>>13|t1<<3)&8191,t2=255&key[4]|(255&key[5])<<8,this.r[2]=(t1>>>10|t2<<6)&7939,t3=255&key[6]|(255&key[7])<<8,this.r[3]=(t2>>>7|t3<<9)&8191,t4=255&key[8]|(255&key[9])<<8,this.r[4]=(t3>>>4|t4<<12)&255,this.r[5]=t4>>>1&8190,t5=255&key[10]|(255&key[11])<<8,this.r[6]=(t4>>>14|t5<<2)&8191,t6=255&key[12]|(255&key[13])<<8,this.r[7]=(t5>>>11|t6<<5)&8065,t7=255&key[14]|(255&key[15])<<8,this.r[8]=(t6>>>8|t7<<8)&8191,this.r[9]=t7>>>5&127,this.pad[0]=255&key[16]|(255&key[17])<<8,this.pad[1]=255&key[18]|(255&key[19])<<8,this.pad[2]=255&key[20]|(255&key[21])<<8,this.pad[3]=255&key[22]|(255&key[23])<<8,this.pad[4]=255&key[24]|(255&key[25])<<8,this.pad[5]=255&key[26]|(255&key[27])<<8,this.pad[6]=255&key[28]|(255&key[29])<<8,this.pad[7]=255&key[30]|(255&key[31])<<8};function crypto_onetimeauth(out,outpos,m,mpos,n,k){var s=new poly1305(k);return s.update(m,mpos,n),s.finish(out,outpos),0}function crypto_onetimeauth_verify(h,hpos,m,mpos,n,k){var x=new Uint8Array(16);return crypto_onetimeauth(x,0,m,mpos,n,k),crypto_verify_16(h,hpos,x,0)}function crypto_secretbox(c,m,d,n,k){var i;if(d<32)return -1;for(crypto_stream_xor(c,0,m,0,d,n,k),crypto_onetimeauth(c,16,c,32,d-32,c),i=0;i<16;i++)c[i]=0;return 0}function crypto_secretbox_open(m,c,d,n,k){var i,x=new Uint8Array(32);if(d<32||(crypto_stream(x,0,32,n,k),0!==crypto_onetimeauth_verify(c,16,c,32,d-32,x)))return -1;for(crypto_stream_xor(m,0,c,0,d,n,k),i=0;i<32;i++)m[i]=0;return 0}function set25519(r,a){var i;for(i=0;i<16;i++)r[i]=0|a[i]}function car25519(o){var i,v,c=1;for(i=0;i<16;i++)c=Math.floor((v=o[i]+c+65535)/65536),o[i]=v-65536*c;o[0]+=c-1+37*(c-1)}function sel25519(p,q,b){for(var t,c=~(b-1),i=0;i<16;i++)t=c&(p[i]^q[i]),p[i]^=t,q[i]^=t}function pack25519(o,n){var i,j,b,m=gf(),t=gf();for(i=0;i<16;i++)t[i]=n[i];for(car25519(t),car25519(t),car25519(t),j=0;j<2;j++){for(i=1,m[0]=t[0]-65517;i<15;i++)m[i]=t[i]-65535-(m[i-1]>>16&1),m[i-1]&=65535;m[15]=t[15]-32767-(m[14]>>16&1),b=m[15]>>16&1,m[14]&=65535,sel25519(t,m,1-b)}for(i=0;i<16;i++)o[2*i]=255&t[i],o[2*i+1]=t[i]>>8}function neq25519(a,b){var c=new Uint8Array(32),d=new Uint8Array(32);return pack25519(c,a),pack25519(d,b),crypto_verify_32(c,0,d,0)}function par25519(a){var d=new Uint8Array(32);return pack25519(d,a),1&d[0]}function unpack25519(o,n){var i;for(i=0;i<16;i++)o[i]=n[2*i]+(n[2*i+1]<<8);o[15]&=32767}function A(o,a,b){for(var i=0;i<16;i++)o[i]=a[i]+b[i]}function Z(o,a,b){for(var i=0;i<16;i++)o[i]=a[i]-b[i]}function M(o,a,b){var v,c,t0=0,t1=0,t2=0,t3=0,t4=0,t5=0,t6=0,t7=0,t8=0,t9=0,t10=0,t11=0,t12=0,t13=0,t14=0,t15=0,t16=0,t17=0,t18=0,t19=0,t20=0,t21=0,t22=0,t23=0,t24=0,t25=0,t26=0,t27=0,t28=0,t29=0,t30=0,b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=b[6],b7=b[7],b8=b[8],b9=b[9],b10=b[10],b11=b[11],b12=b[12],b13=b[13],b14=b[14],b15=b[15];t0+=(v=a[0])*b0,t1+=v*b1,t2+=v*b2,t3+=v*b3,t4+=v*b4,t5+=v*b5,t6+=v*b6,t7+=v*b7,t8+=v*b8,t9+=v*b9,t10+=v*b10,t11+=v*b11,t12+=v*b12,t13+=v*b13,t14+=v*b14,t15+=v*b15,t1+=(v=a[1])*b0,t2+=v*b1,t3+=v*b2,t4+=v*b3,t5+=v*b4,t6+=v*b5,t7+=v*b6,t8+=v*b7,t9+=v*b8,t10+=v*b9,t11+=v*b10,t12+=v*b11,t13+=v*b12,t14+=v*b13,t15+=v*b14,t16+=v*b15,t2+=(v=a[2])*b0,t3+=v*b1,t4+=v*b2,t5+=v*b3,t6+=v*b4,t7+=v*b5,t8+=v*b6,t9+=v*b7,t10+=v*b8,t11+=v*b9,t12+=v*b10,t13+=v*b11,t14+=v*b12,t15+=v*b13,t16+=v*b14,t17+=v*b15,t3+=(v=a[3])*b0,t4+=v*b1,t5+=v*b2,t6+=v*b3,t7+=v*b4,t8+=v*b5,t9+=v*b6,t10+=v*b7,t11+=v*b8,t12+=v*b9,t13+=v*b10,t14+=v*b11,t15+=v*b12,t16+=v*b13,t17+=v*b14,t18+=v*b15,t4+=(v=a[4])*b0,t5+=v*b1,t6+=v*b2,t7+=v*b3,t8+=v*b4,t9+=v*b5,t10+=v*b6,t11+=v*b7,t12+=v*b8,t13+=v*b9,t14+=v*b10,t15+=v*b11,t16+=v*b12,t17+=v*b13,t18+=v*b14,t19+=v*b15,t5+=(v=a[5])*b0,t6+=v*b1,t7+=v*b2,t8+=v*b3,t9+=v*b4,t10+=v*b5,t11+=v*b6,t12+=v*b7,t13+=v*b8,t14+=v*b9,t15+=v*b10,t16+=v*b11,t17+=v*b12,t18+=v*b13,t19+=v*b14,t20+=v*b15,t6+=(v=a[6])*b0,t7+=v*b1,t8+=v*b2,t9+=v*b3,t10+=v*b4,t11+=v*b5,t12+=v*b6,t13+=v*b7,t14+=v*b8,t15+=v*b9,t16+=v*b10,t17+=v*b11,t18+=v*b12,t19+=v*b13,t20+=v*b14,t21+=v*b15,t7+=(v=a[7])*b0,t8+=v*b1,t9+=v*b2,t10+=v*b3,t11+=v*b4,t12+=v*b5,t13+=v*b6,t14+=v*b7,t15+=v*b8,t16+=v*b9,t17+=v*b10,t18+=v*b11,t19+=v*b12,t20+=v*b13,t21+=v*b14,t22+=v*b15,t8+=(v=a[8])*b0,t9+=v*b1,t10+=v*b2,t11+=v*b3,t12+=v*b4,t13+=v*b5,t14+=v*b6,t15+=v*b7,t16+=v*b8,t17+=v*b9,t18+=v*b10,t19+=v*b11,t20+=v*b12,t21+=v*b13,t22+=v*b14,t23+=v*b15,t9+=(v=a[9])*b0,t10+=v*b1,t11+=v*b2,t12+=v*b3,t13+=v*b4,t14+=v*b5,t15+=v*b6,t16+=v*b7,t17+=v*b8,t18+=v*b9,t19+=v*b10,t20+=v*b11,t21+=v*b12,t22+=v*b13,t23+=v*b14,t24+=v*b15,t10+=(v=a[10])*b0,t11+=v*b1,t12+=v*b2,t13+=v*b3,t14+=v*b4,t15+=v*b5,t16+=v*b6,t17+=v*b7,t18+=v*b8,t19+=v*b9,t20+=v*b10,t21+=v*b11,t22+=v*b12,t23+=v*b13,t24+=v*b14,t25+=v*b15,t11+=(v=a[11])*b0,t12+=v*b1,t13+=v*b2,t14+=v*b3,t15+=v*b4,t16+=v*b5,t17+=v*b6,t18+=v*b7,t19+=v*b8,t20+=v*b9,t21+=v*b10,t22+=v*b11,t23+=v*b12,t24+=v*b13,t25+=v*b14,t26+=v*b15,t12+=(v=a[12])*b0,t13+=v*b1,t14+=v*b2,t15+=v*b3,t16+=v*b4,t17+=v*b5,t18+=v*b6,t19+=v*b7,t20+=v*b8,t21+=v*b9,t22+=v*b10,t23+=v*b11,t24+=v*b12,t25+=v*b13,t26+=v*b14,t27+=v*b15,t13+=(v=a[13])*b0,t14+=v*b1,t15+=v*b2,t16+=v*b3,t17+=v*b4,t18+=v*b5,t19+=v*b6,t20+=v*b7,t21+=v*b8,t22+=v*b9,t23+=v*b10,t24+=v*b11,t25+=v*b12,t26+=v*b13,t27+=v*b14,t28+=v*b15,t14+=(v=a[14])*b0,t15+=v*b1,t16+=v*b2,t17+=v*b3,t18+=v*b4,t19+=v*b5,t20+=v*b6,t21+=v*b7,t22+=v*b8,t23+=v*b9,t24+=v*b10,t25+=v*b11,t26+=v*b12,t27+=v*b13,t28+=v*b14,t29+=v*b15,t15+=(v=a[15])*b0,t16+=v*b1,t17+=v*b2,t18+=v*b3,t19+=v*b4,t20+=v*b5,t21+=v*b6,t22+=v*b7,t23+=v*b8,t24+=v*b9,t25+=v*b10,t26+=v*b11,t27+=v*b12,t28+=v*b13,t29+=v*b14,t30+=v*b15,t0+=38*t16,t1+=38*t17,t2+=38*t18,t3+=38*t19,t4+=38*t20,t5+=38*t21,t6+=38*t22,t7+=38*t23,t8+=38*t24,t9+=38*t25,t10+=38*t26,t11+=38*t27,t12+=38*t28,t13+=38*t29,t14+=38*t30,c=Math.floor((v=t0+(c=1)+65535)/65536),t0=v-65536*c,c=Math.floor((v=t1+c+65535)/65536),t1=v-65536*c,c=Math.floor((v=t2+c+65535)/65536),t2=v-65536*c,c=Math.floor((v=t3+c+65535)/65536),t3=v-65536*c,c=Math.floor((v=t4+c+65535)/65536),t4=v-65536*c,c=Math.floor((v=t5+c+65535)/65536),t5=v-65536*c,c=Math.floor((v=t6+c+65535)/65536),t6=v-65536*c,c=Math.floor((v=t7+c+65535)/65536),t7=v-65536*c,c=Math.floor((v=t8+c+65535)/65536),t8=v-65536*c,c=Math.floor((v=t9+c+65535)/65536),t9=v-65536*c,c=Math.floor((v=t10+c+65535)/65536),t10=v-65536*c,c=Math.floor((v=t11+c+65535)/65536),t11=v-65536*c,c=Math.floor((v=t12+c+65535)/65536),t12=v-65536*c,c=Math.floor((v=t13+c+65535)/65536),t13=v-65536*c,c=Math.floor((v=t14+c+65535)/65536),t14=v-65536*c,c=Math.floor((v=t15+c+65535)/65536),t15=v-65536*c,t0+=c-1+37*(c-1),c=Math.floor((v=t0+(c=1)+65535)/65536),t0=v-65536*c,c=Math.floor((v=t1+c+65535)/65536),t1=v-65536*c,c=Math.floor((v=t2+c+65535)/65536),t2=v-65536*c,c=Math.floor((v=t3+c+65535)/65536),t3=v-65536*c,c=Math.floor((v=t4+c+65535)/65536),t4=v-65536*c,c=Math.floor((v=t5+c+65535)/65536),t5=v-65536*c,c=Math.floor((v=t6+c+65535)/65536),t6=v-65536*c,c=Math.floor((v=t7+c+65535)/65536),t7=v-65536*c,c=Math.floor((v=t8+c+65535)/65536),t8=v-65536*c,c=Math.floor((v=t9+c+65535)/65536),t9=v-65536*c,c=Math.floor((v=t10+c+65535)/65536),t10=v-65536*c,c=Math.floor((v=t11+c+65535)/65536),t11=v-65536*c,c=Math.floor((v=t12+c+65535)/65536),t12=v-65536*c,c=Math.floor((v=t13+c+65535)/65536),t13=v-65536*c,c=Math.floor((v=t14+c+65535)/65536),t14=v-65536*c,c=Math.floor((v=t15+c+65535)/65536),t15=v-65536*c,t0+=c-1+37*(c-1),o[0]=t0,o[1]=t1,o[2]=t2,o[3]=t3,o[4]=t4,o[5]=t5,o[6]=t6,o[7]=t7,o[8]=t8,o[9]=t9,o[10]=t10,o[11]=t11,o[12]=t12,o[13]=t13,o[14]=t14,o[15]=t15}function S(o,a){M(o,a,a)}function inv25519(o,i){var a,c=gf();for(a=0;a<16;a++)c[a]=i[a];for(a=253;a>=0;a--)S(c,c),2!==a&&4!==a&&M(c,c,i);for(a=0;a<16;a++)o[a]=c[a]}function pow2523(o,i){var a,c=gf();for(a=0;a<16;a++)c[a]=i[a];for(a=250;a>=0;a--)S(c,c),1!==a&&M(c,c,i);for(a=0;a<16;a++)o[a]=c[a]}function crypto_scalarmult(q,n,p){var r,i,z=new Uint8Array(32),x=new Float64Array(80),a=gf(),b=gf(),c=gf(),d=gf(),e=gf(),f=gf();for(i=0;i<31;i++)z[i]=n[i];for(z[31]=127&n[31]|64,z[0]&=248,unpack25519(x,p),i=0;i<16;i++)b[i]=x[i],d[i]=a[i]=c[i]=0;for(i=254,a[0]=d[0]=1;i>=0;--i)sel25519(a,b,r=z[i>>>3]>>>(7&i)&1),sel25519(c,d,r),A(e,a,c),Z(a,a,c),A(c,b,d),Z(b,b,d),S(d,e),S(f,a),M(a,c,a),M(c,b,e),A(e,a,c),Z(a,a,c),S(b,a),Z(c,d,f),M(a,c,_121665),A(a,a,d),M(c,c,a),M(a,d,f),M(d,b,x),S(b,e),sel25519(a,b,r),sel25519(c,d,r);for(i=0;i<16;i++)x[i+16]=a[i],x[i+32]=c[i],x[i+48]=b[i],x[i+64]=d[i];var x32=x.subarray(32),x16=x.subarray(16);return inv25519(x32,x32),M(x16,x16,x32),pack25519(q,x16),0}function crypto_scalarmult_base(q,n){return crypto_scalarmult(q,n,_9)}function crypto_box_keypair(y,x){return randombytes(x,32),crypto_scalarmult_base(y,x)}function crypto_box_beforenm(k,y,x){var s=new Uint8Array(32);return crypto_scalarmult(s,x,y),crypto_core_hsalsa20(k,_0,s,sigma)}poly1305.prototype.blocks=function(m,mpos,bytes){for(var t0,t1,t2,t3,t4,t5,t6,t7,c,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,hibit=this.fin?0:2048,h0=this.h[0],h1=this.h[1],h2=this.h[2],h3=this.h[3],h4=this.h[4],h5=this.h[5],h6=this.h[6],h7=this.h[7],h8=this.h[8],h9=this.h[9],r0=this.r[0],r1=this.r[1],r2=this.r[2],r3=this.r[3],r4=this.r[4],r5=this.r[5],r6=this.r[6],r7=this.r[7],r8=this.r[8],r9=this.r[9];bytes>=16;)h0+=8191&(t0=255&m[mpos+0]|(255&m[mpos+1])<<8),h1+=(t0>>>13|(t1=255&m[mpos+2]|(255&m[mpos+3])<<8)<<3)&8191,h2+=(t1>>>10|(t2=255&m[mpos+4]|(255&m[mpos+5])<<8)<<6)&8191,h3+=(t2>>>7|(t3=255&m[mpos+6]|(255&m[mpos+7])<<8)<<9)&8191,h4+=(t3>>>4|(t4=255&m[mpos+8]|(255&m[mpos+9])<<8)<<12)&8191,h5+=t4>>>1&8191,h6+=(t4>>>14|(t5=255&m[mpos+10]|(255&m[mpos+11])<<8)<<2)&8191,h7+=(t5>>>11|(t6=255&m[mpos+12]|(255&m[mpos+13])<<8)<<5)&8191,h8+=(t6>>>8|(t7=255&m[mpos+14]|(255&m[mpos+15])<<8)<<8)&8191,h9+=t7>>>5|hibit,c=(d0=(c=0)+h0*r0+h1*(5*r9)+h2*(5*r8)+h3*(5*r7)+h4*(5*r6))>>>13,d0&=8191,c+=(d0=h5*(5*r5)+h6*(5*r4)+h7*(5*r3)+h8*(5*r2)+h9*(5*r1))>>>13,d0&=8191,c=(d1=c+h0*r1+h1*r0+h2*(5*r9)+h3*(5*r8)+h4*(5*r7))>>>13,d1&=8191,c+=(d1=h5*(5*r6)+h6*(5*r5)+h7*(5*r4)+h8*(5*r3)+h9*(5*r2))>>>13,d1&=8191,c=(d2=c+h0*r2+h1*r1+h2*r0+h3*(5*r9)+h4*(5*r8))>>>13,d2&=8191,c+=(d2=h5*(5*r7)+h6*(5*r6)+h7*(5*r5)+h8*(5*r4)+h9*(5*r3))>>>13,d2&=8191,c=(d3=c+h0*r3+h1*r2+h2*r1+h3*r0+h4*(5*r9))>>>13,d3&=8191,c+=(d3=h5*(5*r8)+h6*(5*r7)+h7*(5*r6)+h8*(5*r5)+h9*(5*r4))>>>13,d3&=8191,c=(d4=c+h0*r4+h1*r3+h2*r2+h3*r1+h4*r0)>>>13,d4&=8191,c+=(d4=h5*(5*r9)+h6*(5*r8)+h7*(5*r7)+h8*(5*r6)+h9*(5*r5))>>>13,d4&=8191,c=(d5=c+h0*r5+h1*r4+h2*r3+h3*r2+h4*r1)>>>13,d5&=8191,c+=(d5=h5*r0+h6*(5*r9)+h7*(5*r8)+h8*(5*r7)+h9*(5*r6))>>>13,d5&=8191,c=(d6=c+h0*r6+h1*r5+h2*r4+h3*r3+h4*r2)>>>13,d6&=8191,c+=(d6=h5*r1+h6*r0+h7*(5*r9)+h8*(5*r8)+h9*(5*r7))>>>13,d6&=8191,c=(d7=c+h0*r7+h1*r6+h2*r5+h3*r4+h4*r3)>>>13,d7&=8191,c+=(d7=h5*r2+h6*r1+h7*r0+h8*(5*r9)+h9*(5*r8))>>>13,d7&=8191,c=(d8=c+h0*r8+h1*r7+h2*r6+h3*r5+h4*r4)>>>13,d8&=8191,c+=(d8=h5*r3+h6*r2+h7*r1+h8*r0+h9*(5*r9))>>>13,d8&=8191,c=(d9=c+h0*r9+h1*r8+h2*r7+h3*r6+h4*r5)>>>13,d9&=8191,c+=(d9=h5*r4+h6*r3+h7*r2+h8*r1+h9*r0)>>>13,d9&=8191,d0=8191&(c=(c=(c<<2)+c|0)+d0|0),c>>>=13,d1+=c,h0=d0,h1=d1,h2=d2,h3=d3,h4=d4,h5=d5,h6=d6,h7=d7,h8=d8,h9=d9,mpos+=16,bytes-=16;this.h[0]=h0,this.h[1]=h1,this.h[2]=h2,this.h[3]=h3,this.h[4]=h4,this.h[5]=h5,this.h[6]=h6,this.h[7]=h7,this.h[8]=h8,this.h[9]=h9},poly1305.prototype.finish=function(mac,macpos){var c,mask,f,i,g=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(c=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=c,c=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*c,c=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=c,c=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=c,g[0]=this.h[0]+5,c=g[0]>>>13,g[0]&=8191,i=1;i<10;i++)g[i]=this.h[i]+c,c=g[i]>>>13,g[i]&=8191;for(g[9]-=8192,mask=(1^c)-1,i=0;i<10;i++)g[i]&=mask;for(i=0,mask=~mask;i<10;i++)this.h[i]=this.h[i]&mask|g[i];for(i=1,this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,f=this.h[0]+this.pad[0],this.h[0]=65535&f;i<8;i++)f=(this.h[i]+this.pad[i]|0)+(f>>>16)|0,this.h[i]=65535&f;mac[macpos+0]=this.h[0]>>>0&255,mac[macpos+1]=this.h[0]>>>8&255,mac[macpos+2]=this.h[1]>>>0&255,mac[macpos+3]=this.h[1]>>>8&255,mac[macpos+4]=this.h[2]>>>0&255,mac[macpos+5]=this.h[2]>>>8&255,mac[macpos+6]=this.h[3]>>>0&255,mac[macpos+7]=this.h[3]>>>8&255,mac[macpos+8]=this.h[4]>>>0&255,mac[macpos+9]=this.h[4]>>>8&255,mac[macpos+10]=this.h[5]>>>0&255,mac[macpos+11]=this.h[5]>>>8&255,mac[macpos+12]=this.h[6]>>>0&255,mac[macpos+13]=this.h[6]>>>8&255,mac[macpos+14]=this.h[7]>>>0&255,mac[macpos+15]=this.h[7]>>>8&255},poly1305.prototype.update=function(m,mpos,bytes){var i,want;if(this.leftover){for((want=16-this.leftover)>bytes&&(want=bytes),i=0;i<want;i++)this.buffer[this.leftover+i]=m[mpos+i];if(bytes-=want,mpos+=want,this.leftover+=want,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(bytes>=16&&(want=bytes-bytes%16,this.blocks(m,mpos,want),mpos+=want,bytes-=want),bytes){for(i=0;i<bytes;i++)this.buffer[this.leftover+i]=m[mpos+i];this.leftover+=bytes}};var K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function crypto_hashblocks_hl(hh,hl,m,n){for(var bh0,bh1,bh2,bh3,bh4,bh5,bh6,bh7,bl0,bl1,bl2,bl3,bl4,bl5,bl6,bl7,th,tl,i,j,h,l,a,b,c,d,wh=new Int32Array(16),wl=new Int32Array(16),ah0=hh[0],ah1=hh[1],ah2=hh[2],ah3=hh[3],ah4=hh[4],ah5=hh[5],ah6=hh[6],ah7=hh[7],al0=hl[0],al1=hl[1],al2=hl[2],al3=hl[3],al4=hl[4],al5=hl[5],al6=hl[6],al7=hl[7],pos=0;n>=128;){for(i=0;i<16;i++)j=8*i+pos,wh[i]=m[j+0]<<24|m[j+1]<<16|m[j+2]<<8|m[j+3],wl[i]=m[j+4]<<24|m[j+5]<<16|m[j+6]<<8|m[j+7];for(i=0;i<80;i++)if(bh0=ah0,bh1=ah1,bh2=ah2,bh3=ah3,bh4=ah4,bh5=ah5,bh6=ah6,bh7=ah7,bl0=al0,bl1=al1,bl2=al2,bl3=al3,bl4=al4,bl5=al5,bl6=al6,bl7=al7,h=ah7,a=65535&(l=al7),b=l>>>16,c=65535&h,d=h>>>16,h=(ah4>>>14|al4<<18)^(ah4>>>18|al4<<14)^(al4>>>9|ah4<<23),a+=65535&(l=(al4>>>14|ah4<<18)^(al4>>>18|ah4<<14)^(ah4>>>9|al4<<23)),b+=l>>>16,c+=65535&h,d+=h>>>16,h=ah4&ah5^~ah4&ah6,a+=65535&(l=al4&al5^~al4&al6),b+=l>>>16,c+=65535&h,d+=h>>>16,h=K[2*i],a+=65535&(l=K[2*i+1]),b+=l>>>16,c+=65535&h,d+=h>>>16,h=wh[i%16],a+=65535&(l=wl[i%16]),b+=l>>>16,c+=65535&h,d+=h>>>16,b+=a>>>16,c+=b>>>16,d+=c>>>16,th=65535&c|d<<16,tl=65535&a|b<<16,h=th,a=65535&(l=tl),b=l>>>16,c=65535&h,d=h>>>16,h=(ah0>>>28|al0<<4)^(al0>>>2|ah0<<30)^(al0>>>7|ah0<<25),a+=65535&(l=(al0>>>28|ah0<<4)^(ah0>>>2|al0<<30)^(ah0>>>7|al0<<25)),b+=l>>>16,c+=65535&h,d+=h>>>16,h=ah0&ah1^ah0&ah2^ah1&ah2,a+=65535&(l=al0&al1^al0&al2^al1&al2),b+=l>>>16,c+=65535&h,d+=h>>>16,b+=a>>>16,c+=b>>>16,d+=c>>>16,bh7=65535&c|d<<16,bl7=65535&a|b<<16,h=bh3,a=65535&(l=bl3),b=l>>>16,c=65535&h,d=h>>>16,h=th,a+=65535&(l=tl),b+=l>>>16,c+=65535&h,d+=h>>>16,b+=a>>>16,c+=b>>>16,d+=c>>>16,bh3=65535&c|d<<16,bl3=65535&a|b<<16,ah1=bh0,ah2=bh1,ah3=bh2,ah4=bh3,ah5=bh4,ah6=bh5,ah7=bh6,ah0=bh7,al1=bl0,al2=bl1,al3=bl2,al4=bl3,al5=bl4,al6=bl5,al7=bl6,al0=bl7,i%16==15)for(j=0;j<16;j++)h=wh[j],a=65535&(l=wl[j]),b=l>>>16,c=65535&h,d=h>>>16,h=wh[(j+9)%16],a+=65535&(l=wl[(j+9)%16]),b+=l>>>16,c+=65535&h,d+=h>>>16,h=((th=wh[(j+1)%16])>>>1|(tl=wl[(j+1)%16])<<31)^(th>>>8|tl<<24)^th>>>7,a+=65535&(l=(tl>>>1|th<<31)^(tl>>>8|th<<24)^(tl>>>7|th<<25)),b+=l>>>16,c+=65535&h,d+=h>>>16,h=((th=wh[(j+14)%16])>>>19|(tl=wl[(j+14)%16])<<13)^(tl>>>29|th<<3)^th>>>6,a+=65535&(l=(tl>>>19|th<<13)^(th>>>29|tl<<3)^(tl>>>6|th<<26)),b+=l>>>16,c+=65535&h,d+=h>>>16,b+=a>>>16,c+=b>>>16,d+=c>>>16,wh[j]=65535&c|d<<16,wl[j]=65535&a|b<<16;h=ah0,a=65535&(l=al0),b=l>>>16,c=65535&h,d=h>>>16,h=hh[0],a+=65535&(l=hl[0]),b+=l>>>16,c+=65535&h,d+=h>>>16,b+=a>>>16,c+=b>>>16,d+=c>>>16,hh[0]=ah0=65535&c|d<<16,hl[0]=al0=65535&a|b<<16,h=ah1,a=65535&(l=al1),b=l>>>16,c=65535&h,d=h>>>16,h=hh[1],a+=65535&(l=hl[1]),b+=l>>>16,c+=65535&h,d+=h>>>16,b+=a>>>16,c+=b>>>16,d+=c>>>16,hh[1]=ah1=65535&c|d<<16,hl[1]=al1=65535&a|b<<16,h=ah2,a=65535&(l=al2),b=l>>>16,c=65535&h,d=h>>>16,h=hh[2],a+=65535&(l=hl[2]),b+=l>>>16,c+=65535&h,d+=h>>>16,b+=a>>>16,c+=b>>>16,d+=c>>>16,hh[2]=ah2=65535&c|d<<16,hl[2]=al2=65535&a|b<<16,h=ah3,a=65535&(l=al3),b=l>>>16,c=65535&h,d=h>>>16,h=hh[3],a+=65535&(l=hl[3]),b+=l>>>16,c+=65535&h,d+=h>>>16,b+=a>>>16,c+=b>>>16,d+=c>>>16,hh[3]=ah3=65535&c|d<<16,hl[3]=al3=65535&a|b<<16,h=ah4,a=65535&(l=al4),b=l>>>16,c=65535&h,d=h>>>16,h=hh[4],a+=65535&(l=hl[4]),b+=l>>>16,c+=65535&h,d+=h>>>16,b+=a>>>16,c+=b>>>16,d+=c>>>16,hh[4]=ah4=65535&c|d<<16,hl[4]=al4=65535&a|b<<16,h=ah5,a=65535&(l=al5),b=l>>>16,c=65535&h,d=h>>>16,h=hh[5],a+=65535&(l=hl[5]),b+=l>>>16,c+=65535&h,d+=h>>>16,b+=a>>>16,c+=b>>>16,d+=c>>>16,hh[5]=ah5=65535&c|d<<16,hl[5]=al5=65535&a|b<<16,h=ah6,a=65535&(l=al6),b=l>>>16,c=65535&h,d=h>>>16,h=hh[6],a+=65535&(l=hl[6]),b+=l>>>16,c+=65535&h,d+=h>>>16,b+=a>>>16,c+=b>>>16,d+=c>>>16,hh[6]=ah6=65535&c|d<<16,hl[6]=al6=65535&a|b<<16,h=ah7,a=65535&(l=al7),b=l>>>16,c=65535&h,d=h>>>16,h=hh[7],a+=65535&(l=hl[7]),b+=l>>>16,c+=65535&h,d+=h>>>16,b+=a>>>16,c+=b>>>16,d+=c>>>16,hh[7]=ah7=65535&c|d<<16,hl[7]=al7=65535&a|b<<16,pos+=128,n-=128}return n}function crypto_hash(out,m,n){var i,hh=new Int32Array(8),hl=new Int32Array(8),x=new Uint8Array(256),b=n;for(hh[0]=1779033703,hh[1]=3144134277,hh[2]=1013904242,hh[3]=2773480762,hh[4]=1359893119,hh[5]=2600822924,hh[6]=528734635,hh[7]=1541459225,hl[0]=4089235720,hl[1]=2227873595,hl[2]=4271175723,hl[3]=1595750129,hl[4]=2917565137,hl[5]=725511199,hl[6]=4215389547,hl[7]=327033209,crypto_hashblocks_hl(hh,hl,m,n),n%=128,i=0;i<n;i++)x[i]=m[b-n+i];for(x[n]=128,x[(n=256-128*(n<112?1:0))-9]=0,ts64(x,n-8,b/536870912|0,b<<3),crypto_hashblocks_hl(hh,hl,x,n),i=0;i<8;i++)ts64(out,8*i,hh[i],hl[i]);return 0}function add(p,q){var a=gf(),b=gf(),c=gf(),d=gf(),e=gf(),f=gf(),g=gf(),h=gf(),t=gf();Z(a,p[1],p[0]),Z(t,q[1],q[0]),M(a,a,t),A(b,p[0],p[1]),A(t,q[0],q[1]),M(b,b,t),M(c,p[3],q[3]),M(c,c,D2),M(d,p[2],q[2]),A(d,d,d),Z(e,b,a),Z(f,d,c),A(g,d,c),A(h,b,a),M(p[0],e,f),M(p[1],h,g),M(p[2],g,f),M(p[3],e,h)}function cswap(p,q,b){var i;for(i=0;i<4;i++)sel25519(p[i],q[i],b)}function pack(r,p){var tx=gf(),ty=gf(),zi=gf();inv25519(zi,p[2]),M(tx,p[0],zi),M(ty,p[1],zi),pack25519(r,ty),r[31]^=par25519(tx)<<7}function scalarmult(p,q,s){var b,i;for(set25519(p[0],gf0),set25519(p[1],gf1),set25519(p[2],gf1),set25519(p[3],gf0),i=255;i>=0;--i)cswap(p,q,b=s[i/8|0]>>(7&i)&1),add(q,p),add(p,p),cswap(p,q,b)}function scalarbase(p,s){var q=[gf(),gf(),gf(),gf()];set25519(q[0],X),set25519(q[1],Y),set25519(q[2],gf1),M(q[3],X,Y),scalarmult(p,q,s)}function crypto_sign_keypair(pk,sk,seeded){var i,d=new Uint8Array(64),p=[gf(),gf(),gf(),gf()];for(seeded||randombytes(sk,32),crypto_hash(d,sk,32),d[0]&=248,d[31]&=127,d[31]|=64,scalarbase(p,d),pack(pk,p),i=0;i<32;i++)sk[i+32]=pk[i];return 0}var L=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function modL(r,x){var carry,i,j,k;for(i=63;i>=32;--i){for(carry=0,j=i-32,k=i-12;j<k;++j)x[j]+=carry-16*x[i]*L[j-(i-32)],carry=Math.floor((x[j]+128)/256),x[j]-=256*carry;x[j]+=carry,x[i]=0}for(j=0,carry=0;j<32;j++)x[j]+=carry-(x[31]>>4)*L[j],carry=x[j]>>8,x[j]&=255;for(j=0;j<32;j++)x[j]-=carry*L[j];for(i=0;i<32;i++)x[i+1]+=x[i]>>8,r[i]=255&x[i]}function reduce(r){var i,x=new Float64Array(64);for(i=0;i<64;i++)x[i]=r[i];for(i=0;i<64;i++)r[i]=0;modL(r,x)}function crypto_sign(sm,m,n,sk){var i,j,d=new Uint8Array(64),h=new Uint8Array(64),r=new Uint8Array(64),x=new Float64Array(64),p=[gf(),gf(),gf(),gf()];for(crypto_hash(d,sk,32),d[0]&=248,d[31]&=127,d[31]|=64,i=0;i<n;i++)sm[64+i]=m[i];for(i=0;i<32;i++)sm[32+i]=d[32+i];for(crypto_hash(r,sm.subarray(32),n+32),reduce(r),scalarbase(p,r),pack(sm,p),i=32;i<64;i++)sm[i]=sk[i];for(crypto_hash(h,sm,n+64),reduce(h),i=0;i<64;i++)x[i]=0;for(i=0;i<32;i++)x[i]=r[i];for(i=0;i<32;i++)for(j=0;j<32;j++)x[i+j]+=h[i]*d[j];return modL(sm.subarray(32),x),n+64}function crypto_sign_open(m,sm,n,pk){var t,chk,num,den,den2,den4,den6,i,t1=new Uint8Array(32),h=new Uint8Array(64),p=[gf(),gf(),gf(),gf()],q=[gf(),gf(),gf(),gf()];if(n<64||(t=gf(),chk=gf(),num=gf(),den=gf(),den2=gf(),den4=gf(),den6=gf(),(set25519(q[2],gf1),unpack25519(q[1],pk),S(num,q[1]),M(den,num,D),Z(num,num,q[2]),A(den,q[2],den),S(den2,den),S(den4,den2),M(den6,den4,den2),M(t,den6,num),M(t,t,den),pow2523(t,t),M(t,t,num),M(t,t,den),M(t,t,den),M(q[0],t,den),S(chk,q[0]),M(chk,chk,den),neq25519(chk,num)&&M(q[0],q[0],I),S(chk,q[0]),M(chk,chk,den),neq25519(chk,num))?-1:(par25519(q[0])===pk[31]>>7&&Z(q[0],gf0,q[0]),M(q[3],q[0],q[1]),0)))return -1;for(i=0;i<n;i++)m[i]=sm[i];for(i=0;i<32;i++)m[i+32]=pk[i];if(crypto_hash(h,m,n),reduce(h),scalarmult(p,q,h),scalarbase(q,sm.subarray(32)),add(p,q),pack(t1,p),n-=64,crypto_verify_32(sm,0,t1,0)){for(i=0;i<n;i++)m[i]=0;return -1}for(i=0;i<n;i++)m[i]=sm[i+64];return n}function checkLengths(k,n){if(32!==k.length)throw Error("bad key size");if(24!==n.length)throw Error("bad nonce size")}function checkArrayTypes(){for(var i=0;i<arguments.length;i++)if(!(arguments[i]instanceof Uint8Array))throw TypeError("unexpected type, use Uint8Array")}function cleanup(arr){for(var i=0;i<arr.length;i++)arr[i]=0}nacl1.lowlevel={crypto_core_hsalsa20:crypto_core_hsalsa20,crypto_stream_xor:crypto_stream_xor,crypto_stream:crypto_stream,crypto_stream_salsa20_xor:crypto_stream_salsa20_xor,crypto_stream_salsa20:crypto_stream_salsa20,crypto_onetimeauth:crypto_onetimeauth,crypto_onetimeauth_verify:crypto_onetimeauth_verify,crypto_verify_16:crypto_verify_16,crypto_verify_32:crypto_verify_32,crypto_secretbox:crypto_secretbox,crypto_secretbox_open:crypto_secretbox_open,crypto_scalarmult:crypto_scalarmult,crypto_scalarmult_base:crypto_scalarmult_base,crypto_box_beforenm:crypto_box_beforenm,crypto_box_afternm:crypto_secretbox,crypto_box:function(c,m,d,n,y,x){var k=new Uint8Array(32);return crypto_box_beforenm(k,y,x),crypto_secretbox(c,m,d,n,k)},crypto_box_open:function(m,c,d,n,y,x){var k=new Uint8Array(32);return crypto_box_beforenm(k,y,x),crypto_secretbox_open(m,c,d,n,k)},crypto_box_keypair:crypto_box_keypair,crypto_hash:crypto_hash,crypto_sign:crypto_sign,crypto_sign_keypair:crypto_sign_keypair,crypto_sign_open:crypto_sign_open,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:gf,D:D,L:L,pack25519:pack25519,unpack25519:unpack25519,M:M,A:A,S:S,Z:Z,pow2523:pow2523,add:add,set25519:set25519,modL:modL,scalarmult:scalarmult,scalarbase:scalarbase},nacl1.randomBytes=function(n){var b=new Uint8Array(n);return randombytes(b,n),b},nacl1.secretbox=function(msg,nonce,key){checkArrayTypes(msg,nonce,key),checkLengths(key,nonce);for(var m=new Uint8Array(32+msg.length),c=new Uint8Array(m.length),i=0;i<msg.length;i++)m[i+32]=msg[i];return crypto_secretbox(c,m,m.length,nonce,key),c.subarray(16)},nacl1.secretbox.open=function(box,nonce,key){checkArrayTypes(box,nonce,key),checkLengths(key,nonce);for(var c=new Uint8Array(16+box.length),m=new Uint8Array(c.length),i=0;i<box.length;i++)c[i+16]=box[i];return c.length<32||0!==crypto_secretbox_open(m,c,c.length,nonce,key)?null:m.subarray(32)},nacl1.secretbox.keyLength=32,nacl1.secretbox.nonceLength=24,nacl1.secretbox.overheadLength=16,nacl1.scalarMult=function(n,p){if(checkArrayTypes(n,p),32!==n.length)throw Error("bad n size");if(32!==p.length)throw Error("bad p size");var q=new Uint8Array(32);return crypto_scalarmult(q,n,p),q},nacl1.scalarMult.base=function(n){if(checkArrayTypes(n),32!==n.length)throw Error("bad n size");var q=new Uint8Array(32);return crypto_scalarmult_base(q,n),q},nacl1.scalarMult.scalarLength=32,nacl1.scalarMult.groupElementLength=32,nacl1.box=function(msg,nonce,publicKey,secretKey){var k=nacl1.box.before(publicKey,secretKey);return nacl1.secretbox(msg,nonce,k)},nacl1.box.before=function(publicKey,secretKey){checkArrayTypes(publicKey,secretKey),function(pk,sk){if(32!==pk.length)throw Error("bad public key size");if(32!==sk.length)throw Error("bad secret key size")}(publicKey,secretKey);var k=new Uint8Array(32);return crypto_box_beforenm(k,publicKey,secretKey),k},nacl1.box.after=nacl1.secretbox,nacl1.box.open=function(msg,nonce,publicKey,secretKey){var k=nacl1.box.before(publicKey,secretKey);return nacl1.secretbox.open(msg,nonce,k)},nacl1.box.open.after=nacl1.secretbox.open,nacl1.box.keyPair=function(){var pk=new Uint8Array(32),sk=new Uint8Array(32);return crypto_box_keypair(pk,sk),{publicKey:pk,secretKey:sk}},nacl1.box.keyPair.fromSecretKey=function(secretKey){if(checkArrayTypes(secretKey),32!==secretKey.length)throw Error("bad secret key size");var pk=new Uint8Array(32);return crypto_scalarmult_base(pk,secretKey),{publicKey:pk,secretKey:new Uint8Array(secretKey)}},nacl1.box.publicKeyLength=32,nacl1.box.secretKeyLength=32,nacl1.box.sharedKeyLength=32,nacl1.box.nonceLength=24,nacl1.box.overheadLength=nacl1.secretbox.overheadLength,nacl1.sign=function(msg,secretKey){if(checkArrayTypes(msg,secretKey),64!==secretKey.length)throw Error("bad secret key size");var signedMsg=new Uint8Array(64+msg.length);return crypto_sign(signedMsg,msg,msg.length,secretKey),signedMsg},nacl1.sign.open=function(signedMsg,publicKey){if(checkArrayTypes(signedMsg,publicKey),32!==publicKey.length)throw Error("bad public key size");var tmp=new Uint8Array(signedMsg.length),mlen=crypto_sign_open(tmp,signedMsg,signedMsg.length,publicKey);if(mlen<0)return null;for(var m=new Uint8Array(mlen),i=0;i<m.length;i++)m[i]=tmp[i];return m},nacl1.sign.detached=function(msg,secretKey){for(var signedMsg=nacl1.sign(msg,secretKey),sig=new Uint8Array(64),i=0;i<sig.length;i++)sig[i]=signedMsg[i];return sig},nacl1.sign.detached.verify=function(msg,sig,publicKey){if(checkArrayTypes(msg,sig,publicKey),64!==sig.length)throw Error("bad signature size");if(32!==publicKey.length)throw Error("bad public key size");var i,sm=new Uint8Array(64+msg.length),m=new Uint8Array(64+msg.length);for(i=0;i<64;i++)sm[i]=sig[i];for(i=0;i<msg.length;i++)sm[i+64]=msg[i];return crypto_sign_open(m,sm,sm.length,publicKey)>=0},nacl1.sign.keyPair=function(){var pk=new Uint8Array(32),sk=new Uint8Array(64);return crypto_sign_keypair(pk,sk),{publicKey:pk,secretKey:sk}},nacl1.sign.keyPair.fromSecretKey=function(secretKey){if(checkArrayTypes(secretKey),64!==secretKey.length)throw Error("bad secret key size");for(var pk=new Uint8Array(32),i=0;i<pk.length;i++)pk[i]=secretKey[32+i];return{publicKey:pk,secretKey:new Uint8Array(secretKey)}},nacl1.sign.keyPair.fromSeed=function(seed){if(checkArrayTypes(seed),32!==seed.length)throw Error("bad seed size");for(var pk=new Uint8Array(32),sk=new Uint8Array(64),i=0;i<32;i++)sk[i]=seed[i];return crypto_sign_keypair(pk,sk,!0),{publicKey:pk,secretKey:sk}},nacl1.sign.publicKeyLength=32,nacl1.sign.secretKeyLength=64,nacl1.sign.seedLength=32,nacl1.sign.signatureLength=64,nacl1.hash=function(msg){checkArrayTypes(msg);var h=new Uint8Array(64);return crypto_hash(h,msg,msg.length),h},nacl1.hash.hashLength=64,nacl1.verify=function(x,y){return checkArrayTypes(x,y),0!==x.length&&0!==y.length&&x.length===y.length&&0===vn(x,0,y,0,x.length)},nacl1.setPRNG=function(fn){randombytes=fn},(crypto1="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&crypto1.getRandomValues?nacl1.setPRNG(function(x,n){var i,v=new Uint8Array(n);for(i=0;i<n;i+=65536)crypto1.getRandomValues(v.subarray(i,i+Math.min(n-i,65536)));for(i=0;i<n;i++)x[i]=v[i];cleanup(v)}):(crypto1=__webpack_require__(7534))&&crypto1.randomBytes&&nacl1.setPRNG(function(x,n){var i,v=crypto1.randomBytes(n);for(i=0;i<n;i++)x[i]=v[i];cleanup(v)})}(module.exports?module.exports:self.nacl=self.nacl||{})},6973:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{v4:function(){return esm_browser_v4}});var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&!(getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}for(var regex=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,byteToHex=[],i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));var esm_browser_stringify=function(arr){var offset=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,uuid=(byteToHex[arr[offset+0]]+byteToHex[arr[offset+1]]+byteToHex[arr[offset+2]]+byteToHex[arr[offset+3]]+"-"+byteToHex[arr[offset+4]]+byteToHex[arr[offset+5]]+"-"+byteToHex[arr[offset+6]]+byteToHex[arr[offset+7]]+"-"+byteToHex[arr[offset+8]]+byteToHex[arr[offset+9]]+"-"+byteToHex[arr[offset+10]]+byteToHex[arr[offset+11]]+byteToHex[arr[offset+12]]+byteToHex[arr[offset+13]]+byteToHex[arr[offset+14]]+byteToHex[arr[offset+15]]).toLowerCase();if(!("string"==typeof uuid&&regex.test(uuid)))throw TypeError("Stringified UUID is invalid");return uuid},esm_browser_v4=function(options,buf,offset){var rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf){offset=offset||0;for(var i=0;i<16;++i)buf[offset+i]=rnds[i];return buf}return esm_browser_stringify(rnds)}},6840:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return __webpack_require__(5136)}])},5136:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";let wallets;__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return _app}});var _AppReadyEvent_detail,_wallet,_wallets,_adapters,_events,jsx_runtime=__webpack_require__(5893),react=__webpack_require__(7294),lib=__webpack_require__(5688),log=__webpack_require__(9907),Chain=__webpack_require__(9030),ProviderAndSignerContext=__webpack_require__(1919),ContentsContext=__webpack_require__(5148),WalletContext=__webpack_require__(6361),getWalletContents=__webpack_require__(8893);let f=t=>{let[o,c]=(0,react.useState)({});return(0,react.useEffect)(()=>{if(!t)return;let n=async()=>{let e=await (null==t?void 0:t.getAddress());if(!e)return;let a=await (0,getWalletContents.Z)(e);c({address:e,contents:a})};n();let r=setInterval(n,5e3);return()=>clearInterval(r)},[t]),o};var store2=__webpack_require__(5228),Signer=__webpack_require__(4657);function isWalletProvider(wallet){return!("connect"in wallet)}function resolveAdapters(adapterAndProviders){return adapterAndProviders.flatMap(adapter=>isWalletProvider(adapter)?adapter.get():adapter)}var dist=__webpack_require__(3529);new WeakMap,new WeakMap,new WeakMap;var __classPrivateFieldSet=function(receiver,state,value,kind,f){if("m"===kind)throw TypeError("Private method is not writable");if("a"===kind&&!f)throw TypeError("Private accessor was defined without a setter");if("function"==typeof state?receiver!==state||!f:!state.has(receiver))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===kind?f.call(receiver,value):f?f.value=value:state.set(receiver,value),value},__classPrivateFieldGet=function(receiver,state,kind,f){if("a"===kind&&!f)throw TypeError("Private accessor was defined without a getter");if("function"==typeof state?receiver!==state||!f:!state.has(receiver))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===kind?f:"a"===kind?f.call(receiver):f?f.value:state.get(receiver)};let registered=new Set,listeners={};function register(...wallets){return(wallets=wallets.filter(wallet=>!registered.has(wallet))).length?(wallets.forEach(wallet=>registered.add(wallet)),listeners.register?.forEach(listener=>guard(()=>listener(...wallets))),function(){wallets.forEach(wallet=>registered.delete(wallet)),listeners.unregister?.forEach(listener=>guard(()=>listener(...wallets)))}):()=>{}}function get(){return[...registered]}function on(event,listener){return listeners[event]?.push(listener)||(listeners[event]=[listener]),function(){listeners[event]=listeners[event]?.filter(existingListener=>listener!==existingListener)}}function guard(callback){try{callback()}catch(error){console.error(error)}}class AppReadyEvent extends Event{constructor(api){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),_AppReadyEvent_detail.set(this,void 0),__classPrivateFieldSet(this,_AppReadyEvent_detail,api,"f")}get detail(){return __classPrivateFieldGet(this,_AppReadyEvent_detail,"f")}get type(){return"wallet-standard:app-ready"}preventDefault(){throw Error("preventDefault cannot be called")}stopImmediatePropagation(){throw Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw Error("stopPropagation cannot be called")}}function isStandardWalletAdapterCompatibleWallet(wallet){return"standard:connect"in wallet.features&&"standard:events"in wallet.features&&"sui:signAndExecuteTransaction"in wallet.features}_AppReadyEvent_detail=new WeakMap;var dist_accessCheck=(obj,member,msg)=>{if(!member.has(obj))throw TypeError("Cannot "+msg)},dist_privateGet=(obj,member,getter)=>(dist_accessCheck(obj,member,"read from private field"),getter?getter.call(obj):member.get(obj)),dist_privateAdd=(obj,member,value)=>{if(member.has(obj))throw TypeError("Cannot add the same private member more than once");member instanceof WeakSet?member.add(obj):member.set(obj,value)},dist_privateSet=(obj,member,value,setter)=>(dist_accessCheck(obj,member,"write to private field"),setter?setter.call(obj,value):member.set(obj,value),value),StandardWalletAdapter=class{constructor({wallet}){this.connected=!1,this.connecting=!1,dist_privateAdd(this,_wallet,void 0),dist_privateSet(this,_wallet,wallet)}get name(){return dist_privateGet(this,_wallet).name}get icon(){return dist_privateGet(this,_wallet).icon}get wallet(){return dist_privateGet(this,_wallet)}async getAccounts(){return dist_privateGet(this,_wallet).accounts.map(account=>account.address)}async connect(){try{if(this.connected||this.connecting)return;if(this.connecting=!0,dist_privateGet(this,_wallet).accounts.length||await dist_privateGet(this,_wallet).features["standard:connect"].connect(),!dist_privateGet(this,_wallet).accounts.length)throw Error("No wallet accounts found");this.connected=!0}finally{this.connecting=!1}}async disconnect(){this.connected=!1,this.connecting=!1,dist_privateGet(this,_wallet).features["standard:disconnect"]&&await dist_privateGet(this,_wallet).features["standard:disconnect"].disconnect()}async signAndExecuteTransaction(transaction){return dist_privateGet(this,_wallet).features["sui:signAndExecuteTransaction"].signAndExecuteTransaction({transaction})}};_wallet=new WeakMap;var WalletStandardAdapterProvider=class{constructor(){var n;dist_privateAdd(this,_wallets,void 0),dist_privateAdd(this,_adapters,void 0),dist_privateAdd(this,_events,void 0),dist_privateSet(this,_adapters,new Map),dist_privateSet(this,_wallets,function(){if(wallets||(wallets=function(){if(wallets||(wallets=Object.freeze({register,get,on}),"undefined"==typeof window))return wallets;let api=Object.freeze({register});try{window.addEventListener("wallet-standard:register-wallet",({detail:callback})=>callback(api))}catch(error){console.error("wallet-standard:register-wallet event listener could not be added\n",error)}try{window.dispatchEvent(new AppReadyEvent(api))}catch(error1){console.error("wallet-standard:app-ready event could not be dispatched\n",error1)}return wallets}(),"undefined"==typeof window))return wallets;let callbacks=window.navigator.wallets||[];if(!Array.isArray(callbacks))return console.error("window.navigator.wallets is not an array"),wallets;let{register:register1}=wallets,push=(...callbacks)=>callbacks.forEach(callback=>guard(()=>callback({register:register1})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push})})}catch(error){return console.error("window.navigator.wallets could not be set"),wallets}return push(...callbacks),wallets}()),dist_privateSet(this,_events,{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get("*"))&&i.slice().map(function(n){n(t,e)})}}),dist_privateGet(this,_wallets).on("register",()=>{dist_privateGet(this,_events).emit("changed")}),dist_privateGet(this,_wallets).on("unregister",()=>{dist_privateGet(this,_events).emit("changed")})}get(){let filtered=dist_privateGet(this,_wallets).get().filter(isStandardWalletAdapterCompatibleWallet);return filtered.forEach(wallet=>{dist_privateGet(this,_adapters).has(wallet)||dist_privateGet(this,_adapters).set(wallet,new StandardWalletAdapter({wallet}))}),[...dist_privateGet(this,_adapters).values()]}on(eventName,callback){return dist_privateGet(this,_events).on(eventName,callback),()=>{dist_privateGet(this,_events).off(eventName,callback)}}};_wallets=new WeakMap,_adapters=new WeakMap,_events=new WeakMap;let A=()=>{let e=(0,react.useMemo)(()=>[new WalletStandardAdapterProvider],[]),[t,s]=(0,react.useState)(()=>resolveAdapters(e));return(0,react.useEffect)(()=>{let o=e.filter(isWalletProvider);if(!o.length)return;let n=r=>{let l=resolveAdapters(r);if(l.length!==t.length)s(l);else for(let a=0;a<t.length;++a)if(t[a]!==l[a]){s(l);break}};n(e);let i=o.map(r=>r.on("changed",()=>{n(e)}));return()=>{i.forEach(r=>r())}},[e,t]),t},d="preferredSuiWallet",x=()=>{let n=A(),[e,w]=(0,react.useState)(null),[s,i]=(0,react.useState)(!1),[p,f]=(0,react.useState)(!1),[A1,m]=(0,react.useState)(!1);(0,react.useEffect)(()=>{s&&e&&localStorage.setItem(d,e.name)},[e,s]);let W=(0,react.useCallback)(async o=>{var r;let t=null!=(r=n.find(h=>h.name===o))?r:null;w(t);let l=!1;if(t&&!t.connecting)try{f(!0),await t.connect(),i(!0),l=!0}catch(h){i(!1)}finally{f(!1)}return l},[n,i,f]);(0,react.useEffect)(()=>{(async()=>{if((0,log.Z)("suiWalletConnect","Wallets",(n||[]).map(t=>t.name)),!e&&!s&&!p){let t=localStorage.getItem(d);if("string"!=typeof t&&"https://ethoswallet.xyz"===location.origin){(0,log.Z)("suiWalletConnect","Wallet explorer",(n||[]).map(r=>r.name));let l=(n||[]).find(r=>"Ethos Wallet"===r.name);l&&((0,log.Z)("suiWalletConnect","Ethos wallet connected",l.connected),t=l.name)}if("string"==typeof t){if(!n||0===n.length)return;await W(t)||((0,log.Z)("suiWalletConnect","setNoConnection0"),m(!0),localStorage.removeItem(d));return}(0,log.Z)("suiWalletConnect","setNoConnection1"),m(!0)}n&&0!==n.length||((0,log.Z)("suiWalletConnect","setNoConnection2"),m(!0))})()},[n,e,s,p,W]);let g=(0,react.useCallback)(async()=>{if(null==e)throw Error("Wallet Not Connected");return e.getAccounts()},[e]),E=(0,react.useCallback)(async()=>{if(null==e)throw Error("Wallet Not Connected");return(await g())[0]},[g]),y=(0,react.useCallback)(()=>{if(i(!1),localStorage.removeItem(d),null==e)throw Error("Wallet Not Connected");if(!e.disconnect)throw Error('Wallet does not support "disconnect" method');e.disconnect(),w(null)},[e]),S=(0,react.useCallback)(async o=>{if(null==e)throw Error("Wallet Not Connected");if(!e.signAndExecuteTransaction)throw Error('Wallet does not support "signAndExecuteTransaction" method');return e.signAndExecuteTransaction(o)},[e]),N=(0,react.useCallback)(async o=>{if(null==e)throw Error("Wallet Not Connected");let t=window.ethosWallet;return t&&"Ethos Wallet"===e.name?t.requestPreapproval(o):(console.log("Wallet does not support preapproval"),!1)},[s]),T=(0,react.useCallback)(async()=>!1,[e]);return{wallets:n,wallet:e,connecting:p,noConnection:A1,connected:s,select:W,getAccounts:g,getAddress:E,signAndExecuteTransaction:S,requestPreapproval:N,sign:T,disconnect:y}},b=()=>{let{wallet:a,wallets:c,select:u,connecting:g,noConnection:p,connected:e,getAccounts:t,getAddress:l,signAndExecuteTransaction:o,requestPreapproval:s,sign:r,disconnect:S}=x(),n=(0,react.useMemo)(()=>({type:Signer.j.Extension,getAccounts:t,getAddress:l,signAndExecuteTransaction:o,requestPreapproval:s,sign:r,disconnect:S}),[a,e,t,l,o,s,r]),[d,i]=(0,react.useState)(e?n:null);return(0,react.useEffect)(()=>{i(e?n:null)},[e,n]),{connecting:g,noConnection:p,connected:e,wallets:c,selectWallet:u,signer:d,setSigner:i}};var listenForMobileConnection=__webpack_require__(1256);let useConnect_j=()=>{let i=(0,react.useRef)(!1),t=(0,react.useRef)({ethos:!1,extension:!1}),[S,u]=(0,react.useState)({provider:null,signer:null}),{wallets:a,selectWallet:m,noConnection:c,signer:s,setSigner:p}=b(),[v,C]=(0,react.useState)(0),b1=(0,react.useCallback)(()=>{for(let e of(store2.namespace("sui")("disconnected",!0),i.current=!1,u(e=>({...e,signer:null})),p(null),Object.keys(t.current)))t.current[e]=!1;C(e=>e+1)},[]),r=(0,react.useCallback)((n,e)=>{if((0,log.Z)("useConnect","trying to set providerAndSigner",e,i.current,t.current),i.current)return;e&&(t.current[e]=!0);let h=!Object.values(t.current).includes(!1);if(!n&&!h)return;i.current=!!n;let A=new dist.r6k(dist.ZcK.DEVNET);u({provider:A,signer:n})},[v]);return(0,react.useEffect)(()=>{(0,log.Z)("mobile","listening to mobile connection from EthosConnectProvider"),(0,listenForMobileConnection.Z)(n=>{(0,log.Z)("useConnect","Setting providerAndSigner mobile",n),(0,log.Z)("mobile","Setting provider and signer",n),r(n,"mobile")})},[r]),(0,react.useEffect)(()=>{(0,log.Z)("useConnect","Setting providerAndSigner extension",s,c),(c||s)&&r(s,"extension")},[c,s,r]),(0,react.useEffect)(()=>{(async()=>{let e=await lib.Z.getEthosSigner();(0,log.Z)("useConnect","Setting providerAndSigner ethos",e),r(e,"ethos")})()},[r]),{wallets:a,selectWallet:m,providerAndSigner:S,logout:b1}};var SignInModal=__webpack_require__(52),ModalContext=__webpack_require__(7457),EthosConnectStatus=__webpack_require__(3189);let U=({ethosConfiguration:e,onWalletConnected:m,connectMessage:g,dappName:u,dappIcon:w,children:A})=>{e||(e={}),(null==e?void 0:e.chain)||(e.chain=Chain.q.Sui),(null==e?void 0:e.network)||(e.network="sui"),(null==e?void 0:e.walletAppUrl)||(e.walletAppUrl="https://ethoswallet.xyz"),(0,log.Z)("EthosConnectProvider","EthosConnectProvider Configuration:",e),(0,react.useEffect)(()=>{lib.Z.initializeEthos(e||{})},[]);let{wallets:p,selectWallet:v,providerAndSigner:t,logout:P}=useConnect_j(),{address:x,contents:d}=f(t.signer),[l,c]=(0,react.useState)(!1),[y,M]=(0,react.useState)(!0),I=(0,react.useMemo)(()=>({isModalOpen:l,setIsModalOpen:c}),[l,c]),N=(0,react.useMemo)(()=>{let i;let{provider:n,signer:r}=t;i=n?r?EthosConnectStatus.Y.Connected:EthosConnectStatus.Y.NoConnection:EthosConnectStatus.Y.Loading;let C={status:i,wallets:p,selectWallet:v,provider:n};return r&&(C.wallet={...r,address:x,contents:d}),C},[p,v,x,t,d,P]);return(0,react.useEffect)(()=>{if(null==t?void 0:t.provider){if((0,log.Z)("EthosConnectProvider","calling onWalletConnected",t),t.signer){c(!1);let n=t.signer.disconnect;t.signer.disconnect=async()=>{await n(),P()}}m&&m(t)}},[t]),(0,react.useEffect)(()=>{var n,r;l?null==(n=document.getElementsByTagName("html").item(0))||n.setAttribute("style","overflow: hidden;"):null==(r=document.getElementsByTagName("html").item(0))||r.setAttribute("style","")},[l]),(0,react.useEffect)(()=>{M(!1)},[]),y?react.createElement(react.Fragment,null):react.createElement(WalletContext.Z.Provider,{value:N},react.createElement(ProviderAndSignerContext.Z.Provider,{value:t},react.createElement(ContentsContext.Z.Provider,{value:d},react.createElement(ModalContext.Z.Provider,{value:I},A,react.createElement(SignInModal.ZP,{isOpen:l,hideEmailSignIn:e.hideEmailSignIn,hideWalletSignIn:e.hideWalletSignIn,connectMessage:g,dappName:u,dappIcon:w})))))},ExampleIcon=()=>(0,jsx_runtime.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",height:56,width:56,viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"})});__webpack_require__(7475);var _app=function(param){let{Component,pageProps}=param;return(0,jsx_runtime.jsx)(U,{ethosConfiguration:{apiKey:"sui-checkers"},dappName:"Sui Checkers",dappIcon:(0,jsx_runtime.jsx)(ExampleIcon,{}),connectMessage:"Connect to Sui Checkers!",children:(0,jsx_runtime.jsx)(Component,{...pageProps})})}},7475:function(){},3158:function(module){var cachedSetTimeout,cachedClearTimeout,currentQueue,process=module.exports={};function defaultSetTimout(){throw Error("setTimeout has not been defined")}function defaultClearTimeout(){throw Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e1){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e1){cachedClearTimeout=defaultClearTimeout}}();var queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{cachedClearTimeout(marker)}catch(e1){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw Error("process.chdir is not supported")},process.umask=function(){return 0}},6300:function(){},5002:function(){},7534:function(){},8532:function(module){module.exports=function(self1){if(void 0===self1)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return self1},module.exports.__esModule=!0,module.exports.default=module.exports},1104:function(module){function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}module.exports=function(fn){return function(){var self1=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self1,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}},module.exports.__esModule=!0,module.exports.default=module.exports},9226:function(module){module.exports=function(instance,Constructor){if(!(instance instanceof Constructor))throw TypeError("Cannot call a class as a function")},module.exports.__esModule=!0,module.exports.default=module.exports},3340:function(module){function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}module.exports=function(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor},module.exports.__esModule=!0,module.exports.default=module.exports},5903:function(module){function _getPrototypeOf(o){return module.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},module.exports.__esModule=!0,module.exports.default=module.exports,_getPrototypeOf(o)}module.exports=_getPrototypeOf,module.exports.__esModule=!0,module.exports.default=module.exports},8778:function(module,__unused_webpack_exports,__webpack_require__){var setPrototypeOf=__webpack_require__(2806);module.exports=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&setPrototypeOf(subClass,superClass)},module.exports.__esModule=!0,module.exports.default=module.exports},6481:function(module){module.exports=function(obj){return obj&&obj.__esModule?obj:{default:obj}},module.exports.__esModule=!0,module.exports.default=module.exports},4572:function(module,__unused_webpack_exports,__webpack_require__){var _typeof=__webpack_require__(89).default,assertThisInitialized=__webpack_require__(8532);module.exports=function(self1,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw TypeError("Derived constructors may only return object or undefined");return assertThisInitialized(self1)},module.exports.__esModule=!0,module.exports.default=module.exports},3435:function(module,__unused_webpack_exports,__webpack_require__){var _typeof=__webpack_require__(89).default;function _regeneratorRuntime(){"use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ module.exports=_regeneratorRuntime=function(){return exports},module.exports.__esModule=!0,module.exports.default=module.exports;var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self1,tryLocsList){var context,state,generator=Object.create((outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator).prototype),context1=new Context(tryLocsList||[]);return generator._invoke=(context=context1,state="suspendedStart",function(method,arg){if("executing"===state)throw Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self1,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,function(){return this});var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){define(prototype,method,function(arg){return this._invoke(method,arg)})})}function AsyncIterator(generator,PromiseImpl){var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl(function(resolve,reject){!function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==_typeof(value)&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)}):PromiseImpl.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result)},function(error){return invoke("throw",error,resolve,reject)})}reject(record.arg)}(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,function(){return this}),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self1,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self1,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,function(){return this}),define(Gp,"toString",function(){return"[object Generator]"}),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}module.exports=_regeneratorRuntime,module.exports.__esModule=!0,module.exports.default=module.exports},2806:function(module){function _setPrototypeOf(o,p){return module.exports=_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o},module.exports.__esModule=!0,module.exports.default=module.exports,_setPrototypeOf(o,p)}module.exports=_setPrototypeOf,module.exports.__esModule=!0,module.exports.default=module.exports},89:function(module){function _typeof(obj){return module.exports=_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},module.exports.__esModule=!0,module.exports.default=module.exports,_typeof(obj)}module.exports=_typeof,module.exports.__esModule=!0,module.exports.default=module.exports},5191:function(module,__unused_webpack_exports,__webpack_require__){var runtime=__webpack_require__(3435)();module.exports=runtime;try{regeneratorRuntime=runtime}catch(accidentalStrictMode){"object"==typeof globalThis?globalThis.regeneratorRuntime=runtime:Function("r","regeneratorRuntime = r")(runtime)}},5148:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return a}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7294);let n=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({});var a=n},7457:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return n}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7294);let o=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);var n=o},1919:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return d}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7294);let n=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({provider:null,signer:null});var d=n},6361:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return i}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7294),_types_EthosConnectStatus_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3189);let o={status:_types_EthosConnectStatus_js__WEBPACK_IMPORTED_MODULE_1__.Y.Loading},l=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(o);var i=l},52:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{ZP:function(){return Wo},ap:function(){return So},Mb:function(){return Io}});var l,Breakpoints_m,react=__webpack_require__(7294),Loader=__webpack_require__(1673);let W=({width:A=32})=>react.createElement("img",{src:C,width:A,height:A}),C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAeGVYSWZNTQAqAAAACAAFARIAAwAAAAEAAQAAARoABQAAAAEAAABKARsABQAAAAEAAABSASgAAwAAAAEAAgAAh2kABAAAAAEAAABaAAAAAAAAAEgAAAABAAAASAAAAAEAAqACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAAAQdIdCAAAACXBIWXMAAAsTAAALEwEAmpwYAAACZmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjU2PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjU2PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiB3yYcAAAgwSURBVFgJrZddiJ1HGcefmXfe9z3n7G42yTYamy9sklZT0XilAeuFdwXxQrD4gVKwF6IXohdS8CYXJWJFwQvprXhTaOhVFakFjbGWioqItKYXprVda0OaNNnd8/F+jr//nN1k16RCwLM778w8M2f+//k/zzzzHme3+Zw+/Zuw+94TK7mvDucxHCws3h2ie19u9p68d3vy3kaFuYG3diH4We/9dJaF2SzLKG58xWfTyz4b/zvPJqsun6zW9eS1j2785ap76Gz333Buu+H0M2+OwrQ5Wzj/YBbNhWiWR2eAG+CxiJ6+WeijK5KNMWssy6YGCdWR4pwbWwgTbGNsam9QxtH5jSfqS6vfuv+hs/UW7g0C33l69WARu38GMx/Mxaw3l5uAXQypPScjQihgxSY51cE3mwQmAApY9Rx8Xs8JZNm6y/z6uCjHRw5+7GdXRMLr8bmnYtZZe6Hx0TdQalUYaVy02qKTjfpGUb/xLjbeotpdn1uMZey60vp+sFlKm/dxYJRddR77mC+0bfZyjKcTNhs221e89khjbhTZTc+DDbrAwmgWIx0sUMGgj6MbkQE3yOY8hTnWFy74HlB1OnOuTaXvW8BZ3eUOEtE5EQn73njxwleY+FMRcJ23M1BL6wQWjJDQ4n3sXX+TiAMSQoBDTNj84SAm43XYQqSkyZS+x9IB1lJvEaghUtOvWB8Sff6DRODrT720UFm717uMfTrWnxPp5VuBg8KSLnrUoEMcYmQO+8eDPMRHIokWoduVLkge1yXwmwTkkgqCBTVh7sPKhec/sxTqpeye2MKSBWPEsS5jB2wGcJFgYzBXu8MGCW1Wam0S2VJLdqbyBUK4G9CUC+SKDkAFacPUGn2IpjgDo3QL+cL7Q9O3xwnF6NmlAc6IdgtgFg/sLu3LJ1fcgeVCS+uTMObN2z53jM/GtV144YJV641IMFZBpKZdooACM9wXWl8fz5JgWfSA9z7AFAlQ5Esn73YXrkztr29xtFAjFThkYCM2tUs29jzvy0ZRX8d3tOjcoRNH7JUX1llPKtSclArwASoUwJTHyTHN0R4JCDnAgQDcm1c02PdffD1WtUAUIT7mSB9UEwvzXOBSPiixFXBWTijx2QAxKW5A0AyH5Jx+gd12gDeAb5EYupDNjobeNUcURYouoOZuYEGcZSujwj1y6qAd2lVK7y15t+rtPridzaYbnf3t3FWbrin4dCIatK6oZxAiX8TyMATa/TEpAAGCjJ0TTiLU2Vc/csxevrJmf740D3+FmcY0C0QiZu4WuUJp+0ZNWxlz12Kwwx9espfP1wQmIU1K0zH0viJTzmLXTvZLgZUEmBbPmCAAojLL4mN//LubNQJnaSnU4wg8zHFjVsAluAIg+bsg4AesgQtSe8isAbbdRWBmsEG3IAWso2RZzcGb4o7RXaHz7aLETwBKe0CwbgJZGZX2tQ/da0eWRtvltrcnjT3661f5SmYd5Fpi49EHD9reUUqsW+5wG+PWfnv+HZtWMCFdu3YXB4yk39aAJwUW2G49FKuOC2WzxN63Ue1vn/zALeBictcot6JouTMq7oTaFtnCJvgOoosLwT5+atnGxPaEUsXSte0ujuEuFFgiNS+XvnUtV3zDGaAA2rua01CTnmvbNxzsWHB75wv3v9f2LMRE5NP3LW8f2tFe2V0kAmOO9QTPVt3QmmY5EWm7xSKwW6U7PImL0pNZ8rfy/c3I37GoOg8cWEnlloHbGDa0lBJLRzzpr1s03yovVBbKjszEaJ/h+5TUcS2HheeWL2+z5J2Z1nRLEictSyrLKF35djdx0MQwaGrdXSRBT4Q6FXI+9wH1ncG8++w13VESgA2S7ri5kKHjZNV72jDqmoqoJxB1oyYCUoIY+N8ueHe4W0fGWU3A5rzgoIRncyDo7vTdoAnDtpr20Q+VfuZF11Jq/98UaMIYF5Sx4RqucUUdUJvXUw79LAyb9hqS7NXZl9vlfmKCE+Hj6vXL7uDyvlu3dAeWy7OpVdm6Zb7idJXWdgOrRQYNeO275kdVdWnU1kaJo7oylYWmjov1zD39p1/atcnaHcDtnHpx4x0789IfrM7XrQprbPe6zYprcZJfd1fyqb0Z2kth2NcX0fyUAkMxoIPCoZASce3tVffjZ35CctTdKGWQDWWSSvhQth7VFFyKGQq+9lw7ngSVWRMCL668H2WB3Sqd58R/4ZqsjDnvBE278I8wqGbnvPdf1GKQSGBC2GzLTyI1J5cIklXlrnRSAYXuZuyk+gYZEfEqEMnmZQaZJuSxznJXe37a+Py5EKb1s2WZ6fbV4dAjPclJMuEphkDTmKaIkKZIKeWt+Ty1PQTS24RebrFLFdRhXg8JyEglq7MM8GD8lLK1xp8XsHvyiW+us+ZIgHMeetObExGHBK7BTRLCTqQSmTkx2cQwqYUdYonknKyIY9h0JW7D6378jYfP7ArazJM/XPvgMC9f1wJbsFpbfX2SCKigQyLkZEqDEkZC6V/jtJMkvGGk9uZyvNUq/2HizYpET32tqk5gSotRm/388YcfKDN/PnW0fxoq+iCiFhbXTTt1wo2WycjZVl9trjjJqJd8ARF0OANb1ne8pDCgV+wufvKe7/3id/O1E8T88exjnz+0lGWvADwUqAIg1VKG72q3XFWprcX17qzzke4aEjpgAqSvObKnLwlUDX1/YzKLJ4796FdvbMFubXKrr9r9/rufPTwo4icG0T5F/yjy7WeHe1iIG94VLM7VlX6qCEgy8g9i1M9FXvzMJkhyFa5vMXiRS/D5qqueO/b4uX9p4naw/wDv1ZplvOGRpgAAAABJRU5ErkJggg==";(l=Breakpoints_m||(Breakpoints_m={}))[l.sm=640]="sm",l[l.md=768]="md",l[l.lg=1024]="lg",l[l.xl=1280]="xl",l[l["2xl"]=1536]="2xl";let n="#74777C",c=()=>({fontSize:"18px",lineHeight:"24px",fontWeight:"600",marginLeft:"10px"}),l1=()=>({color:"#6B7280",fontSize:"0.875rem",lineHeight:"1.25rem",padding:"24px",display:"flex",flexDirection:"column",gap:"12px"}),g=e=>({visibility:e?"":"hidden",position:"relative",zIndex:"100"}),f=e=>({position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",backgroundColor:"rgb(107 114 128)",opacity:e?".75":"0",transition:"all 300ms ease-in-out"}),signInModalStyles_m=()=>({color:"#6D28D9"}),signInModalStyles_C=e=>({position:"fixed",zIndex:"99",top:"0px",right:"0px",bottom:"0px",left:"0px",overflowY:"auto",opacity:e?"1":"0",scale:e?"1":".95",transition:"all 300ms ease-in-out"}),b=e=>{let t={display:"flex",alignItems:"flex-end",justifyContent:"center",minHeight:"100%",padding:"1rem",textAlign:"center"};return e<Breakpoints_m.sm?t:{...t,padding:"0",alignItems:"center"}},R=e=>{let t={overflow:"hidden",position:"relative",backgroundColor:"#ffffff",transitionProperty:"all",borderRadius:"0.5rem",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"};return e<Breakpoints_m.sm?t:{...t,width:"360px"}},y=()=>({padding:"24px 24px 0px",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}),P=()=>({width:"24px",height:"24px",color:"#A0AEBA",cursor:"pointer"}),h=()=>({color:n,cursor:"pointer",display:"flex",gap:"6px",alignItems:"center"}),w=()=>({fontSize:"16px",lineHeight:"24px"}),F=(e=!1)=>({padding:e?"24px 24px 32px":"0 24px 32px",display:"flex",flexDirection:"column",justifyContent:"center",gap:"12px"}),D=()=>({display:"flex",justifyContent:"center",gap:"-6px"}),k=()=>({fontSize:"24px",fontWeight:"600",lineHeight:"32px",margin:"0"}),I=()=>({fontSize:"16px",fontWeight:"400",lineHeight:"24px",margin:"0",color:n}),G=()=>({padding:"0px 24px 24px",display:"flex",flexDirection:"row",gap:"12px",justifyContent:"space-between",alignItems:"center",color:n}),_=()=>({height:"1px",width:"100%",background:"rgba(0, 0, 0, 0.12)",borderRadius:"16px"}),q=()=>({boxSizing:"border-box",border:"1px solid rgba(0, 0, 0, 0.08)",borderRadius:"16px",background:"#F2F2F2",padding:"20px",width:"100%"}),X=e=>{let t={padding:"0px 24px 24px",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"};return e<Breakpoints_m.sm?t:{...t}},Y=(e,t=!1,o=!1,i=!1)=>{let s={textDecoration:"none",fontWeight:o?"500":"400",boxSizing:"border-box",display:"flex",flexDirection:"row",justifyContent:i?"center":"space-between",alignItems:"center",padding:o?"20px 20px":"16px 16px 16px 20px",width:"100%",background:o?"#6D28D9":"#F2F2F2",color:o?"white":"black",opacity:t?.5:1,cursor:t?"not-allowed":"pointer",borderRadius:"16px",flex:"none",order:"0",flexGrow:"0",boxShadow:"0px 1px 2px rgba(0, 0, 0, 0.05)"};return e<Breakpoints_m.sm?s:{...s}},J=()=>({padding:"0px 24px 24px"}),N=()=>({display:"flex",justifyContent:"center",padding:"45px 0"}),ee=()=>({padding:"6px 0",color:"#666",width:"100%",fontSize:"smaller",marginBottom:"12px"}),EthosEnclosed_r=({width:t=24,color:o="#6D28D9"})=>react.createElement("svg",{width:t,height:t,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react.createElement("rect",{width:"56",height:"56",rx:"16",fill:o}),react.createElement("path",{opacity:"0.8",d:"M17.9631 13H36.9268C37.7997 13 38.5073 13.7076 38.5073 14.5805V35.9802C38.5073 36.8531 37.7997 37.5607 36.9268 37.5607H17.9631C17.0902 37.5607 16.3826 36.8531 16.3826 35.9802V14.5805C16.3826 13.7076 17.0902 13 17.9631 13Z",stroke:"url(#paint0_linear_514_2169)",strokeOpacity:"0.9",strokeWidth:"0.790251"}),react.createElement("path",{d:"M17.2471 14.0457L30.1651 20.0566C30.7225 20.316 31.0789 20.8749 31.0789 21.4896V42.6676C31.0789 43.8113 29.9018 44.5763 28.8566 44.112L15.9386 38.3725C15.3677 38.1189 14.9998 37.5528 14.9998 36.9281V15.4787C14.9998 14.3231 16.1994 13.5582 17.2471 14.0457Z",fill:"white",fillOpacity:"0.9"}),react.createElement("path",{d:"M42.9117 27.9093C43.0029 27.4813 43.219 27.0901 43.5329 26.7851C43.8467 26.4801 44.2441 26.2753 44.6746 26.1965L45.8205 25.9872L44.6745 25.7779H44.6746C44.2441 25.6991 43.8467 25.4943 43.5329 25.1893C43.219 24.8843 43.0029 24.4931 42.9117 24.0651L42.6596 22.8774L42.4074 24.0651C42.3162 24.4931 42.1001 24.8843 41.7862 25.1893C41.4724 25.4943 41.075 25.6992 40.6445 25.7779L39.4985 25.9872L40.6446 26.1965H40.6445C41.075 26.2753 41.4724 26.4801 41.7861 26.7851C42.1 27.0901 42.3162 27.4813 42.4073 27.9093L42.6595 29.097L42.9117 27.9093Z",fill:"white",fillOpacity:"0.9"}),react.createElement("defs",null,react.createElement("linearGradient",{id:"paint0_linear_514_2169",x1:"38.5073",y1:"19.5371",x2:"27.4445",y2:"25.0685",gradientUnits:"userSpaceOnUse"},react.createElement("stop",{stopColor:"white"}),react.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})))),s=({width:o=24,color:r="#1e293b"})=>react.createElement("svg",{width:o,height:65*o/47,viewBox:"0 0 47 65",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react.createElement("path",{d:"M6.00471 1H40.0029C42.7644 1 45.0029 3.23858 45.0029 6V44.8425C45.0029 47.604 42.7643 49.8425 40.0029 49.8425H6.0047C3.24328 49.8425 1.0047 47.604 1.0047 44.8425V6C1.0047 3.23858 3.24329 1 6.00471 1Z",stroke:r,strokeWidth:"2"}),react.createElement("path",{d:"M6.68764 3.64648L30.6631 14.8026C32.0736 15.4589 32.9756 16.8735 32.9756 18.4292V58.6799C32.9756 61.5743 29.9966 63.5105 27.3515 62.3353L3.37601 51.683C1.93126 51.0411 1.00013 49.6085 1.00013 48.0276V7.27309C1.00013 4.34854 4.03609 2.41268 6.68764 3.64648Z",fill:r})),Header_y=({title:r,subTitle:o,dappIcon:t,showEthos:i=!1,children:d})=>react.createElement("div",null,react.createElement("div",{style:F(!!t)},react.createElement("div",{style:D()},t&&("string"==typeof t?react.createElement("img",{src:t}):t),i&&react.createElement(s,null)),r&&react.createElement("div",{style:k()},r),o&&react.createElement("div",{style:I()},o)),d),EmailSent_r=()=>react.createElement(Header_y,{title:"Ethos sent you an email",dappIcon:react.createElement(EthosEnclosed_r,{width:60})},react.createElement("div",{style:l1()},react.createElement("p",null,"An email has been sent to you with a link to login."),react.createElement("p",null,"If you don't receive it, please check your spam folder or contact us at:"),react.createElement("p",null,"support@ethoswallet.xyz"))),IconButton_c=o=>{let{text:n,icon:t,width:r,disabled:i,primary:s,type:d,...u}=o;return react.createElement("button",{style:Y(r,i,s,!t),...u,type:d},react.createElement("div",null,n),t)},Wallets_c=({wallets:o,selectWallet:a,width:i})=>{let l=(0,react.useCallback)(t=>{if(!a)return;let e=t.target,r;for(;!r&&e.parentNode;)r=e.dataset.name,e=e.parentNode;a(r)},[]),s=t=>{let e="Sui Wallet"===t.name?"https://sui.io/favicon.png":t.icon;return react.createElement("img",{src:e,height:32,width:32})};return react.createElement("div",{role:"wallet-sign-in"},react.createElement("div",{style:X(i)},null==o?void 0:o.map((t,e)=>react.createElement(IconButton_c,{key:`wallet-${e}`,icon:s(t),"data-name":t.name,text:t.name,onClick:l,width:i}))))};var getConfiguration=__webpack_require__(1204),postIFrameMessage=__webpack_require__(1549);let a=async e=>{(0,postIFrameMessage.Z)({action:"event",data:e})};var login=__webpack_require__(6970);let Email_E=({setSigningIn:o,setEmailSent:f,width:r})=>{let{apiKey:l}=(0,getConfiguration.Z)(),[e,m]=(0,react.useState)(""),t=(0,react.useMemo)(()=>!!e&&0!==e.length&&!!e.match(/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/),[e]),x=(0,react.useCallback)(async()=>{t&&(await (0,login.Z)({email:e,apiKey:l}),m(""),o(!1),f(!0),a({action:"send_email",category:"sign_in",label:e,value:1}))},[t,login.Z,e,l]),p=(0,react.useCallback)(a=>{m(a.target.value)},[]),c=(0,react.useCallback)(async a=>{if(!t){a.preventDefault();return}o(!0),x()},[x]);return react.createElement("div",{role:"email-sign-in"},react.createElement("form",{onSubmit:c,style:X(r)},react.createElement("input",{style:q(),type:"email",placeholder:"Enter your email address...",value:e,onChange:p}),react.createElement(IconButton_c,{text:"Sign In With Email",type:"submit",width:r,disabled:!t,primary:!0})))},FontProvider_s=({children:e})=>react.createElement(react.Fragment,null,react.createElement("link",{href:"https://rsms.me/inter/inter.css",rel:"stylesheet"}),react.createElement("div",{style:{fontFamily:"'Inter', sans-serif",color:"black",lineHeight:"1.5",fontSize:"16px"}},e)),Dialog_d=({isOpenAll:r,children:t})=>react.createElement(FontProvider_s,null,react.createElement("div",{style:g(r),role:"dialog"},react.createElement("div",{style:f(r)}),t)),ModalWrapper_d=({closeOnClickId:s,onClose:n,isOpenAll:p,width:l,back:r,children:t})=>react.createElement("div",{style:signInModalStyles_C(p)},react.createElement("div",{id:s,style:b(l)},react.createElement("div",{style:R(l)},react.createElement("div",{style:y()},react.createElement("span",null,r&&react.createElement("span",{style:h(),onClick:r},"",react.createElement("span",{style:w()},"Back"))),react.createElement("span",{style:P(),onClick:n},react.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},react.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})))),t))),InstallWalletIcon_r=({width:t=60})=>react.createElement("svg",{width:t,height:t,viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react.createElement("rect",{x:"1",y:"1",width:"58",height:"58",rx:"17",fill:"#1A1C26"}),react.createElement("path",{d:"M17.0307 21.5C18.1258 20.5314 19.538 19.9977 21 20H39C40.5213 20 41.9107 20.5667 42.9693 21.5C42.8475 20.5332 42.377 19.6442 41.6462 18.9998C40.9153 18.3553 39.9744 17.9998 39 18H21C20.0256 17.9998 19.0847 18.3553 18.3538 18.9998C17.623 19.6442 17.1525 20.5332 17.0307 21.5ZM17.0307 25.5C18.1258 24.5314 19.538 23.9977 21 24H39C40.5213 24 41.9107 24.5667 42.9693 25.5C42.8475 24.5332 42.377 23.6442 41.6462 22.9998C40.9153 22.3553 39.9744 21.9998 39 22H21C20.0256 21.9998 19.0847 22.3553 18.3538 22.9998C17.623 23.6442 17.1525 24.5332 17.0307 25.5ZM21 26C19.9391 26 18.9217 26.4214 18.1716 27.1716C17.4214 27.9217 17 28.9391 17 30V38C17 39.0609 17.4214 40.0783 18.1716 40.8284C18.9217 41.5786 19.9391 42 21 42H39C40.0609 42 41.0783 41.5786 41.8284 40.8284C42.5786 40.0783 43 39.0609 43 38V30C43 28.9391 42.5786 27.9217 41.8284 27.1716C41.0783 26.4214 40.0609 26 39 26H34C33.7348 26 33.4804 26.1054 33.2929 26.2929C33.1054 26.4804 33 26.7348 33 27C33 27.7956 32.6839 28.5587 32.1213 29.1213C31.5587 29.6839 30.7956 30 30 30C29.2044 30 28.4413 29.6839 27.8787 29.1213C27.3161 28.5587 27 27.7956 27 27C27 26.7348 26.8946 26.4804 26.7071 26.2929C26.5196 26.1054 26.2652 26 26 26H21Z",fill:"white"}),react.createElement("rect",{x:"1",y:"1",width:"58",height:"58",rx:"17",stroke:"#060914",strokeWidth:"2"})),SuiEnclosed_l=({width:i=32})=>react.createElement("svg",{width:i,height:i,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react.createElement("rect",{width:"32",height:"32",rx:"8",fill:"#81BAEB"}),react.createElement("g",{clipPath:"url(#clip0_315_6756)"},react.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.4932 22.2659C11.0635 23.2776 11.8925 24.1195 12.8953 24.7053C13.898 25.2912 15.0385 25.5999 16.1999 25.5999C17.3613 25.5999 18.5017 25.2912 19.5045 24.7053C20.5073 24.1195 21.3363 23.2776 21.9066 22.2659C22.4918 21.2523 22.7999 20.1025 22.7999 18.932C22.7999 17.7616 22.4918 16.6118 21.9066 15.5982L16.8874 6.80155C16.8187 6.67967 16.7188 6.57825 16.598 6.50767C16.4772 6.4371 16.3398 6.3999 16.1999 6.3999C16.06 6.3999 15.9226 6.4371 15.8018 6.50767C15.6809 6.57825 15.5811 6.67967 15.5123 6.80155L10.4932 15.5982C9.90796 16.6118 9.59985 17.7616 9.59985 18.932C9.59985 20.1025 9.90796 21.2523 10.4932 22.2659ZM14.786 10.9865L15.8561 9.11092C15.8905 9.04998 15.9404 8.99927 16.0008 8.96399C16.0612 8.9287 16.1299 8.9101 16.1999 8.9101C16.2698 8.9101 16.3385 8.9287 16.399 8.96399C16.4594 8.99927 16.5093 9.04998 16.5437 9.11092L20.6605 16.3263C21.0301 16.966 21.2592 17.6771 21.3326 18.4123C21.4061 19.1475 21.3221 19.8898 21.0864 20.59C21.0352 20.3514 20.9648 20.1172 20.8758 19.8899C20.3072 18.4377 19.0214 17.3171 17.0534 16.559C15.7004 16.0397 14.8368 15.276 14.4859 14.2886C14.0339 13.0166 14.506 11.6291 14.786 10.9865ZM12.9612 14.1847L11.7392 16.3263C11.2817 17.1186 11.0409 18.0174 11.0409 18.9323C11.0409 19.8472 11.2817 20.7459 11.7392 21.5382C12.1091 22.1934 12.6186 22.7591 13.2316 23.1952C13.8447 23.6312 14.5462 23.927 15.2864 24.0615C16.0266 24.1959 16.7874 24.1658 17.5146 23.9732C18.2419 23.7806 18.9178 23.4302 19.4944 22.947C19.8131 22.1324 19.8244 21.2296 19.5264 20.4072C19.1088 19.358 18.1034 18.5204 16.5383 17.9172C14.7692 17.2381 13.6199 16.178 13.1228 14.7672C13.0558 14.5769 13.0019 14.3823 12.9612 14.1847Z",fill:"white"})),react.createElement("defs",null,react.createElement("clipPath",{id:"clip0_315_6756"},react.createElement("rect",{width:"19.2",height:"19.2",fill:"white",transform:"translate(6.3999 6.3999)"})))),EthosWalletIcon_i=()=>react.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react.createElement("rect",{width:"32",height:"32",rx:"8",fill:"#6D28D9"}),react.createElement("path",{opacity:"0.8",d:"M9.12187 6.85706H19.9583C20.4571 6.85706 20.8614 7.26141 20.8614 7.7602V19.9886C20.8614 20.4874 20.4571 20.8918 19.9583 20.8918H9.12187C8.62308 20.8918 8.21872 20.4874 8.21872 19.9886V7.7602C8.21872 7.26141 8.62308 6.85706 9.12187 6.85706Z",stroke:"url(#paint0_linear_699_2698)","stroke-width":"0.451572"}),react.createElement("path",{d:"M8.71274 7.45459L16.0945 10.8894C16.4129 11.0376 16.6166 11.357 16.6166 11.7083V23.81C16.6166 24.4635 15.944 24.9007 15.3468 24.6353L7.96502 21.3556C7.63882 21.2107 7.42858 20.8872 7.42858 20.5303V8.27343C7.42858 7.61311 8.11406 7.17602 8.71274 7.45459Z",fill:"white"}),react.createElement("path",{d:"M23.3782 15.3767C23.4303 15.1321 23.5538 14.9086 23.7332 14.7343C23.9125 14.56 24.1396 14.443 24.3856 14.3979L25.0404 14.2784L24.3855 14.1588H24.3856C24.1396 14.1137 23.9125 13.9967 23.7332 13.8224C23.5538 13.6481 23.4303 13.4246 23.3782 13.18L23.2341 12.5013L23.09 13.18C23.0379 13.4246 22.9144 13.6481 22.7351 13.8224C22.5558 13.9967 22.3287 14.1138 22.0827 14.1588L21.4278 14.2784L22.0827 14.3979H22.0827C22.3287 14.443 22.5557 14.56 22.735 14.7343C22.9144 14.9086 23.0379 15.1321 23.09 15.3767L23.2341 16.0554L23.3782 15.3767Z",fill:"white"}),react.createElement("defs",null,react.createElement("linearGradient",{id:"paint0_linear_699_2698",x1:"20.8614",y1:"10.5926",x2:"14.5398",y2:"13.7534",gradientUnits:"userSpaceOnUse"},react.createElement("stop",{"stop-color":"white"}),react.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})))),InstallWallet_d=({walletInfos:i,width:l})=>{let r=e=>e?"string"==typeof e?react.createElement("img",{src:e,height:32,width:32}):e:react.createElement(react.Fragment,null),o=[{name:"Ethos Wallet",icon:react.createElement(EthosWalletIcon_i,null),link:"https://chrome.google.com/webstore/detail/ethos-wallet/mcbigmjiafegjnnogedioegffbooigli"},{name:"Sui Wallet",icon:react.createElement(SuiEnclosed_l,null),link:"https://chrome.google.com/webstore/detail/sui-wallet/opcgpfmipidbgpenhmajoajpbobppdil"},...i||[]];return react.createElement(Header_y,{dappIcon:react.createElement(InstallWalletIcon_r,null),title:"Install A Wallet",subTitle:"Wallets allow you to interact with, store, send, and receive digital assets."},react.createElement("div",{role:"wallet-sign-in"},react.createElement("div",{style:X(l)},null==o?void 0:o.map((e,s)=>react.createElement("a",{key:`wallet-${s}`,style:Y(l),href:e.link,target:"_blank"},e.name,react.createElement("div",null,r(e.icon)))))))};var useModal=__webpack_require__(1721),useWallet=__webpack_require__(2330);function t(){if("undefined"==typeof window)return{width:0,height:0};let{innerWidth:e,innerHeight:n}=window;return{width:e,height:n}}let hooks_i={useModal:useModal.Z,useWallet:useWallet.Z,useWindowDimensions:function(){let[e,n]=(0,react.useState)(t());return(0,react.useEffect)(()=>{function i(){n(t())}return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),e}},MobileWallet_t=()=>react.createElement("div",{role:"wallet-sign-in"},react.createElement("span",{style:c()},"Connect A Mobile Wallet"),react.createElement("div",{style:ee()},react.createElement("p",null,"There are no mobile wallets yet on Sui."))),Or_e=()=>react.createElement("div",{style:G()},react.createElement("div",{style:_()}),"or",react.createElement("div",{style:_()}));function Io(){window.ethosInternal.showSignInModal()}function So(){window.ethosInternal.hideSignInModal()}let oo=({connectMessage:f,dappName:L,dappIcon:S,hideEmailSignIn:i,hideWalletSignIn:s})=>{let{wallets:W1,selectWallet:_}=hooks_i.useWallet(),{isModalOpen:h,openModal:M,closeModal:a}=hooks_i.useModal(),[b,C]=(0,react.useState)(h),[P,E]=(0,react.useState)(!1),[T,k]=(0,react.useState)(!1),{width:e}=hooks_i.useWindowDimensions(),O="ethos-close-on-click",[y,v]=(0,react.useState)(!1),[r,Y]=(0,react.useState)(!1),[d,x]=(0,react.useState)(!1),[l,$]=(0,react.useState)(L);(0,react.useEffect)(()=>{function e(d){d.target.id===O&&a()}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,react.useEffect)(()=>{window.ethosInternal||(window.ethosInternal={}),window.ethosInternal.showSignInModal=()=>{M()},window.ethosInternal.hideSignInModal=()=>{a()},C(h)},[h,C,M,a]),(0,react.useEffect)(()=>{if(i&&s)throw Error("hideEmailSignIn and hideWalletSignIn cannot both be true")},[]),(0,react.useEffect)(()=>{l||$(document.title)},[l]);let j=(0,react.useCallback)(()=>{x(t=>!t)},[]),D=(0,react.useCallback)(()=>{v(t=>!t)},[]),q=(0,react.useCallback)(()=>{x(!1),Y(!1),v(!1)},[]),c=(0,react.useMemo)(()=>f||(l?react.createElement(react.Fragment,null,"Connect to ",react.createElement("span",{style:signInModalStyles_m()},l)):react.createElement(react.Fragment,null)),[l,f]),z=(0,react.useMemo)(()=>{let t=W1||[];return r?react.createElement(MobileWallet_t,null):d||i&&0===t.length?react.createElement(InstallWallet_d,{width:e}):s?react.createElement(Email_E,{setSigningIn:E,setEmailSent:k,width:e}):!y&&t.length>0?react.createElement(Header_y,{title:c,dappIcon:S,subTitle:"Choose from your connected wallets"},react.createElement(Wallets_c,{wallets:t,selectWallet:_,width:e}),!i&&react.createElement(react.Fragment,null,react.createElement(Or_e,null),react.createElement("div",{style:J()},react.createElement(IconButton_c,{text:"Sign In With Email",onClick:D,width:e,primary:!0})))):react.createElement(Header_y,{title:c,dappIcon:S,subTitle:`Log in to ${l}`},react.createElement(Email_E,{setSigningIn:E,setEmailSent:k,width:e}),!s&&react.createElement(react.Fragment,null,react.createElement(Or_e,null),react.createElement("div",{style:J()},t.length>0?react.createElement(IconButton_c,{icon:react.createElement(W,null),text:"Select One Of Your Wallets",onClick:D,width:e}):react.createElement(IconButton_c,{icon:react.createElement(W,null),text:"Install A Wallet",onClick:j,width:e}))))},[c,l,i,s,W1,y,r,d]),F=(0,react.useMemo)(()=>r||d,[r,d]),G=(0,react.useMemo)(()=>react.createElement("div",{style:N()},react.createElement(Loader.Z,{width:50})),[]);return react.createElement(Dialog_d,{isOpenAll:b},react.createElement(ModalWrapper_d,{closeOnClickId:O,onClose:a,isOpenAll:b,width:e,back:F?q:null},T?react.createElement(EmailSent_r,null):P?G:z))};var Wo=oo},1673:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return a}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7294);let r=({width:t=100,color:i="#333"})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{version:"1.1",id:"L4",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 54 20",width:t,height:t*(20/54),enableBackground:"new 0 0 0 0"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{fill:i,stroke:"none",cx:"6",cy:"10",r:"6"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("animate",{attributeName:"opacity",dur:"1.5s",values:"0;1;0",repeatCount:"indefinite",begin:"0.1"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{fill:i,stroke:"none",cx:"26",cy:"10",r:"6"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("animate",{attributeName:"opacity",dur:"1.5s",values:"0;1;0",repeatCount:"indefinite",begin:"0.5"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{fill:i,stroke:"none",cx:"46",cy:"10",r:"6"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("animate",{attributeName:"opacity",dur:"1.5s",values:"0;1;0",repeatCount:"indefinite",begin:"1.0"})));var a=r},9030:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";var e;__webpack_require__.d(__webpack_exports__,{q:function(){return e}}),(e||(e={})).Sui="sui"},1721:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return M}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7294),_components_ModalContext_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7457);let l=()=>{let{isModalOpen:e,setIsModalOpen:o}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_components_ModalContext_js__WEBPACK_IMPORTED_MODULE_1__.Z);return{openModal(){o(!0)},closeModal(){o(!1)},isModalOpen:e}};var M=l},2330:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return n}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7294),_components_WalletContext_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6361);let o=()=>(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_components_WalletContext_js__WEBPACK_IMPORTED_MODULE_1__.Z);var n=o},1204:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return a}});var store2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5228);let t=()=>store2__WEBPACK_IMPORTED_MODULE_0__.namespace("ethos")("configuration")||{};var a=t},6236:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return L}});var store2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5228),_getConfiguration_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1204),_log_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9907),_postIFrameMessage_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1549);let I=c=>{let{apiKey:r,walletAppUrl:a}=(0,_getConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.Z)();if((0,_log_js__WEBPACK_IMPORTED_MODULE_2__.Z)("getIframe","getIframe",r,a),!r||!a)return;let m="ethos-wallet-iframe",l=0,e=document.getElementById(m),p=()=>{e&&(e.style.width="1px",e.style.height="1px")};if(!e){let s=new URLSearchParams(window.location.search),n=s.get("auth"),o=a+`/wallet?apiKey=${r}`;if(n){o+=`&auth=${n}`,s.delete("auth");let t=location.protocol+"//"+location.host+location.pathname;s.toString().length>0&&(t+="?"+s.toString()),store2__WEBPACK_IMPORTED_MODULE_0__.namespace("auth")("access_token",n),window.history.pushState({},"",t)}else{let t1=store2__WEBPACK_IMPORTED_MODULE_0__.namespace("auth")("access_token");t1&&(o+=`&auth=${t1}`)}(0,_log_js__WEBPACK_IMPORTED_MODULE_2__.Z)("getIframe","Load Iframe",o),(e=document.createElement("IFRAME")).src=o,e.id=m,e.style.border="none",e.style.position="absolute",e.style.top=l-1+"px",e.style.right="60px",e.style.width="1px",e.style.height="1px",e.style.zIndex="99",e.setAttribute("allow","payment; clipboard-read; clipboard-write"),document.body.appendChild(e),window.addEventListener("message",t=>{if(t.origin===a){let{action:g}=t.data;switch(g){case"close":p();break;case"ready":e.setAttribute("readyToReceiveMessages","true");let d=store2__WEBPACK_IMPORTED_MODULE_0__.namespace("iframeMessages"),h=d("messages")||[];for(let u of h)(0,_postIFrameMessage_js__WEBPACK_IMPORTED_MODULE_3__.Z)(u);d("messages",null)}}}),window.addEventListener("scroll",()=>{l=window.scrollY,e.style.top=l+"px"})}return c?(e.style.width="360px",e.style.height="600px"):void 0!==c&&p(),e};var L=I},8893:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return D}});var _mysten_sui_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3529);let g=s=>s?(0===s.indexOf("ipfs")&&(s=`https://ipfs.io/ipfs/${s.substring(5)}`),s):"",N=async s=>{let d=new _mysten_sui_js__WEBPACK_IMPORTED_MODULE_0__.r6k(_mysten_sui_js__WEBPACK_IMPORTED_MODULE_0__.ZcK.DEVNET);if(!s)return{suiBalance:0,nfts:[],tokens:[]};let u=await d.getObjectsOwnedByAddress(s);if(0===u.length)return{suiBalance:0,tokens:[],nfts:[]};let y=u.map(l=>l.objectId),j=await d.getObjectBatch(y),b=0,c=[],i={};for(let l of j)try{let{data:t,reference:e}=l.details||{};if(!t)continue;let f=((null==t?void 0:t.type)||"").split("<"),n=(f[1]||"").replace(/>/,""),a=f[0].split("::"),m=a[a.length-1];if("DevNetNFT"===m){let{url:r}=t.fields,o=g(r);c.push({chain:"Sui",address:null==e?void 0:e.objectId,name:t.fields.name,description:t.fields.description,imageUri:o,previewUri:o,thumbnailUri:o,collection:{name:"DevNetNFT",type:null==t?void 0:t.type},links:{"DevNet Explorer":`https://explorer.devnet.sui.io/objects/${null==e?void 0:e.objectId}`}})}else if("Coin"===m)"0x2::sui::SUI"===n&&(b+=t.fields.balance),i[n]||(i[n]={balance:0,coins:[]}),i[n].balance+=t.fields.balance,i[n].coins.push({objectId:null==e?void 0:e.objectId,type:t.type,balance:t.fields.balance});else{let{name:r1,description:o1,url:h,image_url:v,image:I,...U}=t.fields||{},p=g(h||v||I);c.push({type:null==t?void 0:t.type,package:a[0],chain:"Sui",address:null==e?void 0:e.objectId,name:r1,description:o1,imageUri:p,previewUri:p,thumbnailUri:p,extraFields:U,module:a[1],links:{"DevNet Explorer":`https://explorer.devnet.sui.io/objects/${null==e?void 0:e.objectId}`}})}}catch(t1){console.log("Error retrieving object",l,t1)}return{suiBalance:b,tokens:i,nfts:c}};var D=N},5688:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return C}});var getWalletContents=__webpack_require__(8893),getConfiguration=__webpack_require__(1204),store2=__webpack_require__(5228),Chain=__webpack_require__(9030),Signer=__webpack_require__(4657),getIframe=__webpack_require__(6236),log=__webpack_require__(9907),postIFrameMessage=__webpack_require__(1549);let l=()=>{(0,log.Z)("activeUser","Calling Active User");let{walletAppUrl:i,apiKey:a}=(0,getConfiguration.Z)(),g=m=>{let o=t=>{if((0,log.Z)("activeUser","Message Origin: ",t.origin,i,t),t.origin===i){let{action:n,data:e}=t.data;(0,log.Z)("MESSAGE2: ",n,e),"user"===n&&e.apiKey===a&&(window.removeEventListener("message",o),m(null==e?void 0:e.user))}};window.addEventListener("message",o);let s={action:"activeUser"};(0,getIframe.Z)(),(0,log.Z)('activeUser", "Post message to the iframe',s),(0,postIFrameMessage.Z)(s)};return new Promise(g)},I=({id:o,action:e,data:n,onResponse:a,showWallet:i=!1})=>{let{walletAppUrl:p}=(0,getConfiguration.Z)(),r=t=>{if((0,log.Z)("hostedInteraction","response: ",t),t.origin===p){let{approved:d,action:g,data:m}=t.data;g===e&&(a({approved:d,data:m}),window.removeEventListener("message",r))}};window.addEventListener("message",r),(0,log.Z)("hostedInteraction","Posting interaction",o,e,n),(0,postIFrameMessage.Z)({id:o,action:e,data:n}),(0,getIframe.Z)(i)},E=async()=>{let r=await l(),c=async()=>r?r.accounts.filter(n=>n.chain===Chain.q.Sui):[],p=async()=>{var t;return null==(t=(await c())[0])?void 0:t.address},m=n=>new Promise((t,o)=>{I({action:"transaction",data:{details:n},onResponse({approved:i,data:e}){var s;i?t(e.response):o({error:(null==(s=null==e?void 0:e.response)?void 0:s.error)||"User rejected transaction."})},showWallet:!0})}),l1=()=>Promise.resolve(!0),g=n=>new Promise((t,o)=>{I({action:"sign",data:{signData:n},onResponse({approved:i,data:e}){var s;i?t(e.response):o({error:(null==(s=null==e?void 0:e.response)?void 0:s.error)||"User rejected signing."})},showWallet:!0})}),u=(n=!1)=>new Promise(t=>{I({action:"logout",data:{fromWallet:n},onResponse(){t(!0)}}),store2.namespace("auth")("access_token",null)}),f=()=>u(!0);return r?{type:Signer.j.Hosted,email:r.email,getAccounts:c,getAddress:p,signAndExecuteTransaction:m,requestPreapproval:l1,sign:g,disconnect:u,logout:f}:null},n=o=>{let t=store2.namespace("ethos");(0,log.Z)("initialize","Ethos Configuration",o),t("configuration",o)};var listenForMobileConnection=__webpack_require__(1256);let s={getWalletContents:getWalletContents.Z,postIFrameMessage:postIFrameMessage.Z,getEthosSigner:E,getConfiguration:getConfiguration.Z,initializeEthos:n,listenForMobileConnection:listenForMobileConnection.Z};var C=s},1256:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return f}});var _getConfiguration_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1204),_log_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9907);let c=async r=>{let{walletAppUrl:s}=(0,_getConfiguration_js__WEBPACK_IMPORTED_MODULE_0__.Z)(),e=i=>{if(i.origin===s){let{action:d,data:o}=i.data;if("connect"!==d)return;if(!o.address){r({provider:{},signer:null});return}window.removeEventListener("message",e);let n={getAddress:()=>o.address},t={getSigner:n};(0,_log_js__WEBPACK_IMPORTED_MODULE_1__.Z)("mobile","Mobile connection established",t,n),r({provider:t,signer:n})}};window.removeEventListener("message",e),window.addEventListener("message",e)};var f=c},9907:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return c}});var store2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5228);let g=o=>{let l=store2__WEBPACK_IMPORTED_MODULE_0__.namespace("log"),e=l("allowed")||[];if(!e.includes(o))return l("allowed",[...e,o]),`Logging enabled for ${o}. Call ethos.clearAllowLog() to turn off this logging.`},r=()=>{store2__WEBPACK_IMPORTED_MODULE_0__.namespace("log")("allowed",[])},s=(o,...l)=>{let n=store2__WEBPACK_IMPORTED_MODULE_0__.namespace("log")("allowed");n&&(n.includes(o)||n.includes("all"))&&console.log(o,...l)};"undefined"!=typeof window&&(window.ethos={allowLog:g,clearAllowLog:r});var c=s},6970:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return $}});var store2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5228),_lib_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5688);let p=async({email:c,provider:e,apiKey:n})=>{let{walletAppUrl:o}=_lib_js__WEBPACK_IMPORTED_MODULE_1__.Z.getConfiguration(),g=store2__WEBPACK_IMPORTED_MODULE_0__.namespace("users");if(e){let t=location.href,r=`${o}/auth?apiKey=${n}&returnTo=${encodeURIComponent(t)}`;location.href=`${o}/socialauth?provider=${e}&redirectTo=${encodeURIComponent(r)}`;return}return new Promise((t,r)=>{let i=s=>{if(s.origin===o){let{action:u,data:a}=s.data;"login"===u&&(window.removeEventListener("message",i),g("current",a),t(a))}};window.addEventListener("message",i),_lib_js__WEBPACK_IMPORTED_MODULE_1__.Z.postIFrameMessage({action:"login",data:{email:c,provider:e,returnTo:window.location.href,apiKey:n}})})};var $=p},1549:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return M}});var store2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5228),_getIframe_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6236),_log_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9907);let i=s=>{var t;let e=(0,_getIframe_js__WEBPACK_IMPORTED_MODULE_1__.Z)();if(!(null==e?void 0:e.getAttribute("readyToReceiveMessages"))){let o=store2__WEBPACK_IMPORTED_MODULE_0__.namespace("iframeMessages"),r=o("messages")||[],a=o("messages",[...r,s]);(0,_log_js__WEBPACK_IMPORTED_MODULE_2__.Z)("iframe","Storing iframe message",a);return}null==(t=null==e?void 0:e.contentWindow)||t.postMessage(s,"*")};var M=i},3189:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";var i,d;__webpack_require__.d(__webpack_exports__,{Y:function(){return i}}),(d=i||(i={})).Loading="loading",d.NoConnection="no_connection",d.Connected="connected"},4657:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";var n,e;__webpack_require__.d(__webpack_exports__,{j:function(){return n}}),(e=n||(n={})).Extension="extension",e.Hosted="hosted"},3529:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";let _sha256Sync,_hmacSha256Sync;__webpack_require__.d(__webpack_exports__,{r6k:function(){return JsonRpcProvider},ZcK:function(){return Network},OSf:function(){return getObjectVersion}}),__webpack_require__(781);var Network2,buffer=__webpack_require__(1524),bn=__webpack_require__(6820);function number(n){if(!Number.isSafeInteger(n)||n<0)throw Error(`Wrong positive integer: ${n}`)}function bytes(b,...lengths){if(!(b instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(lengths.length>0&&!lengths.includes(b.length))throw TypeError(`Expected Uint8Array of length ${lengths}, not of length=${b.length}`)}__webpack_require__(7945),__webpack_require__(5769);var _assert={number,bool:function(b){if("boolean"!=typeof b)throw Error(`Expected boolean, not ${b}`)},bytes,hash:function(hash){if("function"!=typeof hash||"function"!=typeof hash.create)throw Error("Hash should be wrapped by utils.wrapConstructor");number(hash.outputLen),number(hash.blockLen)},exists:function(instance,checkFinished=!0){if(instance.destroyed)throw Error("Hash instance has been destroyed");if(checkFinished&&instance.finished)throw Error("Hash#digest() has already been called")},output:function(out,instance){bytes(out);let min=instance.outputLen;if(out.length<min)throw Error(`digestInto() expects output buffer of length at least ${min}`)}};"object"==typeof self&&"crypto"in self&&self.crypto;let utils_createView=arr=>new DataView(arr.buffer,arr.byteOffset,arr.byteLength),rotr=(word,shift)=>word<<32-shift|word>>>shift,isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];if(!isLE)throw Error("Non little-endian hardware is not supported");function utf8ToBytes(str){if("string"!=typeof str)throw TypeError(`utf8ToBytes expected string, got ${typeof str}`);return new TextEncoder().encode(str)}function toBytes(data){if("string"==typeof data&&(data=utf8ToBytes(data)),!(data instanceof Uint8Array))throw TypeError(`Expected input type is Uint8Array (got ${typeof data})`);return data}Array.from({length:256},(v,i)=>i.toString(16).padStart(2,"0"));class Hash{clone(){return this._cloneInto()}}function wrapConstructor(hashConstructor){let hashC=message=>hashConstructor().update(toBytes(message)).digest(),tmp=hashConstructor();return hashC.outputLen=tmp.outputLen,hashC.blockLen=tmp.blockLen,hashC.create=()=>hashConstructor(),hashC}class SHA2 extends Hash{constructor(blockLen,outputLen,padOffset,isLE){super(),this.blockLen=blockLen,this.outputLen=outputLen,this.padOffset=padOffset,this.isLE=isLE,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(blockLen),this.view=utils_createView(this.buffer)}update(data){_assert.exists(this);let{view,buffer,blockLen}=this;data=toBytes(data);let len=data.length;for(let pos=0;pos<len;){let take=Math.min(blockLen-this.pos,len-pos);if(take===blockLen){let dataView=utils_createView(data);for(;blockLen<=len-pos;pos+=blockLen)this.process(dataView,pos);continue}buffer.set(data.subarray(pos,pos+take),this.pos),this.pos+=take,pos+=take,this.pos===blockLen&&(this.process(view,0),this.pos=0)}return this.length+=data.length,this.roundClean(),this}digestInto(out){_assert.exists(this),_assert.output(out,this),this.finished=!0;let{buffer,view,blockLen,isLE}=this,{pos}=this;buffer[pos++]=128,this.buffer.subarray(pos).fill(0),this.padOffset>blockLen-pos&&(this.process(view,0),pos=0);for(let i=pos;i<blockLen;i++)buffer[i]=0;!function(view,byteOffset,value,isLE){if("function"==typeof view.setBigUint64)return view.setBigUint64(byteOffset,value,isLE);let _32n=BigInt(32),_u32_max=BigInt(4294967295),wh=Number(value>>_32n&_u32_max),wl=Number(value&_u32_max);view.setUint32(byteOffset+(isLE?4:0),wh,isLE),view.setUint32(byteOffset+(isLE?0:4),wl,isLE)}(view,blockLen-8,BigInt(8*this.length),isLE),this.process(view,0);let oview=utils_createView(out);this.get().forEach((v,i)=>oview.setUint32(4*i,v,isLE))}digest(){let{buffer,outputLen}=this;this.digestInto(buffer);let res=buffer.slice(0,outputLen);return this.destroy(),res}_cloneInto(to){to||(to=new this.constructor),to.set(...this.get());let{blockLen,buffer,length,finished,destroyed,pos}=this;return to.length=length,to.pos=pos,to.finished=finished,to.destroyed=destroyed,length%blockLen&&to.buffer.set(buffer),to}}let U32_MASK64=BigInt(4294967296-1),_32n=BigInt(32);function fromBig(n,le=!1){return le?{h:Number(n&U32_MASK64),l:Number(n>>_32n&U32_MASK64)}:{h:0|Number(n>>_32n&U32_MASK64),l:0|Number(n&U32_MASK64)}}let toBig=(h,l)=>BigInt(h>>>0)<<_32n|BigInt(l>>>0);var _u64={fromBig,split:function(lst,le=!1){let Ah=new Uint32Array(lst.length),Al=new Uint32Array(lst.length);for(let i=0;i<lst.length;i++){let{h,l}=fromBig(lst[i],le);[Ah[i],Al[i]]=[h,l]}return[Ah,Al]},toBig,shrSH:(h,l,s)=>h>>>s,shrSL:(h,l,s)=>h<<32-s|l>>>s,rotrSH:(h,l,s)=>h>>>s|l<<32-s,rotrSL:(h,l,s)=>h<<32-s|l>>>s,rotrBH:(h,l,s)=>h<<64-s|l>>>s-32,rotrBL:(h,l,s)=>h>>>s-32|l<<64-s,rotr32H:(h,l)=>l,rotr32L:(h,l)=>h,rotlSH:(h,l,s)=>h<<s|l>>>32-s,rotlSL:(h,l,s)=>l<<s|h>>>32-s,rotlBH:(h,l,s)=>l<<s-32|h>>>64-s,rotlBL:(h,l,s)=>h<<s-32|l>>>64-s,add:function(Ah,Al,Bh,Bl){let l=(Al>>>0)+(Bl>>>0);return{h:Ah+Bh+(l/4294967296|0)|0,l:0|l}},add3L:(Al,Bl,Cl)=>(Al>>>0)+(Bl>>>0)+(Cl>>>0),add3H:(low,Ah,Bh,Ch)=>Ah+Bh+Ch+(low/4294967296|0)|0,add4L:(Al,Bl,Cl,Dl)=>(Al>>>0)+(Bl>>>0)+(Cl>>>0)+(Dl>>>0),add4H:(low,Ah,Bh,Ch,Dh)=>Ah+Bh+Ch+Dh+(low/4294967296|0)|0,add5H:(low,Ah,Bh,Ch,Dh,Eh)=>Ah+Bh+Ch+Dh+Eh+(low/4294967296|0)|0,add5L:(Al,Bl,Cl,Dl,El)=>(Al>>>0)+(Bl>>>0)+(Cl>>>0)+(Dl>>>0)+(El>>>0)};let[SHA512_Kh,SHA512_Kl]=_u64.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl}=this;return[Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl]}set(Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl){this.Ah=0|Ah,this.Al=0|Al,this.Bh=0|Bh,this.Bl=0|Bl,this.Ch=0|Ch,this.Cl=0|Cl,this.Dh=0|Dh,this.Dl=0|Dl,this.Eh=0|Eh,this.El=0|El,this.Fh=0|Fh,this.Fl=0|Fl,this.Gh=0|Gh,this.Gl=0|Gl,this.Hh=0|Hh,this.Hl=0|Hl}process(view,offset){for(let i=0;i<16;i++,offset+=4)SHA512_W_H[i]=view.getUint32(offset),SHA512_W_L[i]=view.getUint32(offset+=4);for(let i1=16;i1<80;i1++){let W15h=0|SHA512_W_H[i1-15],W15l=0|SHA512_W_L[i1-15],s0h=_u64.rotrSH(W15h,W15l,1)^_u64.rotrSH(W15h,W15l,8)^_u64.shrSH(W15h,W15l,7),s0l=_u64.rotrSL(W15h,W15l,1)^_u64.rotrSL(W15h,W15l,8)^_u64.shrSL(W15h,W15l,7),W2h=0|SHA512_W_H[i1-2],W2l=0|SHA512_W_L[i1-2],s1h=_u64.rotrSH(W2h,W2l,19)^_u64.rotrBH(W2h,W2l,61)^_u64.shrSH(W2h,W2l,6),s1l=_u64.rotrSL(W2h,W2l,19)^_u64.rotrBL(W2h,W2l,61)^_u64.shrSL(W2h,W2l,6),SUMl=_u64.add4L(s0l,s1l,SHA512_W_L[i1-7],SHA512_W_L[i1-16]),SUMh=_u64.add4H(SUMl,s0h,s1h,SHA512_W_H[i1-7],SHA512_W_H[i1-16]);SHA512_W_H[i1]=0|SUMh,SHA512_W_L[i1]=0|SUMl}let{Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl}=this;for(let i2=0;i2<80;i2++){let sigma1h=_u64.rotrSH(Eh,El,14)^_u64.rotrSH(Eh,El,18)^_u64.rotrBH(Eh,El,41),sigma1l=_u64.rotrSL(Eh,El,14)^_u64.rotrSL(Eh,El,18)^_u64.rotrBL(Eh,El,41),CHIh=Eh&Fh^~Eh&Gh,CHIl=El&Fl^~El&Gl,T1ll=_u64.add5L(Hl,sigma1l,CHIl,SHA512_Kl[i2],SHA512_W_L[i2]),T1h=_u64.add5H(T1ll,Hh,sigma1h,CHIh,SHA512_Kh[i2],SHA512_W_H[i2]),T1l=0|T1ll,sigma0h=_u64.rotrSH(Ah,Al,28)^_u64.rotrBH(Ah,Al,34)^_u64.rotrBH(Ah,Al,39),sigma0l=_u64.rotrSL(Ah,Al,28)^_u64.rotrBL(Ah,Al,34)^_u64.rotrBL(Ah,Al,39),MAJh=Ah&Bh^Ah&Ch^Bh&Ch,MAJl=Al&Bl^Al&Cl^Bl&Cl;Hh=0|Gh,Hl=0|Gl,Gh=0|Fh,Gl=0|Fl,Fh=0|Eh,Fl=0|El,({h:Eh,l:El}=_u64.add(0|Dh,0|Dl,0|T1h,0|T1l)),Dh=0|Ch,Dl=0|Cl,Ch=0|Bh,Cl=0|Bl,Bh=0|Ah,Bl=0|Al;let All=_u64.add3L(T1l,sigma0l,MAJl);Ah=_u64.add3H(All,T1h,sigma0h,MAJh),Al=0|All}({h:Ah,l:Al}=_u64.add(0|this.Ah,0|this.Al,0|Ah,0|Al)),({h:Bh,l:Bl}=_u64.add(0|this.Bh,0|this.Bl,0|Bh,0|Bl)),({h:Ch,l:Cl}=_u64.add(0|this.Ch,0|this.Cl,0|Ch,0|Cl)),({h:Dh,l:Dl}=_u64.add(0|this.Dh,0|this.Dl,0|Dh,0|Dl)),({h:Eh,l:El}=_u64.add(0|this.Eh,0|this.El,0|Eh,0|El)),({h:Fh,l:Fl}=_u64.add(0|this.Fh,0|this.Fl,0|Fh,0|Fl)),({h:Gh,l:Gl}=_u64.add(0|this.Gh,0|this.Gl,0|Gh,0|Gl)),({h:Hh,l:Hl}=_u64.add(0|this.Hh,0|this.Hl,0|Hh,0|Hl)),this.set(Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class SHA512_256 extends SHA512{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class SHA384 extends SHA512{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}wrapConstructor(()=>new SHA512),wrapConstructor(()=>new SHA512_256),wrapConstructor(()=>new SHA384);class HMAC extends Hash{constructor(hash,_key){super(),this.finished=!1,this.destroyed=!1,_assert.hash(hash);let key=toBytes(_key);if(this.iHash=hash.create(),"function"!=typeof this.iHash.update)throw TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let blockLen=this.blockLen,pad=new Uint8Array(blockLen);pad.set(key.length>blockLen?hash.create().update(key).digest():key);for(let i=0;i<pad.length;i++)pad[i]^=54;this.iHash.update(pad),this.oHash=hash.create();for(let i1=0;i1<pad.length;i1++)pad[i1]^=106;this.oHash.update(pad),pad.fill(0)}update(buf){return _assert.exists(this),this.iHash.update(buf),this}digestInto(out){_assert.exists(this),_assert.bytes(out,this.outputLen),this.finished=!0,this.iHash.digestInto(out),this.oHash.update(out),this.oHash.digestInto(out),this.destroy()}digest(){let out=new Uint8Array(this.oHash.outputLen);return this.digestInto(out),out}_cloneInto(to){to||(to=Object.create(Object.getPrototypeOf(this),{}));let{oHash,iHash,finished,destroyed,blockLen,outputLen}=this;return to.finished=finished,to.destroyed=destroyed,to.blockLen=blockLen,to.outputLen=outputLen,to.oHash=oHash._cloneInto(to.oHash),to.iHash=iHash._cloneInto(to.iHash),to}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let hmac_hmac=(hash,key,message)=>new HMAC(hash,key).update(message).digest();hmac_hmac.create=(hash,key)=>new HMAC(hash,key);var crypto_ignored_=__webpack_require__(6300),crypto_ignored_namespaceObject=__webpack_require__.t(crypto_ignored_,2);/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */ let _0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),_3n=BigInt(3),_8n=BigInt(8),CURVE=Object.freeze({a:_0n,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:_1n,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});function weistrass(x){let{a,b}=CURVE,x2=mod(x*x),x3=mod(x2*x);return mod(x3+a*x+b)}let USE_ENDOMORPHISM=CURVE.a===_0n;class ShaError extends Error{constructor(message){super(message)}}class JacobianPoint{constructor(x,y,z){this.x=x,this.y=y,this.z=z}static fromAffine(p){if(!(p instanceof Point))throw TypeError("JacobianPoint#fromAffine: expected Point");return new JacobianPoint(p.x,p.y,_1n)}static toAffineBatch(points){let toInv=function(nums,p=CURVE.P){let scratch=Array(nums.length),lastMultiplied=nums.reduce((acc,num,i)=>num===_0n?acc:(scratch[i]=acc,mod(acc*num,p)),_1n),inverted=invert(lastMultiplied,p);return nums.reduceRight((acc,num,i)=>num===_0n?acc:(scratch[i]=mod(acc*scratch[i],p),mod(acc*num,p)),inverted),scratch}(points.map(p=>p.z));return points.map((p,i)=>p.toAffine(toInv[i]))}static normalizeZ(points){return JacobianPoint.toAffineBatch(points).map(JacobianPoint.fromAffine)}equals(other){if(!(other instanceof JacobianPoint))throw TypeError("JacobianPoint expected");let{x:X1,y:Y1,z:Z1}=this,{x:X2,y:Y2,z:Z2}=other,Z1Z1=mod(Z1*Z1),Z2Z2=mod(Z2*Z2),U1=mod(X1*Z2Z2),U2=mod(X2*Z1Z1),S1=mod(mod(Y1*Z2)*Z2Z2),S2=mod(mod(Y2*Z1)*Z1Z1);return U1===U2&&S1===S2}negate(){return new JacobianPoint(this.x,mod(-this.y),this.z)}double(){let{x:X1,y:Y1,z:Z1}=this,A=mod(X1*X1),B=mod(Y1*Y1),C=mod(B*B),x1b=X1+B,D=mod(_2n*(mod(x1b*x1b)-A-C)),E=mod(_3n*A),F=mod(E*E),X3=mod(F-_2n*D),Y3=mod(E*(D-X3)-_8n*C),Z3=mod(_2n*Y1*Z1);return new JacobianPoint(X3,Y3,Z3)}add(other){if(!(other instanceof JacobianPoint))throw TypeError("JacobianPoint expected");let{x:X1,y:Y1,z:Z1}=this,{x:X2,y:Y2,z:Z2}=other;if(X2===_0n||Y2===_0n)return this;if(X1===_0n||Y1===_0n)return other;let Z1Z1=mod(Z1*Z1),Z2Z2=mod(Z2*Z2),U1=mod(X1*Z2Z2),U2=mod(X2*Z1Z1),S1=mod(mod(Y1*Z2)*Z2Z2),S2=mod(mod(Y2*Z1)*Z1Z1),H=mod(U2-U1),r=mod(S2-S1);if(H===_0n)return r===_0n?this.double():JacobianPoint.ZERO;let HH=mod(H*H),HHH=mod(H*HH),V=mod(U1*HH),X3=mod(r*r-HHH-_2n*V),Y3=mod(r*(V-X3)-S1*HHH),Z3=mod(Z1*Z2*H);return new JacobianPoint(X3,Y3,Z3)}subtract(other){return this.add(other.negate())}multiplyUnsafe(scalar){let P0=JacobianPoint.ZERO;if("bigint"==typeof scalar&&scalar===_0n)return P0;let n=normalizeScalar(scalar);if(n===_1n)return this;if(!USE_ENDOMORPHISM){let p=P0,d=this;for(;n>_0n;)n&_1n&&(p=p.add(d)),d=d.double(),n>>=_1n;return p}let{k1neg,k1,k2neg,k2}=splitScalarEndo(n),k1p=P0,k2p=P0,d1=this;for(;k1>_0n||k2>_0n;)k1&_1n&&(k1p=k1p.add(d1)),k2&_1n&&(k2p=k2p.add(d1)),d1=d1.double(),k1>>=_1n,k2>>=_1n;return k1neg&&(k1p=k1p.negate()),k2neg&&(k2p=k2p.negate()),k2p=new JacobianPoint(mod(k2p.x*CURVE.beta),k2p.y,k2p.z),k1p.add(k2p)}precomputeWindow(W){let windows=USE_ENDOMORPHISM?128/W+1:256/W+1,points=[],p=this,base=p;for(let window1=0;window1<windows;window1++){base=p,points.push(base);for(let i=1;i<2**(W-1);i++)base=base.add(p),points.push(base);p=base.double()}return points}wNAF(n,affinePoint){!affinePoint&&this.equals(JacobianPoint.BASE)&&(affinePoint=Point.BASE);let W=affinePoint&&affinePoint._WINDOW_SIZE||1;if(256%W)throw Error("Point#wNAF: Invalid precomputation window, must be power of 2");let precomputes=affinePoint&&pointPrecomputes.get(affinePoint);!precomputes&&(precomputes=this.precomputeWindow(W),affinePoint&&1!==W&&(precomputes=JacobianPoint.normalizeZ(precomputes),pointPrecomputes.set(affinePoint,precomputes)));let p=JacobianPoint.ZERO,f=JacobianPoint.ZERO,windows=1+(USE_ENDOMORPHISM?128/W:256/W),windowSize=2**(W-1),mask=BigInt(2**W-1),maxNumber=2**W,shiftBy=BigInt(W);for(let window1=0;window1<windows;window1++){let offset=window1*windowSize,wbits=Number(n&mask);if(n>>=shiftBy,wbits>windowSize&&(wbits-=maxNumber,n+=_1n),0===wbits){let pr=precomputes[offset];window1%2&&(pr=pr.negate()),f=f.add(pr)}else{let cached=precomputes[offset+Math.abs(wbits)-1];wbits<0&&(cached=cached.negate()),p=p.add(cached)}}return{p,f}}multiply(scalar,affinePoint){let point,fake,n=normalizeScalar(scalar);if(USE_ENDOMORPHISM){let{k1neg,k1,k2neg,k2}=splitScalarEndo(n),{p:k1p,f:f1p}=this.wNAF(k1,affinePoint),{p:k2p,f:f2p}=this.wNAF(k2,affinePoint);k1neg&&(k1p=k1p.negate()),k2neg&&(k2p=k2p.negate()),k2p=new JacobianPoint(mod(k2p.x*CURVE.beta),k2p.y,k2p.z),point=k1p.add(k2p),fake=f1p.add(f2p)}else{let{p,f}=this.wNAF(n,affinePoint);point=p,fake=f}return JacobianPoint.normalizeZ([point,fake])[0]}toAffine(invZ=invert(this.z)){let{x,y,z}=this,iz2=mod(invZ*invZ),iz3=mod(iz2*invZ),ax=mod(x*iz2),ay=mod(y*iz3),zz=mod(z*invZ);if(zz!==_1n)throw Error("invZ was invalid");return new Point(ax,ay)}}JacobianPoint.BASE=new JacobianPoint(CURVE.Gx,CURVE.Gy,_1n),JacobianPoint.ZERO=new JacobianPoint(_0n,_1n,_0n);let pointPrecomputes=new WeakMap;class Point{constructor(x,y){this.x=x,this.y=y}_setWindowSize(windowSize){this._WINDOW_SIZE=windowSize,pointPrecomputes.delete(this)}hasEvenY(){return this.y%_2n===_0n}static fromCompressedHex(bytes){let isShort=32===bytes.length,x=bytesToNumber(isShort?bytes:bytes.subarray(1));if(!isValidFieldElement(x))throw Error("Point is not on curve");let y2=weistrass(x),y=function(x){let{P}=CURVE,_6n=BigInt(6),_11n=BigInt(11),_22n=BigInt(22),_23n=BigInt(23),_44n=BigInt(44),_88n=BigInt(88),b2=x*x*x%P,b3=b2*b2*x%P,b6=pow2(b3,_3n)*b3%P,b9=pow2(b6,_3n)*b3%P,b11=pow2(b9,_2n)*b2%P,b22=pow2(b11,_11n)*b11%P,b44=pow2(b22,_22n)*b22%P,b88=pow2(b44,_44n)*b44%P,b176=pow2(b88,_88n)*b88%P,b220=pow2(b176,_44n)*b44%P,b223=pow2(b220,_3n)*b3%P,t1=pow2(b223,_23n)*b22%P,t2=pow2(t1,_6n)*b2%P;return pow2(t2,_2n)}(y2),isYOdd=(y&_1n)===_1n;if(isShort)isYOdd&&(y=mod(-y));else{let isFirstByteOdd=(1&bytes[0])==1;isFirstByteOdd!==isYOdd&&(y=mod(-y))}let point=new Point(x,y);return point.assertValidity(),point}static fromUncompressedHex(bytes){let x=bytesToNumber(bytes.subarray(1,33)),y=bytesToNumber(bytes.subarray(33,65)),point=new Point(x,y);return point.assertValidity(),point}static fromHex(hex){let bytes=ensureBytes(hex),len=bytes.length,header=bytes[0];if(32===len||33===len&&(2===header||3===header))return this.fromCompressedHex(bytes);if(65===len&&4===header)return this.fromUncompressedHex(bytes);throw Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${len}`)}static fromPrivateKey(privateKey){return Point.BASE.multiply(normalizePrivateKey(privateKey))}static fromSignature(msgHash,signature,recovery){msgHash=ensureBytes(msgHash);let h=function(hash){let{n}=CURVE,byteLength=hash.length,delta=8*byteLength-256,h=bytesToNumber(hash);return delta>0&&(h>>=BigInt(delta)),h>=n&&(h-=n),h}(msgHash),{r,s}=function(signature){if(signature instanceof esm_Signature)return signature.assertValidity(),signature;try{return esm_Signature.fromDER(signature)}catch(error){return esm_Signature.fromCompact(signature)}}(signature);if(0!==recovery&&1!==recovery)throw Error("Cannot recover signature: invalid recovery bit");let R=Point.fromHex((1&recovery?"03":"02")+numTo32bStr(r)),{n}=CURVE,rinv=invert(r,n),u1=mod(-h*rinv,n),u2=mod(s*rinv,n),Q=Point.BASE.multiplyAndAddUnsafe(R,u1,u2);if(!Q)throw Error("Cannot recover signature: point at infinify");return Q.assertValidity(),Q}toRawBytes(isCompressed=!1){return esm_hexToBytes(this.toHex(isCompressed))}toHex(isCompressed=!1){let x=numTo32bStr(this.x);if(!isCompressed)return`04${x}${numTo32bStr(this.y)}`;{let prefix=this.hasEvenY()?"02":"03";return`${prefix}${x}`}}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let msg="Point is not on elliptic curve",{x,y}=this;if(!isValidFieldElement(x)||!isValidFieldElement(y))throw Error(msg);let left=mod(y*y),right=weistrass(x);if(mod(left-right)!==_0n)throw Error(msg)}equals(other){return this.x===other.x&&this.y===other.y}negate(){return new Point(this.x,mod(-this.y))}double(){return JacobianPoint.fromAffine(this).double().toAffine()}add(other){return JacobianPoint.fromAffine(this).add(JacobianPoint.fromAffine(other)).toAffine()}subtract(other){return this.add(other.negate())}multiply(scalar){return JacobianPoint.fromAffine(this).multiply(scalar,this).toAffine()}multiplyAndAddUnsafe(Q,a,b){let P=JacobianPoint.fromAffine(this),aP=a===_0n||a===_1n||this!==Point.BASE?P.multiplyUnsafe(a):P.multiply(a),bQ=JacobianPoint.fromAffine(Q).multiplyUnsafe(b),sum=aP.add(bQ);return sum.equals(JacobianPoint.ZERO)?void 0:sum.toAffine()}}function sliceDER(s){return Number.parseInt(s[0],16)>=8?"00"+s:s}function parseDERInt(data){if(data.length<2||2!==data[0])throw Error(`Invalid signature integer tag: ${esm_bytesToHex(data)}`);let len=data[1],res=data.subarray(2,len+2);if(!len||res.length!==len)throw Error("Invalid signature integer: wrong length");if(0===res[0]&&res[1]<=127)throw Error("Invalid signature integer: trailing length");return{data:bytesToNumber(res),left:data.subarray(len+2)}}Point.BASE=new Point(CURVE.Gx,CURVE.Gy),Point.ZERO=new Point(_0n,_0n);class esm_Signature{constructor(r,s){this.r=r,this.s=s,this.assertValidity()}static fromCompact(hex){let arr=hex instanceof Uint8Array,name="Signature.fromCompact";if("string"!=typeof hex&&!arr)throw TypeError(`${name}: Expected string or Uint8Array`);let str=arr?esm_bytesToHex(hex):hex;if(128!==str.length)throw Error(`${name}: Expected 64-byte hex`);return new esm_Signature(hexToNumber(str.slice(0,64)),hexToNumber(str.slice(64,128)))}static fromDER(hex){let arr=hex instanceof Uint8Array;if("string"!=typeof hex&&!arr)throw TypeError("Signature.fromDER: Expected string or Uint8Array");let{r,s}=function(data){if(data.length<2||48!=data[0])throw Error(`Invalid signature tag: ${esm_bytesToHex(data)}`);if(data[1]!==data.length-2)throw Error("Invalid signature: incorrect length");let{data:r,left:sBytes}=parseDERInt(data.subarray(2)),{data:s,left:rBytesLeft}=parseDERInt(sBytes);if(rBytesLeft.length)throw Error(`Invalid signature: left bytes after parsing: ${esm_bytesToHex(rBytesLeft)}`);return{r,s}}(arr?hex:esm_hexToBytes(hex));return new esm_Signature(r,s)}static fromHex(hex){return this.fromDER(hex)}assertValidity(){let{r,s}=this;if(!isWithinCurveOrder(r))throw Error("Invalid Signature: r must be 0 < r < n");if(!isWithinCurveOrder(s))throw Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let HALF=CURVE.n>>_1n;return this.s>HALF}normalizeS(){return this.hasHighS()?new esm_Signature(this.r,CURVE.n-this.s):this}toDERRawBytes(isCompressed=!1){return esm_hexToBytes(this.toDERHex(isCompressed))}toDERHex(isCompressed=!1){let sHex=sliceDER(numberToHexUnpadded(this.s));if(isCompressed)return sHex;let rHex=sliceDER(numberToHexUnpadded(this.r)),rLen=numberToHexUnpadded(rHex.length/2),sLen=numberToHexUnpadded(sHex.length/2),length=numberToHexUnpadded(rHex.length/2+sHex.length/2+4);return`30${length}02${rLen}${rHex}02${sLen}${sHex}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return esm_hexToBytes(this.toCompactHex())}toCompactHex(){return numTo32bStr(this.r)+numTo32bStr(this.s)}}function esm_concatBytes(...arrays){if(!arrays.every(b=>b instanceof Uint8Array))throw Error("Uint8Array list expected");if(1===arrays.length)return arrays[0];let length=arrays.reduce((a,arr)=>a+arr.length,0),result=new Uint8Array(length);for(let i=0,pad=0;i<arrays.length;i++){let arr=arrays[i];result.set(arr,pad),pad+=arr.length}return result}let esm_hexes=Array.from({length:256},(v,i)=>i.toString(16).padStart(2,"0"));function esm_bytesToHex(uint8a){if(!(uint8a instanceof Uint8Array))throw Error("Expected Uint8Array");let hex="";for(let i=0;i<uint8a.length;i++)hex+=esm_hexes[uint8a[i]];return hex}let POW_2_256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function numTo32bStr(num){if("bigint"!=typeof num)throw Error("Expected bigint");if(!(_0n<=num&&num<POW_2_256))throw Error("Expected number < 2^256");return num.toString(16).padStart(64,"0")}function numTo32b(num){let b=esm_hexToBytes(numTo32bStr(num));if(32!==b.length)throw Error("Error: expected 32 bytes");return b}function numberToHexUnpadded(num){let hex=num.toString(16);return 1&hex.length?`0${hex}`:hex}function hexToNumber(hex){if("string"!=typeof hex)throw TypeError("hexToNumber: expected string, got "+typeof hex);return BigInt(`0x${hex}`)}function esm_hexToBytes(hex){if("string"!=typeof hex)throw TypeError("hexToBytes: expected string, got "+typeof hex);if(hex.length%2)throw Error("hexToBytes: received invalid unpadded hex"+hex.length);let array=new Uint8Array(hex.length/2);for(let i=0;i<array.length;i++){let j=2*i,hexByte=hex.slice(j,j+2),byte=Number.parseInt(hexByte,16);if(Number.isNaN(byte)||byte<0)throw Error("Invalid byte sequence");array[i]=byte}return array}function bytesToNumber(bytes){return hexToNumber(esm_bytesToHex(bytes))}function ensureBytes(hex){return hex instanceof Uint8Array?Uint8Array.from(hex):esm_hexToBytes(hex)}function normalizeScalar(num){if("number"==typeof num&&Number.isSafeInteger(num)&&num>0)return BigInt(num);if("bigint"==typeof num&&isWithinCurveOrder(num))return num;throw TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function mod(a,b=CURVE.P){let result=a%b;return result>=_0n?result:b+result}function pow2(x,power){let{P}=CURVE,res=x;for(;power-- >_0n;)res*=res,res%=P;return res}function invert(number,modulo=CURVE.P){if(number===_0n||modulo<=_0n)throw Error(`invert: expected positive integers, got n=${number} mod=${modulo}`);let a=mod(number,modulo),b=modulo,x=_0n,y=_1n,u=_1n,v=_0n;for(;a!==_0n;){let q=b/a,r=b%a,m=x-u*q,n=y-v*q;b=a,a=r,x=u,y=v,u=m,v=n}let gcd=b;if(gcd!==_1n)throw Error("invert: does not exist");return mod(x,modulo)}let divNearest=(a,b)=>(a+b/_2n)/b,ENDO={a1:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),b1:-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a2:BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),b2:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),POW_2_128:BigInt("0x100000000000000000000000000000000")};function splitScalarEndo(k){let{n}=CURVE,{a1,b1,a2,b2,POW_2_128}=ENDO,c1=divNearest(b2*k,n),c2=divNearest(-b1*k,n),k1=mod(k-c1*a1-c2*a2,n),k2=mod(-c1*b1-c2*b2,n),k1neg=k1>POW_2_128,k2neg=k2>POW_2_128;if(k1neg&&(k1=n-k1),k2neg&&(k2=n-k2),k1>POW_2_128||k2>POW_2_128)throw Error("splitScalarEndo: Endomorphism failed, k="+k);return{k1neg,k1,k2neg,k2}}function isWithinCurveOrder(num){return _0n<num&&num<CURVE.n}function isValidFieldElement(num){return _0n<num&&num<CURVE.P}function normalizePrivateKey(key){let num;if("bigint"==typeof key)num=key;else if("number"==typeof key&&Number.isSafeInteger(key)&&key>0)num=BigInt(key);else if("string"==typeof key){if(64!==key.length)throw Error("Expected 32 bytes of private key");num=hexToNumber(key)}else if(key instanceof Uint8Array){if(32!==key.length)throw Error("Expected 32 bytes of private key");num=bytesToNumber(key)}else throw TypeError("Expected valid private key");if(!isWithinCurveOrder(num))throw Error("Expected private key: 0 < key < n");return num}Point.BASE._setWindowSize(8);let esm_crypto={node:crypto_ignored_namespaceObject,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},TAGGED_HASH_PREFIXES={},utils={bytesToHex:esm_bytesToHex,hexToBytes:esm_hexToBytes,concatBytes:esm_concatBytes,mod,invert,isValidPrivateKey(privateKey){try{return normalizePrivateKey(privateKey),!0}catch(error){return!1}},_bigintTo32Bytes:numTo32b,_normalizePrivateKey:normalizePrivateKey,hashToPrivateKey(hash){if((hash=ensureBytes(hash)).length<40||hash.length>1024)throw Error("Expected 40-1024 bytes of private key as per FIPS 186");let num=mod(bytesToNumber(hash),CURVE.n-_1n)+_1n;return numTo32b(num)},randomBytes(bytesLength=32){if(esm_crypto.web)return esm_crypto.web.getRandomValues(new Uint8Array(bytesLength));if(esm_crypto.node){let{randomBytes}=esm_crypto.node;return Uint8Array.from(randomBytes(bytesLength))}throw Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>utils.hashToPrivateKey(utils.randomBytes(40)),async sha256(...messages){if(esm_crypto.web){let buffer=await esm_crypto.web.subtle.digest("SHA-256",esm_concatBytes(...messages));return new Uint8Array(buffer)}if(esm_crypto.node){let{createHash}=esm_crypto.node,hash=createHash("sha256");return messages.forEach(m=>hash.update(m)),Uint8Array.from(hash.digest())}throw Error("The environment doesn't have sha256 function")},async hmacSha256(key,...messages){if(esm_crypto.web){let ckey=await esm_crypto.web.subtle.importKey("raw",key,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),message=esm_concatBytes(...messages),buffer=await esm_crypto.web.subtle.sign("HMAC",ckey,message);return new Uint8Array(buffer)}if(esm_crypto.node){let{createHmac}=esm_crypto.node,hash=createHmac("sha256",key);return messages.forEach(m=>hash.update(m)),Uint8Array.from(hash.digest())}throw Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,async taggedHash(tag,...messages){let tagP=TAGGED_HASH_PREFIXES[tag];if(void 0===tagP){let tagH=await utils.sha256(Uint8Array.from(tag,c=>c.charCodeAt(0)));tagP=esm_concatBytes(tagH,tagH),TAGGED_HASH_PREFIXES[tag]=tagP}return utils.sha256(tagP,...messages)},taggedHashSync(tag,...messages){if("function"!=typeof _sha256Sync)throw new ShaError("sha256Sync is undefined, you need to set it");let tagP=TAGGED_HASH_PREFIXES[tag];if(void 0===tagP){let tagH=_sha256Sync(Uint8Array.from(tag,c=>c.charCodeAt(0)));tagP=esm_concatBytes(tagH,tagH),TAGGED_HASH_PREFIXES[tag]=tagP}return _sha256Sync(tagP,...messages)},precompute(windowSize=8,point=Point.BASE){let cached=point===Point.BASE?point:new Point(point.x,point.y);return cached._setWindowSize(windowSize),cached.multiply(_3n),cached}};Object.defineProperties(utils,{sha256Sync:{configurable:!1,get:()=>_sha256Sync,set(val){_sha256Sync||(_sha256Sync=val)}},hmacSha256Sync:{configurable:!1,get:()=>_hmacSha256Sync,set(val){_hmacSha256Sync||(_hmacSha256Sync=val)}}});let Chi=(a,b,c)=>a&b^~a&c,Maj=(a,b,c)=>a&b^a&c^b&c,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends SHA2{constructor(){super(64,32,8,!1),this.A=0|IV[0],this.B=0|IV[1],this.C=0|IV[2],this.D=0|IV[3],this.E=0|IV[4],this.F=0|IV[5],this.G=0|IV[6],this.H=0|IV[7]}get(){let{A,B,C,D,E,F,G,H}=this;return[A,B,C,D,E,F,G,H]}set(A,B,C,D,E,F,G,H){this.A=0|A,this.B=0|B,this.C=0|C,this.D=0|D,this.E=0|E,this.F=0|F,this.G=0|G,this.H=0|H}process(view,offset){for(let i=0;i<16;i++,offset+=4)SHA256_W[i]=view.getUint32(offset,!1);for(let i1=16;i1<64;i1++){let W15=SHA256_W[i1-15],W2=SHA256_W[i1-2],s0=rotr(W15,7)^rotr(W15,18)^W15>>>3,s1=rotr(W2,17)^rotr(W2,19)^W2>>>10;SHA256_W[i1]=s1+SHA256_W[i1-7]+s0+SHA256_W[i1-16]|0}let{A,B,C,D,E,F,G,H}=this;for(let i2=0;i2<64;i2++){let sigma1=rotr(E,6)^rotr(E,11)^rotr(E,25),T1=H+sigma1+Chi(E,F,G)+SHA256_K[i2]+SHA256_W[i2]|0,sigma0=rotr(A,2)^rotr(A,13)^rotr(A,22),T2=sigma0+Maj(A,B,C)|0;H=G,G=F,F=E,E=D+T1|0,D=C,C=B,B=A,A=T1+T2|0}A=A+this.A|0,B=B+this.B|0,C=C+this.C|0,D=D+this.D|0,E=E+this.E|0,F=F+this.F|0,G=G+this.G|0,H=H+this.H|0,this.set(A,B,C,D,E,F,G,H)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let sha256_sha256=wrapConstructor(()=>new SHA256),Rho=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Id=Uint8Array.from({length:16},(_,i)=>i),Pi=Id.map(i=>(9*i+5)%16),idxL=[Id],idxR=[Pi];for(let i=0;i<4;i++)for(let j of[idxL,idxR])j.push(j[i].map(k=>Rho[k]));let shifts=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(i=>new Uint8Array(i)),shiftsL=idxL.map((idx,i)=>idx.map(j=>shifts[i][j])),shiftsR=idxR.map((idx,i)=>idx.map(j=>shifts[i][j])),Kl=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Kr=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),rotl=(word,shift)=>word<<shift|word>>>32-shift;function f(group,x,y,z){return 0===group?x^y^z:1===group?x&y|~x&z:2===group?(x|~y)^z:3===group?x&z|y&~z:x^(y|~z)}let BUF=new Uint32Array(16);class RIPEMD160 extends SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0,h1,h2,h3,h4}=this;return[h0,h1,h2,h3,h4]}set(h0,h1,h2,h3,h4){this.h0=0|h0,this.h1=0|h1,this.h2=0|h2,this.h3=0|h3,this.h4=0|h4}process(view,offset){for(let i=0;i<16;i++,offset+=4)BUF[i]=view.getUint32(offset,!0);let al=0|this.h0,ar=al,bl=0|this.h1,br=bl,cl=0|this.h2,cr=cl,dl=0|this.h3,dr=dl,el=0|this.h4,er=el;for(let group=0;group<5;group++){let rGroup=4-group,hbl=Kl[group],hbr=Kr[group],rl=idxL[group],rr=idxR[group],sl=shiftsL[group],sr=shiftsR[group];for(let i1=0;i1<16;i1++){let tl=rotl(al+f(group,bl,cl,dl)+BUF[rl[i1]]+hbl,sl[i1])+el|0;al=el,el=dl,dl=0|rotl(cl,10),cl=bl,bl=tl}for(let i2=0;i2<16;i2++){let tr=rotl(ar+f(rGroup,br,cr,dr)+BUF[rr[i2]]+hbr,sr[i2])+er|0;ar=er,er=dr,dr=0|rotl(cr,10),cr=br,br=tr}}this.set(this.h1+cl+dr|0,this.h2+dl+er|0,this.h3+el+ar|0,this.h4+al+br|0,this.h0+bl+cr|0)}roundClean(){BUF.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */ function assertNumber(n){if(!Number.isSafeInteger(n))throw Error(`Wrong integer: ${n}`)}function chain(...args){let wrap=(a,b)=>c=>a(b(c)),encode=Array.from(args).reverse().reduce((acc,i)=>acc?wrap(acc,i.encode):i.encode,void 0),decode=args.reduce((acc,i)=>acc?wrap(acc,i.decode):i.decode,void 0);return{encode,decode}}function alphabet(alphabet){return{encode(digits){if(!Array.isArray(digits)||digits.length&&"number"!=typeof digits[0])throw Error("alphabet.encode input should be an array of numbers");return digits.map(i=>{if(assertNumber(i),i<0||i>=alphabet.length)throw Error(`Digit index outside alphabet: ${i} (alphabet: ${alphabet.length})`);return alphabet[i]})},decode(input){if(!Array.isArray(input)||input.length&&"string"!=typeof input[0])throw Error("alphabet.decode input should be array of strings");return input.map(letter=>{if("string"!=typeof letter)throw Error(`alphabet.decode: not string element=${letter}`);let index=alphabet.indexOf(letter);if(-1===index)throw Error(`Unknown letter: "${letter}". Allowed: ${alphabet}`);return index})}}}function join(separator=""){if("string"!=typeof separator)throw Error("join separator should be string");return{encode(from){if(!Array.isArray(from)||from.length&&"string"!=typeof from[0])throw Error("join.encode input should be array of strings");for(let i of from)if("string"!=typeof i)throw Error(`join.encode: non-string input=${i}`);return from.join(separator)},decode(to){if("string"!=typeof to)throw Error("join.decode input should be string");return to.split(separator)}}}function padding(bits,chr="="){if(assertNumber(bits),"string"!=typeof chr)throw Error("padding chr should be string");return{encode(data){if(!Array.isArray(data)||data.length&&"string"!=typeof data[0])throw Error("padding.encode input should be array of strings");for(let i of data)if("string"!=typeof i)throw Error(`padding.encode: non-string input=${i}`);for(;data.length*bits%8;)data.push(chr);return data},decode(input){if(!Array.isArray(input)||input.length&&"string"!=typeof input[0])throw Error("padding.encode input should be array of strings");for(let i of input)if("string"!=typeof i)throw Error(`padding.decode: non-string input=${i}`);let end=input.length;if(end*bits%8)throw Error("Invalid padding: string should have whole number of bytes");for(;end>0&&input[end-1]===chr;end--)if(!((end-1)*bits%8))throw Error("Invalid padding: string has too much padding");return input.slice(0,end)}}}function normalize(fn){if("function"!=typeof fn)throw Error("normalize fn should be function");return{encode:from=>from,decode:to=>fn(to)}}function convertRadix(data,from,to){if(from<2)throw Error(`convertRadix: wrong from=${from}, base cannot be less than 2`);if(to<2)throw Error(`convertRadix: wrong to=${to}, base cannot be less than 2`);if(!Array.isArray(data))throw Error("convertRadix: data should be array");if(!data.length)return[];let pos=0,res=[],digits=Array.from(data);for(digits.forEach(d=>{if(assertNumber(d),d<0||d>=from)throw Error(`Wrong integer: ${d}`)});;){let carry=0,done=!0;for(let i=pos;i<digits.length;i++){let digit=digits[i],digitBase=from*carry+digit;if(!Number.isSafeInteger(digitBase)||from*carry/from!==carry||digitBase-digit!=from*carry||(carry=digitBase%to,digits[i]=Math.floor(digitBase/to),!Number.isSafeInteger(digits[i])||digits[i]*to+carry!==digitBase))throw Error("convertRadix: carry overflow");done&&(digits[i]?done=!1:pos=i)}if(res.push(carry),done)break}for(let i1=0;i1<data.length-1&&0===data[i1];i1++)res.push(0);return res.reverse()}wrapConstructor(()=>new RIPEMD160);let gcd=(a,b)=>b?gcd(b,a%b):a,radix2carry=(from,to)=>from+(to-gcd(from,to));function convertRadix2(data,from,to,padding){if(!Array.isArray(data))throw Error("convertRadix2: data should be array");if(from<=0||from>32)throw Error(`convertRadix2: wrong from=${from}`);if(to<=0||to>32)throw Error(`convertRadix2: wrong to=${to}`);if(radix2carry(from,to)>32)throw Error(`convertRadix2: carry overflow from=${from} to=${to} carryBits=${radix2carry(from,to)}`);let carry=0,pos=0,mask=2**to-1,res=[];for(let n of data){if(assertNumber(n),n>=2**from)throw Error(`convertRadix2: invalid data word=${n} from=${from}`);if(carry=carry<<from|n,pos+from>32)throw Error(`convertRadix2: carry overflow pos=${pos} from=${from}`);for(pos+=from;pos>=to;pos-=to)res.push((carry>>pos-to&mask)>>>0);carry&=2**pos-1}if(carry=carry<<to-pos&mask,!padding&&pos>=from)throw Error("Excess padding");if(!padding&&carry)throw Error(`Non-zero padding: ${carry}`);return padding&&pos>0&&res.push(carry>>>0),res}function radix2(bits,revPadding=!1){if(assertNumber(bits),bits<=0||bits>32)throw Error("radix2: bits should be in (0..32]");if(radix2carry(8,bits)>32||radix2carry(bits,8)>32)throw Error("radix2: carry overflow");return{encode(bytes){if(!(bytes instanceof Uint8Array))throw Error("radix2.encode input should be Uint8Array");return convertRadix2(Array.from(bytes),8,bits,!revPadding)},decode(digits){if(!Array.isArray(digits)||digits.length&&"number"!=typeof digits[0])throw Error("radix2.decode input should be array of strings");return Uint8Array.from(convertRadix2(digits,bits,8,revPadding))}}}function unsafeWrapper(fn){if("function"!=typeof fn)throw Error("unsafeWrapper fn should be function");return function(...args){try{return fn.apply(null,args)}catch(e){}}}chain(radix2(4),alphabet("0123456789ABCDEF"),join("")),chain(radix2(5),alphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),padding(5),join("")),chain(radix2(5),alphabet("0123456789ABCDEFGHIJKLMNOPQRSTUV"),padding(5),join("")),chain(radix2(5),alphabet("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),join(""),normalize(s=>s.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),chain(radix2(6),alphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),padding(6),join("")),chain(radix2(6),alphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),padding(6),join(""));let genBase58=abc=>chain((assertNumber(58),{encode(bytes){if(!(bytes instanceof Uint8Array))throw Error("radix.encode input should be Uint8Array");return convertRadix(Array.from(bytes),256,58)},decode(digits){if(!Array.isArray(digits)||digits.length&&"number"!=typeof digits[0])throw Error("radix.decode input should be array of strings");return Uint8Array.from(convertRadix(digits,58,256))}}),alphabet(abc),join("")),base58=genBase58("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");genBase58("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),genBase58("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");let BECH_ALPHABET=chain(alphabet("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),join("")),POLYMOD_GENERATORS=[996825010,642813549,513874426,1027748829,705979059];function bech32Polymod(pre){let b=pre>>25,chk=(33554431&pre)<<5;for(let i=0;i<POLYMOD_GENERATORS.length;i++)(b>>i&1)==1&&(chk^=POLYMOD_GENERATORS[i]);return chk}function bechChecksum(prefix,words,encodingConst=1){let len=prefix.length,chk=1;for(let i=0;i<len;i++){let c=prefix.charCodeAt(i);if(c<33||c>126)throw Error(`Invalid prefix (${prefix})`);chk=bech32Polymod(chk)^c>>5}chk=bech32Polymod(chk);for(let i1=0;i1<len;i1++)chk=bech32Polymod(chk)^31&prefix.charCodeAt(i1);for(let v of words)chk=bech32Polymod(chk)^v;for(let i2=0;i2<6;i2++)chk=bech32Polymod(chk);return chk^=encodingConst,BECH_ALPHABET.encode(convertRadix2([chk%1073741824],30,5,!1))}function genBech32(encoding){let ENCODING_CONST="bech32"===encoding?1:734539939,_words=radix2(5),fromWords=_words.decode,toWords=_words.encode,fromWordsUnsafe=unsafeWrapper(fromWords);function decode(str,limit=90){if("string"!=typeof str)throw Error(`bech32.decode input should be string, not ${typeof str}`);if(str.length<8||!1!==limit&&str.length>limit)throw TypeError(`Wrong string length: ${str.length} (${str}). Expected (8..${limit})`);let lowered=str.toLowerCase();if(str!==lowered&&str!==str.toUpperCase())throw Error("String must be lowercase or uppercase");str=lowered;let sepIndex=str.lastIndexOf("1");if(0===sepIndex||-1===sepIndex)throw Error('Letter "1" must be present between prefix and data only');let prefix=str.slice(0,sepIndex),_words=str.slice(sepIndex+1);if(_words.length<6)throw Error("Data must be at least 6 characters long");let words=BECH_ALPHABET.decode(_words).slice(0,-6),sum=bechChecksum(prefix,words,ENCODING_CONST);if(!_words.endsWith(sum))throw Error(`Invalid checksum in ${str}: expected "${sum}"`);return{prefix,words}}let decodeUnsafe=unsafeWrapper(decode);return{encode:function(prefix,words,limit=90){if("string"!=typeof prefix)throw Error(`bech32.encode prefix should be string, not ${typeof prefix}`);if(!Array.isArray(words)||words.length&&"number"!=typeof words[0])throw Error(`bech32.encode words should be array of numbers, not ${typeof words}`);let actualLength=prefix.length+7+words.length;if(!1!==limit&&actualLength>limit)throw TypeError(`Length ${actualLength} exceeds limit ${limit}`);return prefix=prefix.toLowerCase(),`${prefix}1${BECH_ALPHABET.encode(words)}${bechChecksum(prefix,words,ENCODING_CONST)}`},decode,decodeToBytes:function(str){let{prefix,words}=decode(str,!1);return{prefix,words,bytes:fromWords(words)}},decodeUnsafe,fromWords,fromWordsUnsafe,toWords}}genBech32("bech32"),genBech32("bech32m"),chain(radix2(4),alphabet("0123456789abcdef"),join(""),normalize(s=>{if("string"!=typeof s||s.length%2)throw TypeError(`hex.decode: expected string, got ${typeof s} with length ${s.length}`);return s.toLowerCase()})),utils.hmacSha256Sync=(key,...msgs)=>hmac_hmac(sha256_sha256,key,utils.concatBytes(...msgs)),chain(function(len,fn){if(assertNumber(len),"function"!=typeof fn)throw Error("checksum fn should be function");return{encode(data){if(!(data instanceof Uint8Array))throw Error("checksum.encode: input should be Uint8Array");let checksum=fn(data).slice(0,len),res=new Uint8Array(data.length+len);return res.set(data),res.set(checksum,data.length),res},decode(data){if(!(data instanceof Uint8Array))throw Error("checksum.decode: input should be Uint8Array");let payload=data.slice(0,-len),newChecksum=fn(payload).slice(0,len),oldChecksum=data.slice(-len);for(let i=0;i<len;i++)if(newChecksum[i]!==oldChecksum[i])throw Error("Invalid checksum");return payload}}}(4,data=>sha256_sha256(sha256_sha256(data))),base58),utf8ToBytes("Bitcoin seed");var browser=__webpack_require__(1596),browser_ponyfill=__webpack_require__(2892),lossless_json=__webpack_require__(791);function fromB64(sBase64,nBlocksSize){for(var nChr,nMod3,nMod4,sB64Enc=sBase64.replace(/[^A-Za-z0-9+/]/g,""),nInLen=sB64Enc.length,nOutLen=nBlocksSize?Math.ceil((3*nInLen+1>>2)/nBlocksSize)*nBlocksSize:3*nInLen+1>>2,taBytes=new Uint8Array(nOutLen),nUint24=0,nOutIdx=0,nInIdx=0;nInIdx<nInLen;nInIdx++)if(nMod4=3&nInIdx,nUint24|=((nChr=sB64Enc.charCodeAt(nInIdx))>64&&nChr<91?nChr-65:nChr>96&&nChr<123?nChr-71:nChr>47&&nChr<58?nChr+4:43===nChr?62:47===nChr?63:0)<<6*(3-nMod4),3===nMod4||nInLen-nInIdx==1){for(nMod3=0;nMod3<3&&nOutIdx<nOutLen;nMod3++,nOutIdx++)taBytes[nOutIdx]=nUint24>>>(16>>>nMod3&24)&255;nUint24=0}return taBytes}function uint6ToB64(nUint6){return nUint6<26?nUint6+65:nUint6<52?nUint6+71:nUint6<62?nUint6-4:62===nUint6?43:63===nUint6?47:65}function toB64(aBytes){for(var nMod3=2,sB64Enc="",nLen=aBytes.length,nUint24=0,nIdx=0;nIdx<nLen;nIdx++)nMod3=nIdx%3,nIdx>0&&4*nIdx/3%76==0&&(sB64Enc+=""),nUint24|=aBytes[nIdx]<<(16>>>nMod3&24),(2===nMod3||aBytes.length-nIdx==1)&&(sB64Enc+=String.fromCodePoint(uint6ToB64(nUint24>>>18&63),uint6ToB64(nUint24>>>12&63),uint6ToB64(nUint24>>>6&63),uint6ToB64(63&nUint24)),nUint24=0);return sB64Enc.slice(0,sB64Enc.length-2+nMod3)+(2===nMod3?"":1===nMod3?"=":"==")}function fromHEX(hexStr){let intArr=hexStr.replace("0x","").match(/.{1,2}/g).map(byte=>parseInt(byte,16));if(null===intArr)throw Error(`Unable to parse HEX: ${hexStr}`);return Uint8Array.from(intArr)}function toHEX(bytes){return bytes.reduce((str,byte)=>str+byte.toString(16).padStart(2,"0"),"")}var BcsReader=class{constructor(data){this.bytePosition=0,this.dataView=new DataView(data.buffer)}shift(bytes){return this.bytePosition+=bytes,this}read8(){let value=this.dataView.getUint8(this.bytePosition);return this.shift(1),new bn.BN(value,10)}read16(){let value=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),new bn.BN(value,10)}read32(){let value=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),new bn.BN(value,10)}read64(){let value1=this.read32(),result=this.read32().toString(16)+value1.toString(16).padStart(8,"0");return new bn.BN(result,16)}read128(){let value1=this.read64(),result=this.read64().toString(16)+value1.toString(16).padStart(8,"0");return new bn.BN(result,16)}read256(){let value1=this.read128(),result=this.read128().toString(16)+value1.toString(16).padStart(16,"0");return new bn.BN(result,16)}readBytes(num){let start=this.bytePosition+this.dataView.byteOffset,value=new Uint8Array(this.dataView.buffer,start,num);return this.shift(num),value}readULEB(){let start=this.bytePosition+this.dataView.byteOffset,{value,length}=function(arr){let total=0,shift=0,len=0;for(;;){let byte=arr[len];if(len+=1,total|=(127&byte)<<shift,(128&byte)==0)break;shift+=7}return{value:total,length:len}}(new Uint8Array(this.dataView.buffer,start));return this.shift(length),value}readVec(cb){let length=this.readULEB(),result=[];for(let i=0;i<length;i++)result.push(cb(this,i,length));return result}},BcsWriter=class{constructor(size=1024){this.bytePosition=0,this.dataView=new DataView(new ArrayBuffer(size))}static toBN(number){switch(typeof number){case"boolean":return number=+number,new bn.BN(number.toString());case"bigint":return new bn.BN(number.toString());default:return new bn.BN(number)}}shift(bytes){return this.bytePosition+=bytes,this}write8(value){return this.dataView.setUint8(this.bytePosition,+BcsWriter.toBN(value)),this.shift(1)}write16(value){return this.dataView.setUint16(this.bytePosition,+BcsWriter.toBN(value),!0),this.shift(2)}write32(value){return this.dataView.setUint32(this.bytePosition,+BcsWriter.toBN(value),!0),this.shift(4)}write64(value){return BcsWriter.toBN(value).toArray("le",8).forEach(el=>this.write8(el)),this}write128(value){return BcsWriter.toBN(value).toArray("le",16).forEach(el=>this.write8(el)),this}write256(value){return BcsWriter.toBN(value).toArray("le",32).forEach(el=>this.write8(el)),this}writeULEB(value){return(function(num){let arr=[],len=0;if(0===num)return[0];for(;num>0;)arr[len]=127&num,(num>>=7)&&(arr[len]|=128),len+=1;return arr})(value).forEach(el=>this.write8(el)),this}writeVec(vector,cb){return this.writeULEB(vector.length),Array.from(vector).forEach((el,i)=>cb(this,el,i,vector.length)),this}*[Symbol.iterator](){for(let i=0;i<this.bytePosition;i++)yield this.dataView.getUint8(i);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(encoding){return encodeStr(this.toBytes(),encoding)}},_BCS=class{constructor(schema){if(this.types=new Map,schema instanceof _BCS){this.schema=schema.schema,this.types=new Map(schema.types);return}if(this.schema=schema,this.registerAddressType(_BCS.ADDRESS,schema.addressLength,schema.addressEncoding),this.registerVectorType(schema.vectorType),schema.types&&schema.types.structs)for(let name of Object.keys(schema.types.structs))this.registerStructType(name,schema.types.structs[name]);if(schema.types&&schema.types.enums)for(let name1 of Object.keys(schema.types.enums))this.registerEnumType(name1,schema.types.enums[name1]);!1!==schema.withPrimitives&&(this.registerType(BCS.U8,(writer,data)=>writer.write8(data),reader=>reader.read8(),u8=>u8<256),this.registerType(BCS.U16,(writer,data)=>writer.write16(data),reader=>reader.read16(),u16=>u16<65536),this.registerType(BCS.U32,(writer,data)=>writer.write32(data),reader=>reader.read32(),u32=>u32<=4294967296),this.registerType(BCS.U64,(writer,data)=>writer.write64(data),reader=>reader.read64(),_u64=>!0),this.registerType(BCS.U128,(writer,data)=>writer.write128(data),reader=>reader.read128(),_u128=>!0),this.registerType(BCS.U256,(writer,data)=>writer.write256(data),reader=>reader.read256(),_u256=>!0),this.registerType(BCS.BOOL,(writer,data)=>writer.write8(data),reader=>"1"===reader.read8().toString(10),_bool=>!0),this.registerType(BCS.STRING,(writer,data)=>writer.writeVec(Array.from(data),(writer2,el)=>writer2.write8(el.charCodeAt(0))),reader=>reader.readVec(reader2=>reader2.read8()).map(el=>String.fromCharCode(el)).join(""),_str=>!0))}ser(type,data,size=1024){let{typeName,typeParams}=this.parseTypeName(type);return this.getTypeInterface(typeName).encode(data,size,typeParams)}de(type,data,encoding){if("string"==typeof data){if(encoding)data=decodeStr(data,encoding);else throw Error("To pass a string to `bcs.de`, specify encoding")}let{typeName,typeParams}=this.parseTypeName(type);return this.getTypeInterface(typeName).decode(data,typeParams)}hasType(type){return this.types.has(type)}registerType(name,encodeCb,decodeCb,validateCb=()=>!0){return this.types.set(name,{encode(data,size=1024,typeParams){return this._encodeRaw(new BcsWriter(size),data,typeParams)},decode(data,typeParams){return this._decodeRaw(new BcsReader(data),typeParams)},_encodeRaw(writer,data,typeParams){if(validateCb(data))return encodeCb(writer,data,typeParams);throw Error(`Validation failed for type ${name}, data: ${data}`)},_decodeRaw:(reader,typeParams)=>decodeCb(reader,typeParams)}),this}registerAddressType(name,length,encoding="hex"){switch(encoding){case"base64":return this.registerType(name,(writer,data)=>fromB64(data).reduce((writer2,el)=>writer2.write8(el),writer),reader=>toB64(reader.readBytes(length)));case"hex":return this.registerType(name,(writer,data)=>fromHEX(data).reduce((writer2,el)=>writer2.write8(el),writer),reader=>toHEX(reader.readBytes(length)));default:throw Error("Unsupported encoding! Use either hex or base64")}}registerVectorType(name,elementType){let{typeName,typeParams}=this.parseTypeName(name);if(typeParams.length>1)throw Error("Vector can have only one type parameter; got "+name);return this.registerType(typeName,(writer,data,typeParams2)=>writer.writeVec(data,(writer2,el)=>{let vectorType=elementType||typeParams2[0];if(vectorType){let{typeName:typeName2,typeParams:typeParams3}=this.parseTypeName(vectorType);return this.getTypeInterface(elementType||typeName2)._encodeRaw(writer2,el,typeParams3)}throw Error(`Incorrect number of type parameters passed to vector '${typeName}'`)}),(reader,typeParams2)=>reader.readVec(reader2=>{let vectorType=elementType||typeParams2[0];if(vectorType){let{typeName:typeName2,typeParams:typeParams3}=this.parseTypeName(vectorType);return this.getTypeInterface(elementType||typeName2)._decodeRaw(reader2,typeParams3)}throw Error(`Incorrect number of type parameters passed to vector '${typeName}'`)}))}registerStructType(name,fields){let struct=Object.freeze(fields),canonicalOrder=Object.keys(struct),{typeName,typeParams:structTypeParams}=this.parseTypeName(name);return this.registerType(typeName,(writer,data,typeParams)=>{if(!data||data.constructor!==Object)throw Error(`Expected ${name} to be an Object, got: ${data}`);for(let key of canonicalOrder)if(key in data){let paramIndex=structTypeParams.indexOf(struct[key]),typeOrParam=-1===paramIndex?struct[key]:typeParams[paramIndex];{let{typeName:typeName2,typeParams:typeParams2}=this.parseTypeName(typeOrParam);this.getTypeInterface(typeName2)._encodeRaw(writer,data[key],typeParams2)}}else throw Error(`Struct ${name} requires field ${key}:${struct[key]}`);return writer},(reader,typeParams)=>{let result={};for(let key of canonicalOrder){let paramIndex=structTypeParams.indexOf(struct[key]),typeOrParam=-1===paramIndex?struct[key]:typeParams[paramIndex];{let{typeName:typeName2,typeParams:typeParams2}=this.parseTypeName(typeOrParam);result[key]=this.getTypeInterface(typeName2)._decodeRaw(reader,typeParams2)}}return result})}registerEnumType(name,variants){let struct=Object.freeze(variants),canonicalOrder=Object.keys(struct),{typeName,typeParams:canonicalTypeParams}=this.parseTypeName(name);return this.registerType(typeName,(writer,data,typeParams)=>{if(void 0===data)throw Error(`Unable to write enum ${name}, missing data`);let key=Object.keys(data)[0];if(void 0===key)throw Error(`Unknown invariant of the enum ${name}`);let orderByte=canonicalOrder.indexOf(key);if(-1===orderByte)throw Error(`Unknown invariant of the enum ${name}, allowed values: ${canonicalOrder}`);let invariantType=struct[canonicalOrder[orderByte]];if(writer.write8(orderByte),null===invariantType)return writer;let paramIndex=canonicalTypeParams.indexOf(invariantType),typeOrParam=-1===paramIndex?invariantType:typeParams[paramIndex];{let{typeName:typeName2,typeParams:typeParams2}=this.parseTypeName(typeOrParam);return this.getTypeInterface(typeName2)._encodeRaw(writer,data[key],typeParams2)}},(reader,typeParams)=>{let orderByte=reader.readULEB(),invariant=canonicalOrder[orderByte],invariantType=struct[invariant];if(-1===orderByte)throw Error(`Decoding type mismatch, expected enum ${name} invariant index, received ${orderByte}`);if(null===invariantType)return{[invariant]:!0};let paramIndex=canonicalTypeParams.indexOf(invariantType),typeOrParam=-1===paramIndex?invariantType:typeParams[paramIndex];{let{typeName:typeName2,typeParams:typeParams2}=this.parseTypeName(typeOrParam);return{[invariant]:this.getTypeInterface(typeName2)._decodeRaw(reader,typeParams2)}}})}getTypeInterface(type){let typeInterface=this.types.get(type);if(void 0===typeInterface)throw Error(`Type ${type} is not registered`);return typeInterface}parseTypeName(name){let[left,right]=this.schema.genericSeparators||["<",">"],l_bound=name.indexOf(left),r_bound=Array.from(name).reverse().indexOf(right);if(-1===l_bound&&-1===r_bound)return{typeName:name,typeParams:[]};if(-1===l_bound||-1===r_bound)throw Error(`Unclosed generic in name '${name}'`);let typeName=name.slice(0,l_bound),typeParams=name.slice(l_bound+1,name.length-r_bound-1).split(",").map(e=>e.trim());return{typeName,typeParams}}},BCS=_BCS;function encodeStr(data,encoding){switch(encoding){case"base64":return toB64(data);case"hex":return toHEX(data);default:throw Error("Unsupported encoding, supported values are: base64, hex")}}function decodeStr(data,encoding){switch(encoding){case"base64":return fromB64(data);case"hex":return fromHEX(data);default:throw Error("Unsupported encoding, supported values are: base64, hex")}}BCS.U8="u8",BCS.U16="u16",BCS.U32="u32",BCS.U64="u64",BCS.U128="u128",BCS.U256="u256",BCS.BOOL="bool",BCS.VECTOR="vector",BCS.ADDRESS="address",BCS.STRING="string";var index_browser=__webpack_require__(3301),Buffer=__webpack_require__(1524).lW,Base64DataBuffer=class{constructor(data){"string"==typeof data?this.data=new Uint8Array(Buffer2.from(data,"base64")):this.data=data}getData(){return this.data}getLength(){return this.data.length}toString(){return Buffer2.from(this.data).toString("base64")}},SIGNATURE_SCHEME_TO_FLAG={ED25519:0,Secp256k1:1};function checkPublicKeyData(value){return void 0!==value._bn}var Ed25519PublicKey=class{constructor(value){if(checkPublicKeyData(value))this._bn=value._bn;else{if("string"==typeof value){let buffer=Buffer3.from(value,"base64");if(32!==buffer.length)throw Error(`Invalid public key input. Expected 32 bytes, got ${buffer.length}`);this._bn=new BN(buffer)}else this._bn=new BN(value);let length=this._bn.byteLength();if(32!=length)throw Error(`Invalid public key input. Expected 32 bytes, got ${length}`)}}equals(publicKey){return this._bn.eq(publicKey._bn)}toBase64(){return this.toBuffer().toString("base64")}toBytes(){return this.toBuffer()}toBuffer(){let b=this._bn.toArrayLike(Buffer3);if(32===b.length)return b;let zeroPad=Buffer3.alloc(32);return b.copy(zeroPad,32-b.length),zeroPad}toString(){return this.toBase64()}toSuiAddress(){let tmp=new Uint8Array(33);return tmp.set([SIGNATURE_SCHEME_TO_FLAG.ED25519]),tmp.set(this.toBytes(),1),sha3.sha3_256(tmp).slice(0,40)}};function mnemonicToSeed(mnemonics){return bip39MnemonicToSeedSync(mnemonics,"")}var replaceDerive=val=>val.replace("'",""),getMasterKeyFromSeed=seed=>{let h=hmac.create(sha512,"ed25519 seed"),I=h.update(Buffer.from(seed,"hex")).digest(),IL=I.slice(0,32),IR=I.slice(32);return{key:IL,chainCode:IR}},CKDPriv=({key,chainCode},index)=>{let indexBuffer=Buffer.allocUnsafe(4);indexBuffer.writeUInt32BE(index,0);let data=Buffer.concat([Buffer.alloc(1,0),key,indexBuffer]),I=hmac.create(sha512,chainCode).update(data).digest(),IL=I.slice(0,32),IR=I.slice(32);return{key:IL,chainCode:IR}},dist_getPublicKey=(privateKey,withZeroByte=!0)=>{let keyPair=nacl.sign.keyPair.fromSeed(privateKey),signPk=keyPair.secretKey.subarray(32),newArr=new Uint8Array(signPk.length+1);return newArr.set([0]),newArr.set(signPk,1),withZeroByte?newArr:signPk},isValidPath=path=>!!null.test(path)&&!path.split("/").slice(1).map(replaceDerive).some(isNaN),derivePath=(path,seed,offset=2147483648)=>{if(!isValidPath(path))throw Error("Invalid derivation path");let{key,chainCode}=getMasterKeyFromSeed(seed),segments=path.split("/").slice(1).map(replaceDerive).map(el=>parseInt(el,10));return segments.reduce((parentKeys,segment)=>CKDPriv(parentKeys,segment+offset),{key,chainCode})},Ed25519Keypair=class{constructor(keypair){keypair?this.keypair=keypair:this.keypair=nacl2.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new Ed25519Keypair(nacl2.sign.keyPair())}static fromSecretKey(secretKey,options){let secretKeyLength=secretKey.length;if(64!=secretKeyLength){if(32==secretKeyLength)throw Error("Wrong secretKey size. Expected 64 bytes, got 32. Similar function exists: fromSeed(seed: Uint8Array)");throw Error(`Wrong secretKey size. Expected 64 bytes, got ${secretKeyLength}.`)}let keypair=nacl2.sign.keyPair.fromSecretKey(secretKey);if(!options||!options.skipValidation){let encoder=new TextEncoder,signData=encoder.encode("sui validation"),signature=nacl2.sign.detached(signData,keypair.secretKey);if(!nacl2.sign.detached.verify(signData,signature,keypair.publicKey))throw Error("provided secretKey is invalid")}return new Ed25519Keypair(keypair)}static fromSeed(seed){let seedLength=seed.length;if(32!=seedLength)throw Error(`Wrong seed size. Expected 32 bytes, got ${seedLength}.`);return new Ed25519Keypair(nacl2.sign.keyPair.fromSeed(seed))}getPublicKey(){return new Ed25519PublicKey(this.keypair.publicKey)}signData(data){return new Base64DataBuffer(nacl2.sign.detached(data.getData(),this.keypair.secretKey))}static deriveKeypair(mnemonics,path){var path1;if(null==path&&(path="m/44'/784'/0'/0'/0'"),path1=path,!RegExp("^m\\/44'\\/784'\\/0'\\/[0-9]+'\\/[0-9]+'+$").test(path1))throw Error("Invalid derivation path");let{key}=derivePath(path,Buffer.from(mnemonicToSeed(mnemonics)).toString("hex")),pubkey=dist_getPublicKey(key,!1),fullPrivateKey=new Uint8Array(64);return fullPrivateKey.set(key),fullPrivateKey.set(pubkey,32),new Ed25519Keypair({publicKey:pubkey,secretKey:fullPrivateKey})}},Secp256k1PublicKey=class{constructor(value){if(checkPublicKeyData(value))this._bn=value._bn;else{if("string"==typeof value){let buffer=Buffer4.from(value,"base64");if(33!==buffer.length)throw Error(`Invalid public key input. Expected 33 bytes, got ${buffer.length}`);this._bn=new BN2(buffer)}else this._bn=new BN2(value);let length=this._bn.byteLength();if(33!=length)throw Error(`Invalid public key input. Expected 33 bytes, got ${length}`)}}equals(publicKey){return this._bn.eq(publicKey._bn)}toBase64(){return this.toBuffer().toString("base64")}toBytes(){return this.toBuffer()}toBuffer(){let b=this._bn.toArrayLike(Buffer4);if(33===b.length)return b;let zeroPad=Buffer4.alloc(33);return b.copy(zeroPad,33-b.length),zeroPad}toString(){return this.toBase64()}toSuiAddress(){let tmp=new Uint8Array(34);return tmp.set([SIGNATURE_SCHEME_TO_FLAG.Secp256k1]),tmp.set(this.toBytes(),1),sha32.sha3_256(tmp).slice(0,40)}};utils.hmacSha256Sync=(key,...msgs)=>{let h=hmac_hmac.create(sha256_sha256,key);return msgs.forEach(msg=>h.update(msg)),h.digest()};var Secp256k1Keypair=class{constructor(keypair){if(keypair)this.keypair=keypair;else{let secretKey=secp.utils.randomPrivateKey(),publicKey=secp.getPublicKey(secretKey,!0);this.keypair={publicKey,secretKey}}}getKeyScheme(){return"Secp256k1"}static generate(){let secretKey=secp.utils.randomPrivateKey(),publicKey=secp.getPublicKey(secretKey,!0);return new Secp256k1Keypair({publicKey,secretKey})}static fromSecretKey(secretKey,options){let publicKey=secp.getPublicKey(secretKey,!0);if(!options||!options.skipValidation){let encoder=new TextEncoder,signData=encoder.encode("sui validation"),msgHash=sha256(signData),signature=secp.signSync(msgHash,secretKey);if(!secp.verify(signature,msgHash,publicKey,{strict:!0}))throw Error("Provided secretKey is invalid")}return new Secp256k1Keypair({publicKey,secretKey})}static fromSeed(seed){let publicKey=secp.getPublicKey(seed,!0);return new Secp256k1Keypair({publicKey,secretKey:seed})}getPublicKey(){return new Secp256k1PublicKey(this.keypair.publicKey)}signData(data){let msgHash=sha256(data.getData()),[sig,rec_id]=secp.signSync(msgHash,this.keypair.secretKey,{canonical:!0,recovered:!0});var recoverable_sig=new Uint8Array(65);return recoverable_sig.set(Signature.fromDER(sig).toCompactRawBytes()),recoverable_sig.set([rec_id],64),new Base64DataBuffer(recoverable_sig)}static deriveKeypair(path,mnemonics){if(!RegExp("^m\\/54'\\/784'\\/[0-9]+'\\/[0-9]+\\/[0-9]+$").test(path))throw Error("Invalid derivation path");let key=HDKey.fromMasterSeed(mnemonicToSeed(mnemonics)).derive(path);if(null==key.publicKey||null==key.privateKey)throw Error("Invalid key");return new Secp256k1Keypair({publicKey:key.publicKey,secretKey:key.privateKey})}},Provider=class{};function isValidResponse(obj,_argumentName){return(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&"2.0"===obj.jsonrpc&&"string"==typeof obj.id}var TYPE_MISMATCH_ERROR="The response returned from RPC server does not match the TypeScript definition. This is likely because the SDK version is not compatible with the RPC server. Please update your SDK version to the latest. ",JsonRpcClient=class{constructor(url,httpHeaders){this.rpcClient=this.createRpcClient(url,httpHeaders)}createRpcClient(url,httpHeaders){let client=new browser(async(request,callback)=>{let options={method:"POST",body:request,headers:Object.assign({"Content-Type":"application/json"},httpHeaders||{})};try{let result,res=await browser_ponyfill(url,options),text=await res.text();try{result=JSON.stringify(lossless_json.parse(text,(key,value)=>{if(null==value)return value;if("balance"===key&&"number"==typeof value)return value.toString();try{if(value.isLosslessNumber)return value.valueOf()}catch{return value.toString()}return value}))}catch(e){result=text}res.ok?callback(null,result):callback(Error(`${res.status} ${res.statusText}: ${text}`))}catch(err){err instanceof Error&&callback(err)}},{});return client}async requestWithType(method,args,isT,skipDataValidation=!1){let response=await this.request(method,args);if((null!==response&&"object"==typeof response||"function"==typeof response)&&"2.0"===response.jsonrpc&&"string"==typeof response.id&&(null!==response.error&&"object"==typeof response.error||"function"==typeof response.error)&&"string"==typeof response.error.message)throw Error(`RPC Error: ${response.error.message}`);if(isValidResponse(response)){let expectedSchema=isT(response.result),errMsg=TYPE_MISMATCH_ERROR+`Result received was: ${JSON.stringify(response.result)}`;if(skipDataValidation&&!expectedSchema)console.warn(errMsg);else if(!expectedSchema)throw Error(`RPC Error: ${errMsg}`);return response.result}throw Error(`Unexpected RPC Response: ${response}`)}async request(method,args){return new Promise((resolve,reject)=>{this.rpcClient.request(method,args,(err,response)=>{if(err){reject(err);return}resolve(response)})})}async batchRequestWithType(requests,isT,skipDataValidation=!1){let responses=await this.batchRequest(requests),validResponses=responses.filter(response=>isValidResponse(response)&&(skipDataValidation||isT(response.result)));if(responses.length>validResponses.length){console.warn(`Batch request contains invalid responses. ${responses.length-validResponses.length} of the ${responses.length} requests has invalid schema.`);let exampleTypeMismatch=responses.find(r=>!isT(r.result)),exampleInvalidResponseIndex=responses.findIndex(r=>!isValidResponse(r));exampleTypeMismatch&&console.warn(TYPE_MISMATCH_ERROR+`One example mismatch is: ${JSON.stringify(exampleTypeMismatch.result)}`),-1!==exampleInvalidResponseIndex&&console.warn(`The request ${JSON.stringify(requests[exampleInvalidResponseIndex])} within a batch request returns an invalid response ${JSON.stringify(responses[exampleInvalidResponseIndex])}`)}return validResponses.map(response=>response.result)}async batchRequest(requests){return new Promise((resolve,reject)=>{0===requests.length&&resolve([]);let batch=requests.map(params=>this.rpcClient.request(params.method,params.args));this.rpcClient.request(batch,(err,response)=>{if(err){reject(err);return}resolve(response)})})}};function isTransactionDigest(obj,_argumentName){return"string"==typeof obj}function isObjectOwner(obj,_argumentName){return(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&isTransactionDigest(obj.AddressOwner)||(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&isTransactionDigest(obj.ObjectOwner)||(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&isTransactionDigest(obj.SingleOwner)||(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&(null!==obj.Shared&&"object"==typeof obj.Shared||"function"==typeof obj.Shared)&&isSuiMoveTypeParameterIndex(obj.Shared.initial_shared_version)||"Shared"===obj||"Immutable"===obj}function isSuiObjectRef(obj,_argumentName){return(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&isTransactionDigest(obj.digest)&&isTransactionDigest(obj.objectId)&&isSuiMoveTypeParameterIndex(obj.version)}function isSuiMoveObject(obj,_argumentName){var obj1;return(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&isTransactionDigest(obj.type)&&(null!==(obj1=obj.fields)&&"object"==typeof obj1||"function"==typeof obj1)&&Object.entries(obj1).every(([key,_value])=>isTransactionDigest(key))&&(void 0===obj.has_public_transfer||!1===obj.has_public_transfer||!0===obj.has_public_transfer)}function isSuiMovePackage(obj,_argumentName){var obj1;return(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&(null!==(obj1=obj.disassembled)&&"object"==typeof obj1||"function"==typeof obj1)&&Object.entries(obj1).every(([key,value])=>isTransactionDigest(value)&&isTransactionDigest(key))}function isSuiMoveFunctionArgTypes(obj,_argumentName){return Array.isArray(obj)&&obj.every(e=>isTransactionDigest(e)||(null!==e&&"object"==typeof e||"function"==typeof e)&&isTransactionDigest(e.Object))}function isSuiMoveNormalizedModules(obj,_argumentName){return(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&Object.entries(obj).every(([key,value])=>isSuiMoveNormalizedModule(value)&&isTransactionDigest(key))}function isSuiMoveNormalizedModule(obj,_argumentName){return(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&isSuiMoveTypeParameterIndex(obj.file_format_version)&&isTransactionDigest(obj.address)&&isTransactionDigest(obj.name)&&Array.isArray(obj.friends)&&obj.friends.every(e=>(null!==e&&"object"==typeof e||"function"==typeof e)&&isTransactionDigest(e.address)&&isTransactionDigest(e.name))&&(null!==obj.structs&&"object"==typeof obj.structs||"function"==typeof obj.structs)&&Object.entries(obj.structs).every(([key,value])=>isSuiMoveNormalizedStruct(value)&&isTransactionDigest(key))&&(null!==obj.exposed_functions&&"object"==typeof obj.exposed_functions||"function"==typeof obj.exposed_functions)&&Object.entries(obj.exposed_functions).every(([key,value])=>isSuiMoveNormalizedFunction(value)&&isTransactionDigest(key))}function isSuiMoveNormalizedStruct(obj,_argumentName){return(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&isSuiMoveAbilitySet(obj.abilities)&&Array.isArray(obj.type_parameters)&&obj.type_parameters.every(e=>(null!==e&&"object"==typeof e||"function"==typeof e)&&isSuiMoveAbilitySet(e.constraints)&&"boolean"==typeof e.is_phantom)&&Array.isArray(obj.fields)&&obj.fields.every(e=>(null!==e&&"object"==typeof e||"function"==typeof e)&&isTransactionDigest(e.name)&&isSuiMoveNormalizedType(e.type_))}function isSuiMoveNormalizedFunction(obj,_argumentName){var obj1;return(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&("Private"===(obj1=obj.visibility)||"Public"===obj1||"Friend"===obj1)&&"boolean"==typeof obj.is_entry&&Array.isArray(obj.type_parameters)&&obj.type_parameters.every(e=>isSuiMoveAbilitySet(e))&&Array.isArray(obj.parameters)&&obj.parameters.every(e=>isSuiMoveNormalizedType(e))&&Array.isArray(obj.return_)&&obj.return_.every(e=>isSuiMoveNormalizedType(e))}function isSuiMoveTypeParameterIndex(obj,_argumentName){return"number"==typeof obj}function isSuiMoveAbilitySet(obj,_argumentName){return(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&Array.isArray(obj.abilities)&&obj.abilities.every(e=>isTransactionDigest(e))}function isSuiMoveNormalizedType(obj,_argumentName){return isTransactionDigest(obj)||(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&isSuiMoveTypeParameterIndex(obj.TypeParameter)||(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&isSuiMoveNormalizedType(obj.Reference)||(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&isSuiMoveNormalizedType(obj.MutableReference)||(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&isSuiMoveNormalizedType(obj.Vector)||(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&(null!==obj.Struct&&"object"==typeof obj.Struct||"function"==typeof obj.Struct)&&isTransactionDigest(obj.Struct.address)&&isTransactionDigest(obj.Struct.module)&&isTransactionDigest(obj.Struct.name)&&Array.isArray(obj.Struct.type_arguments)&&obj.Struct.type_arguments.every(e=>isSuiMoveNormalizedType(e))}function isSuiObject(obj,_argumentName){var obj1;return(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&((null!==(obj1=obj.data)&&"object"==typeof obj1||"function"==typeof obj1)&&isObjectType(obj1.dataType)&&isSuiMoveObject(obj1)||(null!==obj1&&"object"==typeof obj1||"function"==typeof obj1)&&isObjectType(obj1.dataType)&&isSuiMovePackage(obj1))&&isObjectOwner(obj.owner)&&isTransactionDigest(obj.previousTransaction)&&isSuiMoveTypeParameterIndex(obj.storageRebate)&&isSuiObjectRef(obj.reference)}function isObjectType(obj,_argumentName){return"moveObject"===obj||"package"===obj}function isGetOwnedObjectsResponse(obj,_argumentName){return Array.isArray(obj)&&obj.every(e=>isSuiObjectRef(e)&&(null!==e&&"object"==typeof e||"function"==typeof e)&&isTransactionDigest(e.type)&&isObjectOwner(e.owner)&&isTransactionDigest(e.previousTransaction))}function isGetObjectDataResponse(obj,_argumentName){var obj1;return(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&("Exists"===(obj1=obj.status)||"NotExists"===obj1||"Deleted"===obj1)&&(isTransactionDigest(obj.details)||isSuiObjectRef(obj.details)||isSuiObject(obj.details))}function isSuiEventEnvelope(obj,_argumentName){var obj1,obj2,obj3,obj4,obj5,obj6,obj7,obj8,obj9;return(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&isSuiMoveTypeParameterIndex(obj.timestamp)&&isTransactionDigest(obj.txDigest)&&((null!==(obj1=obj.event)&&"object"==typeof obj1||"function"==typeof obj1)&&(null!==(obj2=obj1.moveEvent)&&"object"==typeof obj2||"function"==typeof obj2)&&isTransactionDigest(obj2.packageId)&&isTransactionDigest(obj2.transactionModule)&&isTransactionDigest(obj2.sender)&&isTransactionDigest(obj2.type)&&(void 0===obj2.fields||null!==obj2.fields&&"object"==typeof obj2.fields||"function"==typeof obj2.fields)&&isTransactionDigest(obj2.bcs)||(null!==obj1&&"object"==typeof obj1||"function"==typeof obj1)&&(null!==(obj3=obj1.publish)&&"object"==typeof obj3||"function"==typeof obj3)&&isTransactionDigest(obj3.sender)&&isTransactionDigest(obj3.packageId)||(null!==obj1&&"object"==typeof obj1||"function"==typeof obj1)&&(null!==(obj4=obj1.coinBalanceChange)&&"object"==typeof obj4||"function"==typeof obj4)&&isTransactionDigest(obj4.packageId)&&isTransactionDigest(obj4.transactionModule)&&isTransactionDigest(obj4.sender)&&isObjectOwner(obj4.owner)&&("Gas"===(obj9=obj4.changeType)||"Pay"===obj9||"Receive"===obj9)&&isTransactionDigest(obj4.coinType)&&isTransactionDigest(obj4.coinObjectId)&&isSuiMoveTypeParameterIndex(obj4.version)&&isSuiMoveTypeParameterIndex(obj4.amount)||(null!==obj1&&"object"==typeof obj1||"function"==typeof obj1)&&(null!==(obj5=obj1.transferObject)&&"object"==typeof obj5||"function"==typeof obj5)&&isTransactionDigest(obj5.packageId)&&isTransactionDigest(obj5.transactionModule)&&isTransactionDigest(obj5.sender)&&isObjectOwner(obj5.recipient)&&isTransactionDigest(obj5.objectType)&&isTransactionDigest(obj5.objectId)&&isSuiMoveTypeParameterIndex(obj5.version)||(null!==obj1&&"object"==typeof obj1||"function"==typeof obj1)&&(null!==(obj6=obj1.mutateObject)&&"object"==typeof obj6||"function"==typeof obj6)&&isTransactionDigest(obj6.packageId)&&isTransactionDigest(obj6.transactionModule)&&isTransactionDigest(obj6.sender)&&isTransactionDigest(obj6.objectType)&&isTransactionDigest(obj6.objectId)&&isSuiMoveTypeParameterIndex(obj6.version)||(null!==obj1&&"object"==typeof obj1||"function"==typeof obj1)&&(null!==(obj7=obj1.deleteObject)&&"object"==typeof obj7||"function"==typeof obj7)&&isTransactionDigest(obj7.packageId)&&isTransactionDigest(obj7.transactionModule)&&isTransactionDigest(obj7.sender)&&isTransactionDigest(obj7.objectId)&&isSuiMoveTypeParameterIndex(obj7.version)||(null!==obj1&&"object"==typeof obj1||"function"==typeof obj1)&&(null!==(obj8=obj1.newObject)&&"object"==typeof obj8||"function"==typeof obj8)&&isTransactionDigest(obj8.packageId)&&isTransactionDigest(obj8.transactionModule)&&isTransactionDigest(obj8.sender)&&isObjectOwner(obj8.recipient)&&isTransactionDigest(obj8.objectType)&&isTransactionDigest(obj8.objectId)&&isSuiMoveTypeParameterIndex(obj8.version)||(null!==obj1&&"object"==typeof obj1||"function"==typeof obj1)&&"bigint"==typeof obj1.epochChange||(null!==obj1&&"object"==typeof obj1||"function"==typeof obj1)&&"bigint"==typeof obj1.checkpoint)}function isSuiEvents(obj,_argumentName){return Array.isArray(obj)&&obj.every(e=>isSuiEventEnvelope(e))}function isCertifiedTransaction(obj,_argumentName){var obj1,obj2,obj3;return(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&isTransactionDigest(obj.transactionDigest)&&(null!==(obj1=obj.data)&&"object"==typeof obj1||"function"==typeof obj1)&&Array.isArray(obj1.transactions)&&obj1.transactions.every(e=>{var obj,obj1,obj2,obj3,obj4,obj5,obj6;return(null!==e&&"object"==typeof e||"function"==typeof e)&&(null!==(obj=e.TransferObject)&&"object"==typeof obj||"function"==typeof obj)&&isTransactionDigest(obj.recipient)&&isSuiObjectRef(obj.objectRef)||(null!==e&&"object"==typeof e||"function"==typeof e)&&isSuiMovePackage(e.Publish)||(null!==e&&"object"==typeof e||"function"==typeof e)&&(null!==(obj6=e.Call)&&"object"==typeof obj6||"function"==typeof obj6)&&isSuiObjectRef(obj6.package)&&isTransactionDigest(obj6.module)&&isTransactionDigest(obj6.function)&&(void 0===obj6.typeArguments||Array.isArray(obj6.typeArguments)&&obj6.typeArguments.every(e=>isTransactionDigest(e)))&&(void 0===obj6.arguments||Array.isArray(obj6.arguments)&&obj6.arguments.every(e=>(function isSuiJsonValue(obj,_argumentName){return isTransactionDigest(obj)||isSuiMoveTypeParameterIndex(obj)||!1===obj||!0===obj||Array.isArray(obj)&&obj.every(e=>isSuiJsonValue(e))})(e)))||(null!==e&&"object"==typeof e||"function"==typeof e)&&(null!==(obj1=e.TransferSui)&&"object"==typeof obj1||"function"==typeof obj1)&&isTransactionDigest(obj1.recipient)&&(null===obj1.amount||isSuiMoveTypeParameterIndex(obj1.amount))||(null!==e&&"object"==typeof e||"function"==typeof e)&&(null!==(obj2=e.ChangeEpoch)&&"object"==typeof obj2||"function"==typeof obj2)&&isSuiMoveTypeParameterIndex(obj2.epoch)&&isSuiMoveTypeParameterIndex(obj2.storage_charge)&&isSuiMoveTypeParameterIndex(obj2.computation_charge)||(null!==e&&"object"==typeof e||"function"==typeof e)&&(null!==(obj3=e.Pay)&&"object"==typeof obj3||"function"==typeof obj3)&&Array.isArray(obj3.coins)&&obj3.coins.every(e=>isSuiObjectRef(e))&&Array.isArray(obj3.recipients)&&obj3.recipients.every(e=>isTransactionDigest(e))&&Array.isArray(obj3.amounts)&&obj3.amounts.every(e=>isSuiMoveTypeParameterIndex(e))||(null!==e&&"object"==typeof e||"function"==typeof e)&&(null!==(obj4=e.PaySui)&&"object"==typeof obj4||"function"==typeof obj4)&&Array.isArray(obj4.coins)&&obj4.coins.every(e=>isSuiObjectRef(e))&&Array.isArray(obj4.recipients)&&obj4.recipients.every(e=>isTransactionDigest(e))&&Array.isArray(obj4.amounts)&&obj4.amounts.every(e=>isSuiMoveTypeParameterIndex(e))||(null!==e&&"object"==typeof e||"function"==typeof e)&&(null!==(obj5=e.PayAllSui)&&"object"==typeof obj5||"function"==typeof obj5)&&Array.isArray(obj5.coins)&&obj5.coins.every(e=>isSuiObjectRef(e))&&isTransactionDigest(obj5.recipient)})&&isTransactionDigest(obj1.sender)&&isSuiObjectRef(obj1.gasPayment)&&isSuiMoveTypeParameterIndex(obj1.gasBudget)&&isTransactionDigest(obj.txSignature)&&(null!==(obj2=obj.authSignInfo)&&"object"==typeof obj2||"function"==typeof obj2)&&isSuiMoveTypeParameterIndex(obj2.epoch)&&(isTransactionDigest(obj3=obj2.signature)||Array.isArray(obj3)&&obj3.every(e=>isTransactionDigest(e)))}function isOwnedObjectRef(obj,_argumentName){return(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&isObjectOwner(obj.owner)&&isSuiObjectRef(obj.reference)}function isTransactionEffects(obj,_argumentName){var obj1,obj2,obj3;return(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&(null!==(obj1=obj.status)&&"object"==typeof obj1||"function"==typeof obj1)&&("success"===(obj2=obj1.status)||"failure"===obj2)&&(void 0===obj1.error||isTransactionDigest(obj1.error))&&(null!==(obj3=obj.gasUsed)&&"object"==typeof obj3||"function"==typeof obj3)&&isSuiMoveTypeParameterIndex(obj3.computationCost)&&isSuiMoveTypeParameterIndex(obj3.storageCost)&&isSuiMoveTypeParameterIndex(obj3.storageRebate)&&(void 0===obj.sharedObjects||Array.isArray(obj.sharedObjects)&&obj.sharedObjects.every(e=>isSuiObjectRef(e)))&&isTransactionDigest(obj.transactionDigest)&&(void 0===obj.created||Array.isArray(obj.created)&&obj.created.every(e=>isOwnedObjectRef(e)))&&(void 0===obj.mutated||Array.isArray(obj.mutated)&&obj.mutated.every(e=>isOwnedObjectRef(e)))&&(void 0===obj.unwrapped||Array.isArray(obj.unwrapped)&&obj.unwrapped.every(e=>isOwnedObjectRef(e)))&&(void 0===obj.deleted||Array.isArray(obj.deleted)&&obj.deleted.every(e=>isSuiObjectRef(e)))&&(void 0===obj.wrapped||Array.isArray(obj.wrapped)&&obj.wrapped.every(e=>isSuiObjectRef(e)))&&isOwnedObjectRef(obj.gasObject)&&(void 0===obj.events||Array.isArray(obj.events))&&(void 0===obj.dependencies||Array.isArray(obj.dependencies)&&obj.dependencies.every(e=>isTransactionDigest(e)))}function isSuiTransactionResponse(obj,_argumentName){var obj1,obj2,obj3,obj4;return(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&isCertifiedTransaction(obj.certificate)&&isTransactionEffects(obj.effects)&&(null===obj.timestamp_ms||isSuiMoveTypeParameterIndex(obj.timestamp_ms))&&(null===obj.parsed_data||(null!==obj.parsed_data&&"object"==typeof obj.parsed_data||"function"==typeof obj.parsed_data)&&(null!==(obj1=obj.parsed_data.SplitCoin)&&"object"==typeof obj1||"function"==typeof obj1)&&isSuiObject(obj1.updatedCoin)&&Array.isArray(obj1.newCoins)&&obj1.newCoins.every(e=>isSuiObject(e))&&isSuiObject(obj1.updatedGas)||(null!==obj.parsed_data&&"object"==typeof obj.parsed_data||"function"==typeof obj.parsed_data)&&(null!==(obj2=obj.parsed_data.MergeCoin)&&"object"==typeof obj2||"function"==typeof obj2)&&isSuiObject(obj2.updatedCoin)&&isSuiObject(obj2.updatedGas)||(null!==obj.parsed_data&&"object"==typeof obj.parsed_data||"function"==typeof obj.parsed_data)&&(null!==(obj3=obj.parsed_data.Publish)&&"object"==typeof obj3||"function"==typeof obj3)&&Array.isArray(obj3.createdObjects)&&obj3.createdObjects.every(e=>isSuiObject(e))&&(null!==(obj4=obj3.package)&&"object"==typeof obj4||"function"==typeof obj4)&&isTransactionDigest(obj4.digest)&&isTransactionDigest(obj4.objectId)&&isSuiMoveTypeParameterIndex(obj4.version)&&isSuiObject(obj3.updatedGas))}function isSuiExecuteTransactionResponse(obj,_argumentName){var obj1;return(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&(null!==obj.ImmediateReturn&&"object"==typeof obj.ImmediateReturn||"function"==typeof obj.ImmediateReturn)&&isTransactionDigest(obj.ImmediateReturn.tx_digest)||(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&(null!==obj.TxCert&&"object"==typeof obj.TxCert||"function"==typeof obj.TxCert)&&isCertifiedTransaction(obj.TxCert.certificate)||(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&(null!==obj.EffectsCert&&"object"==typeof obj.EffectsCert||"function"==typeof obj.EffectsCert)&&isCertifiedTransaction(obj.EffectsCert.certificate)&&(null!==(obj1=obj.EffectsCert.effects)&&"object"==typeof obj1||"function"==typeof obj1)&&isTransactionEffects(obj1.effects)}function isGetTxnDigestsResponse(obj,_argumentName){return Array.isArray(obj)&&obj.every(e=>isTransactionDigest(e))}function isPaginatedTransactionDigests(obj,_argumentName){return(null!==obj&&"object"==typeof obj||"function"==typeof obj)&&Array.isArray(obj.data)&&obj.data.every(e=>isTransactionDigest(e))&&(null===obj.nextCursor||isTransactionDigest(obj.nextCursor))}function normalizeSuiAddress(value,forceAdd0x=!1){let address=value.toLowerCase();return!forceAdd0x&&address.startsWith("0x")&&(address=address.slice(2)),`0x${address.padStart(40,"0")}`}function getObjectExistsResponse(resp){return"Exists"!==resp.status?void 0:resp.details}function getObjectReference(resp){var _a;return(null==(_a=getObjectExistsResponse(resp))?void 0:_a.reference)||("Deleted"!==resp.status?void 0:resp.details)}function getObjectVersion(data){var _a;return"version"in data?data.version:null==(_a=getObjectReference(data))?void 0:_a.version}function getMoveObject(data){let suiObject="data"in data?data:getObjectExistsResponse(data);if((null==suiObject?void 0:suiObject.data.dataType)==="moveObject")return suiObject.data}BigInt(1e9);var DEFAULT_END_TIME=Number.MAX_SAFE_INTEGER;function getOption(option){if(!("object"==typeof option&&null!==option&&"type"in option&&option.type.startsWith("0x1::option::Option<")))return option}var SUI_TYPE_ARG="0x2::sui::SUI",COIN_TYPE_ARG_REGEX=/^0x2::coin::Coin<(.+)>$/,Coin=class{static isCoin(data){var _a;return(null==(_a=Coin.getType(data))?void 0:_a.startsWith("0x2::coin::Coin"))??!1}static getCoinTypeArg(obj){var _a;let res=null==(_a=Coin.getType(obj))?void 0:_a.match(COIN_TYPE_ARG_REGEX);return res?res[1]:null}static isSUI(obj){let arg=Coin.getCoinTypeArg(obj);return!!arg&&"SUI"===Coin.getCoinSymbol(arg)}static getCoinSymbol(coinTypeArg){return coinTypeArg.substring(coinTypeArg.lastIndexOf(":")+1)}static getCoinStructTag(coinTypeArg){return{address:function(value,forceAdd0x=!1){return normalizeSuiAddress(value,forceAdd0x)}(coinTypeArg.split("::")[0]),module:coinTypeArg.split("::")[1],name:coinTypeArg.split("::")[2],typeParams:[]}}static getID(obj){var data,_a;return isSuiMoveObject(obj)?obj.fields.id.id:"objectId"in(data=obj)?data.objectId:(null==(_a=getObjectReference(data))?void 0:_a.objectId)??("NotExists"!==data.status?void 0:data.details)}static selectCoinsWithBalanceGreaterThanOrEqual(coins,amount,exclude=[]){return Coin.sortByBalance(coins.filter(c=>!exclude.includes(Coin.getID(c))&&Coin.getBalance(c)>=amount))}static selectCoinWithBalanceGreaterThanOrEqual(coins,amount,exclude=[]){return coins.find(c=>!exclude.includes(Coin.getID(c))&&Coin.getBalance(c)>=amount)}static selectCoinSetWithCombinedBalanceGreaterThanOrEqual(coins,amount,exclude=[]){let sortedCoins=Coin.sortByBalance(coins.filter(c=>!exclude.includes(Coin.getID(c)))),total=Coin.totalBalance(sortedCoins);if(total<amount)return[];if(total===amount)return sortedCoins;let sum=BigInt(0),ret=[];for(;sum<total;){let target=amount-sum,coinWithSmallestSufficientBalance=sortedCoins.find(c=>Coin.getBalance(c)>=target);if(coinWithSmallestSufficientBalance){ret.push(coinWithSmallestSufficientBalance);break}let coinWithLargestBalance=sortedCoins.pop();ret.push(coinWithLargestBalance),sum+=Coin.getBalance(coinWithLargestBalance)}return Coin.sortByBalance(ret)}static totalBalance(coins){return coins.reduce((partialSum,c)=>partialSum+Coin.getBalance(c),BigInt(0))}static sortByBalance(coins){return coins.sort((a,b)=>Coin.getBalance(a)<Coin.getBalance(b)?-1:Coin.getBalance(a)>Coin.getBalance(b)?1:0)}static getBalance(data){var _a,_a1;if(!Coin.isCoin(data))return;let balance=null==(_a="fields"in data?data.fields:null==(_a1=getMoveObject(data))?void 0:_a1.fields)?void 0:_a.balance;return BigInt(balance)}static getZero(){return BigInt(0)}static getType(data){if("status"in data){var _a;return null==(_a=getMoveObject(data))?void 0:_a.type}return data.type}},_Delegation=class{static isDelegationSuiObject(obj){return"type"in obj.data&&obj.data.type===_Delegation.SUI_OBJECT_TYPE}constructor(obj){this.suiObject=obj}nextRewardUnclaimedEpoch(){return this.suiObject.data.fields.next_reward_unclaimed_epoch}activeDelegation(){return BigInt(getOption(this.suiObject.data.fields.active_delegation)||0)}delegateAmount(){return this.suiObject.data.fields.delegate_amount}endingEpoch(){return getOption(this.suiObject.data.fields.ending_epoch)}validatorAddress(){return this.suiObject.data.fields.validator_address}isActive(){return this.activeDelegation()>0&&!this.endingEpoch()}hasUnclaimedRewards(epoch){return this.nextRewardUnclaimedEpoch()<=epoch&&(this.isActive()||(this.endingEpoch()||0)>epoch)}};_Delegation.SUI_OBJECT_TYPE="0x2::delegation::Delegation";var bcs=new BCS({genericSeparators:["<",">"],vectorType:"vector",addressLength:20,addressEncoding:"hex"});bcs.registerType("utf8string",(writer,str)=>{let bytes=Array.from(buffer.lW.from(str));return writer.writeVec(bytes,(writer2,el)=>writer2.write8(el))},reader=>{let bytes=reader.readVec(reader2=>reader2.read8());return buffer.lW.from(bytes).toString("utf-8")}).registerType("ObjectDigest",(writer,str)=>{let bytes=Array.from(decodeStr(str,"base64"));return writer.writeVec(bytes,(writer2,el)=>writer2.write8(el))},reader=>{let bytes=reader.readVec(reader2=>reader2.read8());return encodeStr(new Uint8Array(bytes),"base64")}),bcs.registerStructType("SuiObjectRef",{objectId:"address",version:"u64",digest:"ObjectDigest"}),bcs.registerStructType("TransferObjectTx",{recipient:"address",object_ref:"SuiObjectRef"}),bcs.registerStructType("PayTx",{coins:"vector<SuiObjectRef>",recipients:"vector<address>",amounts:"vector<u64>"}),bcs.registerStructType("PaySuiTx",{coins:"vector<SuiObjectRef>",recipients:"vector<address>",amounts:"vector<u64>"}),bcs.registerStructType("PayAllSuiTx",{coins:"vector<SuiObjectRef>",recipient:"address"}),bcs.registerEnumType("Option<T>",{None:null,Some:"T"}),bcs.registerStructType("TransferSuiTx",{recipient:"address",amount:"Option<u64>"}),bcs.registerStructType("PublishTx",{modules:"vector<vector<u8>>"}),bcs.registerStructType("SharedObjectRef",{objectId:"address",initialSharedVersion:"u64"}).registerEnumType("ObjectArg",{ImmOrOwned:"SuiObjectRef",Shared:"SharedObjectRef"}).registerEnumType("CallArg",{Pure:"vector<u8>",Object:"ObjectArg",ObjVec:"vector<ObjectArg>"}),bcs.registerEnumType("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:"TypeTag",struct:"StructTag",u16:null,u32:null,u256:null}).registerStructType("StructTag",{address:"address",module:"string",name:"string",typeParams:"vector<TypeTag>"}),bcs.registerStructType("MoveCallTx",{package:"SuiObjectRef",module:"string",function:"string",typeArguments:"vector<TypeTag>",arguments:"vector<CallArg>"}),bcs.registerEnumType("Transaction",{TransferObject:"TransferObjectTx",Publish:"PublishTx",Call:"MoveCallTx",TransferSui:"TransferSuiTx",Pay:"PayTx",PaySui:"PaySuiTx",PayAllSui:"PayAllSuiTx"}),bcs.registerEnumType("TransactionKind",{Single:"Transaction",Batch:"vector<Transaction>"}),bcs.registerStructType("TransactionData",{kind:"TransactionKind",sender:"address",gasPayment:"SuiObjectRef",gasPrice:"u64",gasBudget:"u64"}),bcs.registerEnumType("ObjectArg_Deprecated",{ImmOrOwned:"SuiObjectRef",Shared_Deprecated:"address"}).registerEnumType("CallArg_Deprecated",{Pure:"vector<u8>",Object:"ObjectArg_Deprecated",ObjVec:"vector<ObjectArg_Deprecated>"}).registerStructType("MoveCallTx_Deprecated",{package:"SuiObjectRef",module:"string",function:"string",typeArguments:"vector<TypeTag>",arguments:"vector<CallArg_Deprecated>"}).registerEnumType("Transaction_Deprecated",{TransferObject:"TransferObjectTx",Publish:"PublishTx",Call:"MoveCallTx_Deprecated",TransferSui:"TransferSuiTx",Pay:"PayTx",PaySui:"PaySuiTx",PayAllSui:"PayAllSuiTx"}).registerEnumType("TransactionKind_Deprecated",{Single:"Transaction_Deprecated",Batch:"vector<Transaction_Deprecated>"}).registerStructType("TransactionData_Deprecated",{kind:"TransactionKind_Deprecated",sender:"address",gasPayment:"SuiObjectRef",gasPrice:"u64",gasBudget:"u64"});var getWebsocketUrl=(httpUrl,port)=>{let url=new URL(httpUrl);return url.protocol=url.protocol.replace("http","ws"),url.port=(port??9001).toString(),url.toString()},isMinimumSubscriptionMessage=msg=>msg&&"subscription"in msg&&"number"==typeof msg.subscription&&"result"in msg&&"object"==typeof msg.result,DEFAULT_CLIENT_OPTIONS={connectTimeout:15e3,callTimeout:3e4,reconnectInterval:3e3,maxReconnects:5},SUBSCRIBE_EVENT_METHOD="sui_subscribeEvent",WebsocketClient=class{constructor(endpoint,skipValidation,options=DEFAULT_CLIENT_OPTIONS){this.endpoint=endpoint,this.skipValidation=skipValidation,this.options=options,this.connectionState=0,this.connectionTimeout=null,this.isSetup=!1,this.connectionPromise=null,this.eventSubscriptions=new Map,this.endpoint.startsWith("http")&&(this.endpoint=getWebsocketUrl(this.endpoint)),this.rpcClient=new index_browser.K(this.endpoint,{reconnect_interval:this.options.reconnectInterval,max_reconnects:this.options.maxReconnects,autoconnect:!1})}setupSocket(){this.isSetup||(this.rpcClient.on("open",()=>{this.connectionTimeout&&(clearTimeout(this.connectionTimeout),this.connectionTimeout=null),this.connectionState=2,this.rpcClient.socket.on("message",this.onSocketMessage.bind(this))}),this.rpcClient.on("close",()=>{this.connectionState=0}),this.rpcClient.on("error",console.error),this.isSetup=!0)}onSocketMessage(rawMessage){let msg=JSON.parse(rawMessage),params=msg.params;if(msg.method===SUBSCRIBE_EVENT_METHOD){if(this.skipValidation&&isMinimumSubscriptionMessage(params)){let sub=this.eventSubscriptions.get(params.subscription);sub&&sub.onMessage(params.result)}else if((null!==params&&"object"==typeof params||"function"==typeof params)&&isSuiMoveTypeParameterIndex(params.subscription)&&isSuiEventEnvelope(params.result)){let sub1=this.eventSubscriptions.get(params.subscription);sub1&&sub1.onMessage(params.result)}}}async connect(){return this.connectionPromise?this.connectionPromise:2===this.connectionState?Promise.resolve():(this.setupSocket(),this.rpcClient.connect(),this.connectionState=1,this.connectionPromise=new Promise((resolve,reject)=>{this.connectionTimeout=setTimeout(()=>reject(Error("timeout")),this.options.connectTimeout),this.rpcClient.once("open",()=>{this.refreshSubscriptions(),this.connectionPromise=null,resolve()}),this.rpcClient.once("error",err=>{this.connectionPromise=null,reject(err)})}),this.connectionPromise)}async refreshSubscriptions(){if(0!==this.eventSubscriptions.size)try{let newSubs=new Map;(await Promise.all(Array.from(this.eventSubscriptions.values()).map(async sub=>{let onMessage=sub.onMessage,filter=sub.filter;if(!filter||!onMessage)return Promise.resolve(null);let id=await this.subscribeEvent(filter,onMessage);return{id,onMessage,filter}}))).forEach(entry=>{if(null===entry)return;let filter=entry.filter,onMessage=entry.onMessage;newSubs.set(entry.id,{filter,onMessage})}),this.eventSubscriptions=newSubs}catch(err){throw Error(`error refreshing event subscriptions: ${err}`)}}async subscribeEvent(filter,onMessage){try{2!=this.connectionState&&await this.connect();let subId=await this.rpcClient.call(SUBSCRIBE_EVENT_METHOD,[filter],this.options.callTimeout);return this.eventSubscriptions.set(subId,{filter,onMessage}),subId}catch(err){throw Error(`Error subscribing to event: ${err}, filter: ${JSON.stringify(filter)}`)}}async unsubscribeEvent(id){try{2!=this.connectionState&&await this.connect();let removedOnNode=await this.rpcClient.call("sui_unsubscribeEvent",[id],this.options.callTimeout);return this.eventSubscriptions.delete(id)||removedOnNode}catch(err){throw Error(`Error unsubscribing from event: ${err}, subscription: ${id}}`)}}},Network=((Network2=Network||{}).LOCAL="LOCAL",Network2.DEVNET="DEVNET",Network2),NETWORK_TO_API={LOCAL:{fullNode:"http://127.0.0.1:9000",faucet:"http://127.0.0.1:9123/gas"},DEVNET:{fullNode:"https://fullnode.devnet.sui.io/",faucet:"https://faucet.devnet.sui.io/gas"}};async function requestSuiFromFaucet(endpoint,recipient,httpHeaders){let res=await browser_ponyfill(endpoint,{method:"POST",body:JSON.stringify({FixedAmountRequest:{recipient}}),headers:{"Content-Type":"application/json",...httpHeaders||{}}}),parsed=await res.json();if(parsed.error)throw Error(`Faucet returns error: ${parsed.error}`);return parsed}var isNumber=val=>"number"==typeof val,isAny=_val=>!0,DEFAULT_OPTIONS={skipDataValidation:!0,socketOptions:DEFAULT_CLIENT_OPTIONS,versionCacheTimoutInSeconds:600},JsonRpcProvider=class extends Provider{constructor(endpoint="DEVNET",options=DEFAULT_OPTIONS){super(),this.options=options,Object.values(Network).includes(endpoint)?this.endpoints=NETWORK_TO_API[endpoint]:this.endpoints={fullNode:endpoint,faucet:options.faucetURL};let opts={...DEFAULT_OPTIONS,...options};this.client=new JsonRpcClient(this.endpoints.fullNode),this.wsClient=new WebsocketClient(this.endpoints.fullNode,opts.skipDataValidation,opts.socketOptions)}async getRpcApiVersion(){if(this.rpcApiVersion&&this.cacheExpiry&&this.cacheExpiry<=Date.now())return this.rpcApiVersion;try{let resp=await this.client.requestWithType("rpc.discover",[],isAny,this.options.skipDataValidation);return this.rpcApiVersion=function(version){let versions=version.split(".");return{major:parseInt(versions[0],10),minor:parseInt(versions[1],10),patch:parseInt(versions[2],10)}}(resp.info.version),this.cacheExpiry=Date.now()+(this.options.versionCacheTimoutInSeconds??0),this.rpcApiVersion}catch(err){console.warn("Error fetching version number of the RPC API",err)}}async requestSuiFromFaucet(recipient,httpHeaders){if(!this.endpoints.faucet)throw Error("Faucet URL is not specified");return requestSuiFromFaucet(this.endpoints.faucet,recipient,httpHeaders)}async getMoveFunctionArgTypes(packageId,moduleName,functionName){try{return await this.client.requestWithType("sui_getMoveFunctionArgTypes",[packageId,moduleName,functionName],isSuiMoveFunctionArgTypes,this.options.skipDataValidation)}catch(err){throw Error(`Error fetching Move function arg types with package object ID: ${packageId}, module name: ${moduleName}, function name: ${functionName}`)}}async getNormalizedMoveModulesByPackage(packageId){try{return await this.client.requestWithType("sui_getNormalizedMoveModulesByPackage",[packageId],isSuiMoveNormalizedModules,this.options.skipDataValidation)}catch(err){throw Error(`Error fetching package: ${err} for package ${packageId}`)}}async getNormalizedMoveModule(packageId,moduleName){try{return await this.client.requestWithType("sui_getNormalizedMoveModule",[packageId,moduleName],isSuiMoveNormalizedModule,this.options.skipDataValidation)}catch(err){throw Error(`Error fetching module: ${err} for package ${packageId}, module ${moduleName}}`)}}async getNormalizedMoveFunction(packageId,moduleName,functionName){try{return await this.client.requestWithType("sui_getNormalizedMoveFunction",[packageId,moduleName,functionName],isSuiMoveNormalizedFunction,this.options.skipDataValidation)}catch(err){throw Error(`Error fetching function: ${err} for package ${packageId}, module ${moduleName} and function ${functionName}}`)}}async getNormalizedMoveStruct(packageId,moduleName,structName){try{return await this.client.requestWithType("sui_getNormalizedMoveStruct",[packageId,moduleName,structName],isSuiMoveNormalizedStruct,this.options.skipDataValidation)}catch(err){throw Error(`Error fetching struct: ${err} for package ${packageId}, module ${moduleName} and struct ${structName}}`)}}async getObjectsOwnedByAddress(address){try{return await this.client.requestWithType("sui_getObjectsOwnedByAddress",[address],isGetOwnedObjectsResponse,this.options.skipDataValidation)}catch(err){throw Error(`Error fetching owned object: ${err} for address ${address}`)}}async getGasObjectsOwnedByAddress(address){let objects=await this.getObjectsOwnedByAddress(address);return objects.filter(obj=>Coin.isSUI(obj))}getCoinDenominationInfo(coinType){let[packageId,module,symbol]=coinType.split("::");if(normalizeSuiAddress(packageId)!==normalizeSuiAddress("0x2")||"sui"!=module||"SUI"!==symbol)throw Error("only SUI coin is supported in getCoinDenominationInfo for now.");return{coinType,basicUnit:"MIST",decimalNumber:9}}async getCoinBalancesOwnedByAddress(address,typeArg){let objects=await this.getObjectsOwnedByAddress(address),coinIds=objects.filter(obj=>Coin.isCoin(obj)&&(void 0===typeArg||typeArg===Coin.getCoinTypeArg(obj))).map(c=>c.objectId);return await this.getObjectBatch(coinIds)}async selectCoinsWithBalanceGreaterThanOrEqual(address,amount,typeArg=SUI_TYPE_ARG,exclude=[]){let coins=await this.getCoinBalancesOwnedByAddress(address,typeArg);return await Coin.selectCoinsWithBalanceGreaterThanOrEqual(coins,amount,exclude)}async selectCoinSetWithCombinedBalanceGreaterThanOrEqual(address,amount,typeArg=SUI_TYPE_ARG,exclude=[]){let coins=await this.getCoinBalancesOwnedByAddress(address,typeArg);return await Coin.selectCoinSetWithCombinedBalanceGreaterThanOrEqual(coins,amount,exclude)}async getObjectsOwnedByObject(objectId){try{return await this.client.requestWithType("sui_getObjectsOwnedByObject",[objectId],isGetOwnedObjectsResponse,this.options.skipDataValidation)}catch(err){throw Error(`Error fetching owned object: ${err} for objectId ${objectId}`)}}async getObject(objectId){try{return await this.client.requestWithType("sui_getObject",[objectId],isGetObjectDataResponse,this.options.skipDataValidation)}catch(err){throw Error(`Error fetching object info: ${err} for id ${objectId}`)}}async getObjectRef(objectId){let resp=await this.getObject(objectId);return getObjectReference(resp)}async getObjectBatch(objectIds){let requests=objectIds.map(id=>({method:"sui_getObject",args:[id]}));try{return await this.client.batchRequestWithType(requests,isGetObjectDataResponse,this.options.skipDataValidation)}catch(err){throw Error(`Error fetching object info: ${err} for id ${objectIds}`)}}async getTransactions(query,cursor=null,limit=null,order="Descending"){try{return await this.client.requestWithType("sui_getTransactions",[query,cursor,limit,order],isPaginatedTransactionDigests,this.options.skipDataValidation)}catch(err){throw Error(`Error getting transactions for query: ${err} for query ${query}`)}}async getTransactionsForObject(objectID,ordering="Descending"){try{let results=await this.client.batchRequestWithType([{method:"sui_getTransactions",args:[{InputObject:objectID},null,null,ordering]},{method:"sui_getTransactions",args:[{MutatedObject:objectID},null,null,ordering]}],isPaginatedTransactionDigests,this.options.skipDataValidation);return[...results[0].data,...results[1].data]}catch(err){throw Error(`Error getting transactions for object: ${err} for id ${objectID}`)}}async getTransactionsForAddress(addressID,ordering="Descending"){try{let results=await this.client.batchRequestWithType([{method:"sui_getTransactions",args:[{ToAddress:addressID},null,null,ordering]},{method:"sui_getTransactions",args:[{FromAddress:addressID},null,null,ordering]}],isPaginatedTransactionDigests,this.options.skipDataValidation);return[...results[0].data,...results[1].data]}catch(err){throw Error(`Error getting transactions for address: ${err} for id ${addressID}`)}}async getTransactionWithEffects(digest){try{let resp=await this.client.requestWithType("sui_getTransaction",[digest],isSuiTransactionResponse,this.options.skipDataValidation);return resp}catch(err){throw Error(`Error getting transaction with effects: ${err} for digest ${digest}`)}}async getTransactionWithEffectsBatch(digests){let requests=digests.map(d=>({method:"sui_getTransaction",args:[d]}));try{return await this.client.batchRequestWithType(requests,isSuiTransactionResponse,this.options.skipDataValidation)}catch(err){let list=digests.join(", ").substring(0,-2);throw Error(`Error getting transaction effects: ${err} for digests [${list}]`)}}async executeTransactionWithRequestType(txnBytes,signatureScheme,signature,pubkey,requestType="WaitForEffectsCert"){try{let resp=await this.client.requestWithType("sui_executeTransaction",[txnBytes,signatureScheme,signature,pubkey,requestType],isSuiExecuteTransactionResponse,this.options.skipDataValidation);return resp}catch(err){throw Error(`Error executing transaction with request type: ${err}}`)}}async getTotalTransactionNumber(){try{let resp=await this.client.requestWithType("sui_getTotalTransactionNumber",[],isNumber,this.options.skipDataValidation);return resp}catch(err){throw Error(`Error fetching total transaction number: ${err}`)}}async getTransactionDigestsInRange(start,end){try{return await this.client.requestWithType("sui_getTransactionsInRange",[start,end],isGetTxnDigestsResponse,this.options.skipDataValidation)}catch(err){throw Error(`Error fetching transaction digests in range: ${err} for range ${start}-${end}`)}}async getEventsByTransaction(digest,count=100){try{return await this.client.requestWithType("sui_getEventsByTransaction",[digest,count],isSuiEvents,this.options.skipDataValidation)}catch(err){throw Error(`Error getting events by transaction: ${digest}, with error: ${err}`)}}async getEventsByModule(package_,module,count=100,startTime=0,endTime=DEFAULT_END_TIME){try{return await this.client.requestWithType("sui_getEventsByModule",[package_,module,count,startTime,endTime],isSuiEvents,this.options.skipDataValidation)}catch(err){throw Error(`Error getting events by transaction module: ${package_}::${module}, with error: ${err}`)}}async getEventsByMoveEventStructName(moveEventStructName,count=100,startTime=0,endTime=DEFAULT_END_TIME){try{return await this.client.requestWithType("sui_getEventsByMoveEventStructName",[moveEventStructName,count,startTime,endTime],isSuiEvents,this.options.skipDataValidation)}catch(err){throw Error(`Error getting events by move event struct name: ${moveEventStructName}, with error: ${err}`)}}async getEventsBySender(sender,count=100,startTime=0,endTime=DEFAULT_END_TIME){try{return await this.client.requestWithType("sui_getEventsBySender",[sender,count,startTime,endTime],isSuiEvents,this.options.skipDataValidation)}catch(err){throw Error(`Error getting events by sender: ${sender}, with error: ${err}`)}}async getEventsByRecipient(recipient,count=100,startTime=0,endTime=DEFAULT_END_TIME){try{return await this.client.requestWithType("sui_getEventsByRecipient",[recipient,count,startTime,endTime],isSuiEvents,this.options.skipDataValidation)}catch(err){throw Error(`Error getting events by receipient: ${recipient}, with error: ${err}`)}}async getEventsByObject(object,count=100,startTime=0,endTime=DEFAULT_END_TIME){try{return await this.client.requestWithType("sui_getEventsByObject",[object,count,startTime,endTime],isSuiEvents,this.options.skipDataValidation)}catch(err){throw Error(`Error getting events by object: ${object}, with error: ${err}`)}}async getEventsByTimeRange(count=100,startTime=0,endTime=DEFAULT_END_TIME){try{return await this.client.requestWithType("sui_getEventsByTimeRange",[count,startTime,endTime],isSuiEvents,this.options.skipDataValidation)}catch(err){throw Error(`Error getting events by time range: ${startTime} thru ${endTime}, with error: ${err}`)}}async subscribeEvent(filter,onMessage){return this.wsClient.subscribeEvent(filter,onMessage)}async unsubscribeEvent(id){return this.wsClient.unsubscribeEvent(id)}};Array.from("TransactionData::").map(e=>e.charCodeAt(0));var RawSigner=class extends null{constructor(keypair,provider,serializer){super(provider,serializer),this.keypair=keypair}async getAddress(){return this.keypair.getPublicKey().toSuiAddress()}async signData(data){return{signatureScheme:this.keypair.getKeyScheme(),signature:this.keypair.signData(data),pubKey:this.keypair.getPublicKey()}}connect(provider){return new RawSigner(this.keypair,provider)}}}},function(__webpack_require__){var __webpack_exec__=function(moduleId){return __webpack_require__(__webpack_require__.s=moduleId)};__webpack_require__.O(0,[774,179],function(){return __webpack_exec__(6840),__webpack_exec__(880)}),_N_E=__webpack_require__.O()}]);