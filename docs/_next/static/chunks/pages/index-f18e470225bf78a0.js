(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return __webpack_require__(6784)}])},6784:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return pages}});var jsx_runtime=__webpack_require__(5893);let Header=()=>(0,jsx_runtime.jsx)("div",{className:"flex justify-between p-3",children:(0,jsx_runtime.jsx)("div",{children:"Sui Chess"})}),Footer=()=>(0,jsx_runtime.jsx)("div",{children:"Footer"});var SignInModal=__webpack_require__(52),react=__webpack_require__(7294),useWallet=__webpack_require__(2330),bignumber=__webpack_require__(7864);let n=(r,f=6)=>{if(void 0===r)return"---";let t="",e=new bignumber.Z(r.toString()).shiftedBy(-1*f);return e.gte(1e9)?(e=e.shiftedBy(-9),t=" B"):e.gte(1e6)?(e=e.shiftedBy(-6),t=" M"):e.gte(1e4)&&(e=e.shiftedBy(-3),t=" K"),(e=e.gte(1)?e.decimalPlaces(3,bignumber.Z.ROUND_DOWN):e.decimalPlaces(6,bignumber.Z.ROUND_DOWN)).toFormat()+t},Sui_l=({width:t=24,color:e="#6EBCEE"})=>react.createElement("svg",{id:"SuiSvg",xmlns:"http://www.w3.org/2000/svg",width:t,height:t*(40/28),viewBox:"-1 0 28 40"},react.createElement("path",{d:"M1.8611,33.0541a13.6477,13.6477,0,0,0,23.7778,0,13.89,13.89,0,0,0,0-13.8909L15.1824.8368a1.6444,1.6444,0,0,0-2.8648,0L1.8611,19.1632A13.89,13.89,0,0,0,1.8611,33.0541ZM10.8044,9.5555,13.0338,5.648a.8222.8222,0,0,1,1.4324,0L23.043,20.68a10.8426,10.8426,0,0,1,.8873,8.8828,9.4254,9.4254,0,0,0-.4388-1.4586c-1.1847-3.0254-3.8634-5.36-7.9633-6.9393-2.8187-1.0819-4.618-2.6731-5.3491-4.73C9.2375,13.7848,10.221,10.8942,10.8044,9.5555ZM7.0028,16.2184,4.457,20.68a10.8569,10.8569,0,0,0,0,10.8582,10.6776,10.6776,0,0,0,16.1566,2.935,7.5061,7.5061,0,0,0,.0667-5.2913c-.87-2.1858-2.9646-3.9308-6.2252-5.1876-3.6857-1.4147-6.08-3.6233-7.1157-6.5625A9.297,9.297,0,0,1,7.0028,16.2184Z",style:{fill:e,fillRule:"evenodd"}})),AddressWidget_n=({buttonColor:s="red"})=>{var e;let{wallet:r}=(0,useWallet.Z)();return console.log("BUTTON COLOR",s),react.createElement("div",{style:a()},react.createElement("div",null,react.createElement(Sui_l,{color:"#222532",width:12})),react.createElement("div",null,n(null==(e=null==r?void 0:r.contents)?void 0:e.suiBalance)),react.createElement("div",{style:p()},null==r?void 0:r.address))},a=()=>({display:"flex",justifyContent:"center",gap:"6px"}),p=()=>({borderRadius:"30px",backgroundColor:"#f2f1f0",margin:"3px"});var login=__webpack_require__(6970),log=__webpack_require__(9907);let logout_n=async(o,t=!1)=>{(0,log.Z)("logout",`-- Wallet ${t} --`,`-- Is Extension: ${null==o?void 0:o.type} --`,`-- Disconnect: ${!!(null==o?void 0:o.disconnect)} --`,"signer",o),"extension"!==o.type&&t?await o.logout():await o.disconnect()},r=async({signer:s,message:n})=>s.sign(n),transact_r=async({signer:a,signableTransaction:n})=>((0,log.Z)("transact","Starting transaction",a,n),a.signAndExecuteTransaction(n)),preapprove_a=async({signer:r,preapproval:p})=>r.requestPreapproval(p);var getWalletContents=__webpack_require__(8893),Signer=__webpack_require__(4657),getIframe=__webpack_require__(6236);let showWallet_i=e=>{e.type!==Signer.j.Extension&&(0,getIframe.Z)(!0)},hideWallet_i=e=>{e.type!==Signer.j.Extension&&(0,getIframe.Z)(!1)};var dist=__webpack_require__(3529);let o=async({address:r})=>new dist.r6k(dist.ZcK.DEVNET).requestSuiFromFaucet(r);var store2=__webpack_require__(5228);let lookup_g=async c=>{let r=new dist.r6k(dist.ZcK.DEVNET),t="0x8fa9d9f306d82a49240139dc6750cbc28be03dbc",i=store2.namespace("lookup"),s=await i(t),{version:d,timestamp:m}=s||{},{suiNSRecords:e}=s||{};if(e&&Date.now()-m>3e4){let o=await r.getObjectRef(t);o&&d!==(0,dist.OSf)(o)&&(e=null),s.timestamp=Date.now(),i(t,s)}if(!e){let o1=await r.getObject(t);if("Exists"===o1.status){let a=o1.details,u=a.data.fields.records.fields.contents;for(let p of(e={},u)){let{key:n,value:l}=p.fields,{owner:f}=l.fields;e[n]=f,-1===n.indexOf("addr.reverse")&&(e[f]=n)}let{version:b}=a.reference,j=Date.now();i(t,{version:b,timestamp:j,suiNSRecords:e})}}return e&&e[c]||c},truncateMiddle_i=(e,c=6)=>`${e.slice(0,c)}...${e.slice(-1*c)}`;var ProviderAndSignerContext=__webpack_require__(1919);let useProviderAndSigner_n=()=>(0,react.useContext)(ProviderAndSignerContext.Z),useAddress_o=()=>{let{signer:e}=useProviderAndSigner_n(),[r,s]=(0,react.useState)(null);return(0,react.useEffect)(()=>{e&&e.getAddress().then(t=>s(t))},[e]),r};var ContentsContext=__webpack_require__(5148);let useContents_o=()=>(0,react.useContext)(ContentsContext.Z),k={login:login.Z,logout:logout_n,sign:r,transact:transact_r,preapprove:preapprove_a,showWallet:showWallet_i,hideWallet:hideWallet_i,showSignInModal:SignInModal.Mb,hideSignInModal:SignInModal.ap,useProviderAndSigner:useProviderAndSigner_n,useAddress:useAddress_o,useContents:useContents_o,useWallet:useWallet.Z,getWalletContents:getWalletContents.Z,dripSui:o,lookup:lookup_g,formatBalance:n,truncateMiddle:truncateMiddle_i,AddressWidget:AddressWidget_n};var Loader=__webpack_require__(1673);let Button_e=n=>{let{children:r,onClick:t,isWorking:i,workingComponent:s,...p}=n;return react.createElement("button",{onClick:t,...p},i?s||react.createElement("span",{className:"block p-2"},react.createElement(Loader.Z,{width:32})):react.createElement(react.Fragment,null,r))};var useModal=__webpack_require__(1721);let SignInButton_d=t=>{let{children:r,onClick:n,...e}=t,{openModal:i}=(0,useModal.Z)();return react.createElement(react.Fragment,null,react.createElement(Button_e,{onClick(s){i(),n&&n(s)},...e},r||react.createElement(react.Fragment,null,"Sign In")))},Game=()=>{let{wallet}=k.useWallet();return(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("div",{children:"Game"}),(0,jsx_runtime.jsx)("div",{className:"p-12",children:wallet?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(k.AddressWidget,{}),(0,jsx_runtime.jsx)("button",{onClick:wallet.disconnect,children:"Disconnect"})]}):(0,jsx_runtime.jsx)(SignInButton_d,{})})]})},Modal=()=>(0,jsx_runtime.jsx)("div",{}),GamePage=()=>(0,jsx_runtime.jsxs)("div",{className:"container relative",children:[(0,jsx_runtime.jsx)(Modal,{}),(0,jsx_runtime.jsx)(Header,{}),(0,jsx_runtime.jsx)(Game,{}),(0,jsx_runtime.jsx)(Footer,{})]});var pages=GamePage}},function(__webpack_require__){__webpack_require__.O(0,[864,774,888,179],function(){return __webpack_require__(__webpack_require__.s=8312)}),_N_E=__webpack_require__.O()}]);